(function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:false,exports:{}};e[r].call(a.exports,a,a.exports,n);a.l=true;return a.exports}n.m=e;n.c=t;n.i=function(e){return e};n.d=function(e,t,r){if(!n.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:r})}};n.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};n.d(t,"a",t);return t};n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};n.p="";return n(n.s=330)})([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=r;function r(e){if(typeof e!=="string"){throw new TypeError("This library (validator.js) validates strings only")}}e.exports=t["default"]},function(e,t,n){"use strict";var r=function e(t){};if(false){r=function e(t){if(t===undefined){throw new Error("invariant requires an error message argument")}}}function a(e,t,n,a,o,i,s,u){r(t);if(!e){var l;if(t===undefined){l=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var c=[n,a,o,i,s,u];var f=0;l=new Error(t.replace(/%s/g,function(){return c[f++]}));l.name="Invariant Violation"}l.framesToPop=1;throw l}}e.exports=a},function(e,t,n){"use strict";var r=n(11);var a=r;if(false){(function(){var e=function e(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++){r[a-1]=arguments[a]}var o=0;var i="Warning: "+t.replace(/%s/g,function(){return r[o++]});if(typeof console!=="undefined"){console.error(i)}try{throw new Error(i)}catch(e){}};a=function t(n,r){if(r===undefined){throw new Error("`warning(condition, format, ...args)` requires a warning "+"message argument")}if(r.indexOf("Failed Composite propType: ")===0){return}if(!n){for(var a=arguments.length,o=Array(a>2?a-2:0),i=2;i<a;i++){o[i-2]=arguments[i]}e.apply(undefined,[r].concat(o))}}})()}e.exports=a},function(e,t,n){"use strict";function r(e){var t=arguments.length-1;var n="Minified React error #"+e+"; visit "+"http://facebook.github.io/react/docs/error-decoder.html?invariant="+e;for(var r=0;r<t;r++){n+="&args[]="+encodeURIComponent(arguments[r+1])}n+=" for the full message or use the non-minified dev environment"+" for full errors and additional helpful warnings.";var a=new Error(n);a.name="Invariant Violation";a.framesToPop=1;throw a}e.exports=r},function(e,t,n){"use strict";e.exports=n(23)},function(e,t,n){"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var r=Object.getOwnPropertySymbols;var a=Object.prototype.hasOwnProperty;var o=Object.prototype.propertyIsEnumerable;function i(e){if(e===null||e===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(e)}function s(){try{if(!Object.assign){return false}var e=new String("abc");e[5]="de";if(Object.getOwnPropertyNames(e)[0]==="5"){return false}var t={};for(var n=0;n<10;n++){t["_"+String.fromCharCode(n)]=n}var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if(r.join("")!=="0123456789"){return false}var a={};"abcdefghijklmnopqrst".split("").forEach(function(e){a[e]=e});if(Object.keys(Object.assign({},a)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}e.exports=s()?Object.assign:function(e,t){var n;var s=i(e);var u;for(var l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n){if(a.call(n,c)){s[c]=n[c]}}if(r){u=r(n);for(var f=0;f<u.length;f++){if(o.call(n,u[f])){s[u[f]]=n[u[f]]}}}}return s}},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=function(e){u(t,e);function t(){i(this,t);return s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}o(t,[{key:"_bind",value:function e(){var t=this;for(var n=arguments.length,r=Array(n),a=0;a<n;a++){r[a]=arguments[a]}r.forEach(function(e){return t[e]=t[e].bind(t)})}},{key:"render",value:function e(){return a.a.createElement("div",null)}}]);return t}(r["Component"]);t["a"]=l},function(e,t,n){"use strict";var r=n(3);var a=n(21);var o=n(79);var i=n(1);var s=a.ID_ATTRIBUTE_NAME;var u=o;var l="__reactInternalInstance$"+Math.random().toString(36).slice(2);function c(e,t){return e.nodeType===1&&e.getAttribute(s)===String(t)||e.nodeType===8&&e.nodeValue===" react-text: "+t+" "||e.nodeType===8&&e.nodeValue===" react-empty: "+t+" "}function f(e){var t;while(t=e._renderedComponent){e=t}return e}function p(e,t){var n=f(e);n._hostNode=t;t[l]=n}function d(e){var t=e._hostNode;if(t){delete t[l];e._hostNode=null}}function h(e,t){if(e._flags&u.hasCachedChildNodes){return}var n=e._renderedChildren;var a=t.firstChild;e:for(var o in n){if(!n.hasOwnProperty(o)){continue}var s=n[o];var l=f(s)._domID;if(l===0){continue}for(;a!==null;a=a.nextSibling){if(c(a,l)){p(s,a);continue e}}true?false?i(false,"Unable to find element with ID %s.",l):r("32",l):void 0}e._flags|=u.hasCachedChildNodes}function m(e){if(e[l]){return e[l]}var t=[];while(!e[l]){t.push(e);if(e.parentNode){e=e.parentNode}else{return null}}var n;var r;for(;e&&(r=e[l]);e=t.pop()){n=r;if(t.length){h(r,e)}}return n}function v(e){var t=m(e);if(t!=null&&t._hostNode===e){return t}else{return null}}function y(e){!(e._hostNode!==undefined)?false?i(false,"getNodeFromInstance: Invalid argument."):r("33"):void 0;if(e._hostNode){return e._hostNode}var t=[];while(!e._hostNode){t.push(e);!e._hostParent?false?i(false,"React DOM tree root should always have a node reference."):r("34"):void 0;e=e._hostParent}for(;t.length;e=t.pop()){h(e,e._hostNode)}return e._hostNode}var g={getClosestInstanceFromNode:m,getInstanceFromNode:v,getNodeFromInstance:y,precacheChildNodes:h,precacheNode:p,uncacheNode:d};e.exports=g},function(e,t,n){"use strict";t.__esModule=true;t.connect=t.Provider=undefined;var r=n(254);var a=s(r);var o=n(255);var i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}t.Provider=a["default"];t.connect=i["default"]},function(e,t,n){"use strict";n.d(t,"v",function(){return r});n.d(t,"w",function(){return a});n.d(t,"j",function(){return o});n.d(t,"f",function(){return i});n.d(t,"i",function(){return s});n.d(t,"x",function(){return u});n.d(t,"k",function(){return c});n.d(t,"c",function(){return p});n.d(t,"a",function(){return d});n.d(t,"d",function(){return h});n.d(t,"y",function(){return v});n.d(t,"p",function(){return y});n.d(t,"n",function(){return g});n.d(t,"o",function(){return b});n.d(t,"b",function(){return _});n.d(t,"r",function(){return x});n.d(t,"h",function(){return w});n.d(t,"u",function(){return S});n.d(t,"e",function(){return T});n.d(t,"s",function(){return M});n.d(t,"t",function(){return C});n.d(t,"g",function(){return k});n.d(t,"q",function(){return I});n.d(t,"m",function(){return P});n.d(t,"l",function(){return D});var r=function e(t,n,r){return{type:"LOGIN",xAuth:t,userId:n,email:r}};var a=function e(){return{type:"LOGOUT"}};var o=function e(t){return{type:"TOGGLE_VISIBILITY",id:t}};var i=function e(t){return{type:"UPDATE_DISTANCE_FILTER",distance:t}};var s=function e(t){return{type:"DISPLAY_TRAILS",trails:t}};var u=function e(){return{type:"CLEAR_TRAILS"}};var l=function e(t,n,r,a){return{type:"SAVE_TRAIL",list:t,name:n,desc:r,bounds:a}};var c=function e(t){return{type:"DEL_TRAIL",name:t}};var f=function e(t){return{type:"SHOW_TRAIL",id:t}};var p=function e(t){return{type:"WATCH_GPS",watcher:t}};var d=function e(t){return{type:"UPDATE_POS",position:t}};var h=function e(t){return{type:"MOCK_POS",position:t}};var m=function e(){return{type:"UNMOCK_POS"}};var v=function e(){return{type:"TOGGLE_MAP_CENTERING"}};var y=function e(){return{type:"TRACK_ROUTE"}};var g=function e(){return{type:"STOP_TRACKING_ROUTE"}};var b=function e(){return{type:"CLEAR_ROUTE_LIST"}};var _=function e(t){return{type:"ADD_TO_ROUTE_LIST",position:t}};var x=function e(t){return{type:"ADD_POI",feature:t}};var w=function e(t){return{type:"ADD_ROUTE",feature:t}};var E=function e(t){return{type:"UPDATE_GEO_JSON",point:t}};var S=function e(t){return{type:"REPLACE_GEO_JSON",features:t}};var T=function e(){return{type:"UPDATE_MAP"}};var M=function e(){return{type:"COMPLETE_UPDATE_MAP"}};var C=function e(t){return{type:"STORE_CENTER",center:t}};var k=function e(t){return{type:"UPDATE_SEARCH_TEXT",updateSearchText:t}};var I=function e(t){return{type:"SET_POI_SEARCH_TEXT",POISearchText:t}};var P=function e(t){return{type:"SET_ROUTES_SEARCH_TEXT",RoutesSearchText:t}};var D=function e(t){return{type:"SET_TRAIL_SEARCH_TEXT",trailSearchText:t}}},function(e,t,n){"use strict";var r=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);var a={canUseDOM:r,canUseWorkers:typeof Worker!=="undefined",canUseEventListeners:r&&!!(window.addEventListener||window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=a},function(e,t,n){"use strict";function r(e){return function(){return e}}var a=function e(){};a.thatReturns=r;a.thatReturnsFalse=r(false);a.thatReturnsTrue=r(true);a.thatReturnsNull=r(null);a.thatReturnsThis=function(){return this};a.thatReturnsArgument=function(e){return e};e.exports=a},function(e,t){e.exports=jQuery},function(e,t,n){"use strict";var r=null;if(false){var a=require("./ReactDebugTool");r=a}e.exports={debugTool:r}},function(e,t,n){"use strict";var r=n(3),a=n(5);var o=n(77);var i=n(19);var s=n(82);var u=n(22);var l=n(38);var c=n(1);var f=[];var p=0;var d=o.getPooled();var h=false;var m=null;function v(){!(k.ReactReconcileTransaction&&m)?false?c(false,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):r("123"):void 0}var y={initialize:function(){this.dirtyComponentsLength=f.length},close:function(){if(this.dirtyComponentsLength!==f.length){f.splice(0,this.dirtyComponentsLength);S()}else{f.length=0}}};var g={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}};var b=[y,g];function _(){this.reinitializeTransaction();this.dirtyComponentsLength=null;this.callbackQueue=o.getPooled();this.reconcileTransaction=k.ReactReconcileTransaction.getPooled(true)}a(_.prototype,l,{getTransactionWrappers:function(){return b},destructor:function(){this.dirtyComponentsLength=null;o.release(this.callbackQueue);this.callbackQueue=null;k.ReactReconcileTransaction.release(this.reconcileTransaction);this.reconcileTransaction=null},perform:function(e,t,n){return l.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}});i.addPoolingTo(_);function x(e,t,n,r,a,o){v();return m.batchedUpdates(e,t,n,r,a,o)}function w(e,t){return e._mountOrder-t._mountOrder}function E(e){var t=e.dirtyComponentsLength;!(t===f.length)?false?c(false,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",t,f.length):r("124",t,f.length):void 0;f.sort(w);p++;for(var n=0;n<t;n++){var a=f[n];var o=a._pendingCallbacks;a._pendingCallbacks=null;var i;if(s.logTopLevelRenders){var l=a;if(a._currentElement.type.isReactTopLevelWrapper){l=a._renderedComponent}i="React update: "+l.getName();console.time(i)}u.performUpdateIfNecessary(a,e.reconcileTransaction,p);if(i){console.timeEnd(i)}if(o){for(var d=0;d<o.length;d++){e.callbackQueue.enqueue(o[d],a.getPublicInstance())}}}}var S=function(){while(f.length||h){if(f.length){var e=_.getPooled();e.perform(E,null,e);_.release(e)}if(h){h=false;var t=d;d=o.getPooled();t.notifyAll();o.release(t)}}};function T(e){v();if(!m.isBatchingUpdates){m.batchedUpdates(T,e);return}f.push(e);if(e._updateBatchNumber==null){e._updateBatchNumber=p+1}}function M(e,t){!m.isBatchingUpdates?false?c(false,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):r("125"):void 0;d.enqueue(e,t);h=true}var C={injectReconcileTransaction:function(e){!e?false?c(false,"ReactUpdates: must provide a reconcile transaction class"):r("126"):void 0;k.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){!e?false?c(false,"ReactUpdates: must provide a batching strategy"):r("127"):void 0;!(typeof e.batchedUpdates==="function")?false?c(false,"ReactUpdates: must provide a batchedUpdates() function"):r("128"):void 0;!(typeof e.isBatchingUpdates==="boolean")?false?c(false,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):r("129"):void 0;m=e}};var k={ReactReconcileTransaction:null,batchedUpdates:x,enqueueUpdate:T,flushBatchedUpdates:S,injection:C,asap:M};e.exports=k},function(e,t,n){"use strict";var r=n(12);var a=n.n(r);var o=n(27);var i=n.n(o);t["b"]=s;n.d(t,"f",function(){return u});n.d(t,"e",function(){return c});t["a"]=p;n.d(t,"d",function(){return d});n.d(t,"c",function(){return h});function s(e,t){return!Number.isNaN(e)&&!Number.isNaN(t)&&e<=90&&e>=-90&&t<=180&&t>=-180}var u=function e(t,n,r){return Promise.all([a.a.get("/pois?lat="+t+"&lng="+n+"&dist="+r),a.a.get("/routes?lat="+t+"&lng="+n+"&dist="+r)]).then(function(e){var t=e.reduce(function(e,t){var n=[];for(var r in t){if(Array.isArray(t[r])){t[r].forEach(function(e){if(l(e))n.push(e)})}}return e.concat(n)},[]);return Promise.resolve(t)}).catch(function(e){return Promise.reject(e)})};var l=function e(t){var n=t.geometry,r=n.coordinates,a=n.type;if(r.length<=1){return false}if(a==="LineString"&&r.filter(function(e){return e.length!==2}).length>0){return false}if(t.delete){return false}return true};var c=function e(t,n){var r={type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{"marker-color":"cyan","marker-size":"large","marker-symbol":"icon-color",name:"You"},geometry:{type:"Point",coordinates:t}}]}};var a={id:"You Are Here",type:"symbol",source:"user",layout:{"icon-image":"marker-15","icon-size":2,"text-field":"{name}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":10,"text-offset":[0,1],"text-anchor":"top",visibility:"visible"}};var o={type:"geojson",data:{type:"FeatureCollection",features:n}};function i(e,t){var n=e.properties.name,r=e.geometry;var a="";var o={};switch(r.type){case"Point":a="symbol";o={"icon-image":"marker-15","text-field":"{name}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":10,"text-offset":[0,.6],"text-anchor":"top",visibility:"none"};break;case"LineString":a="line";o={"line-join":"round","line-cap":"round",visibility:"none"};t.addLayer({id:n+" label",type:"symbol",source:"geoJSON",layout:{"text-field":"{name}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":10,"text-offset":[0,.6],"text-anchor":"top",visibility:"none"},filter:["==","name",n]});break;default:throw new Error("Unknown feature type "+e.geometry.type)}t.addLayer({id:n,type:a,source:"geoJSON",layout:o,filter:["==","name",n]})}return{userSource:r,userLayer:a,geoJSONSource:o,addGeoJSONLayers:i}};function f(e,t){var n=[];for(var r in t){if(e[r]!=t[r]){n.push([r,e[r],t[r]])}}return n}function p(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:30;var r=[e.latitude,e.longitude,t.latitude,t.longitude].every(function(e){return!Number.isNaN(e)});var a={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[e.latitude,e.longitude]}};var o={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[t.latitude,t.longitude]}};return r&&i()(a,o,"miles")>=n/5280}var d=function e(t){if(a()(".hidecontrols").hasClass("fa-arrow-left")){if(!a()("button.navbar-toggle").hasClass("collapsed")){a()("button.navbar-toggle").trigger("click")}a()("div.controls").addClass("hide-left");a()(".hidecontrols").removeClass("fa-arrow-left").addClass("fa-arrow-right");a()("#Header").addClass("minified-header").css("overflow","hidden");a()(".headerhidecontrols").css("display","inline-block")}else{a()("div.controls").removeClass("hide-left");a()(".hidecontrols").removeClass("fa-arrow-right").addClass("fa-arrow-left");a()("#Header").removeClass("minified-header");setTimeout(function(){a()("#Header").css("overflow","visible");a()(".headerhidecontrols").css("display","none")},t)}};var h=function e(t){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t]}},function(e,t,n){"use strict";var r=n(5);var a=n(19);var o=n(11);var i=n(2);var s=false;var u=typeof Proxy==="function";var l=["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"];var c={type:null,target:null,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function f(e,t,n,r){if(false){delete this.nativeEvent;delete this.preventDefault;delete this.stopPropagation}this.dispatchConfig=e;this._targetInst=t;this.nativeEvent=n;var a=this.constructor.Interface;for(var i in a){if(!a.hasOwnProperty(i)){continue}if(false){delete this[i]}var s=a[i];if(s){this[i]=s(n)}else{if(i==="target"){this.target=r}else{this[i]=n[i]}}}var u=n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===false;if(u){this.isDefaultPrevented=o.thatReturnsTrue}else{this.isDefaultPrevented=o.thatReturnsFalse}this.isPropagationStopped=o.thatReturnsFalse;return this}r(f.prototype,{preventDefault:function(){this.defaultPrevented=true;var e=this.nativeEvent;if(!e){return}if(e.preventDefault){e.preventDefault()}else if(typeof e.returnValue!=="unknown"){e.returnValue=false}this.isDefaultPrevented=o.thatReturnsTrue},stopPropagation:function(){var e=this.nativeEvent;if(!e){return}if(e.stopPropagation){e.stopPropagation()}else if(typeof e.cancelBubble!=="unknown"){e.cancelBubble=true}this.isPropagationStopped=o.thatReturnsTrue},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e){if(false){Object.defineProperty(this,t,p(t,e[t]))}else{this[t]=null}}for(var n=0;n<l.length;n++){this[l[n]]=null}if(false){Object.defineProperty(this,"nativeEvent",p("nativeEvent",null));Object.defineProperty(this,"preventDefault",p("preventDefault",o));Object.defineProperty(this,"stopPropagation",p("stopPropagation",o))}}});f.Interface=c;if(false){if(u){f=new Proxy(f,{construct:function(e,t){return this.apply(e,Object.create(e.prototype),t)},apply:function(e,t,n){return new Proxy(e.apply(t,n),{set:function(e,t,n){if(t!=="isPersistent"&&!e.constructor.Interface.hasOwnProperty(t)&&l.indexOf(t)===-1){process.env.NODE_ENV!=="production"?i(s||e.isPersistent(),"This synthetic event is reused for performance reasons. If you're "+"seeing this, you're adding a new property in the synthetic event object. "+"The property is never released. See "+"https://fb.me/react-event-pooling for more information."):void 0;s=true}e[t]=n;return true}})}})}}f.augmentClass=function(e,t){var n=this;var o=function(){};o.prototype=n.prototype;var i=new o;r(i,e.prototype);e.prototype=i;e.prototype.constructor=e;e.Interface=r({},n.Interface,t);e.augmentClass=n.augmentClass;a.addPoolingTo(e,a.fourArgumentPooler)};a.addPoolingTo(f,a.fourArgumentPooler);e.exports=f;function p(e,t){var n=typeof t==="function";return{configurable:true,set:r,get:a};function r(e){var t=n?"setting the method":"setting the property";o(t,"This is effectively a no-op");return e}function a(){var e=n?"accessing the method":"accessing the property";var r=n?"This is a no-op function":"This is set to null";o(e,r);return t}function o(t,n){var r=false;false?i(r,"This synthetic event is reused for performance reasons. If you're seeing this, "+"you're %s `%s` on a released/nullified synthetic event. %s. "+"If you must keep the original synthetic event around, use event.persist(). "+"See https://fb.me/react-event-pooling for more information.",t,e,n):void 0}}},function(e,t,n){"use strict";var r={current:null};e.exports=r},function(e,t,n){if(false){var r=typeof Symbol==="function"&&Symbol.for&&Symbol.for("react.element")||60103;var a=function(e){return typeof e==="object"&&e!==null&&e.$$typeof===r};var o=true;e.exports=require("./factoryWithTypeCheckers")(a,o)}else{e.exports=n(185)()}},function(e,t,n){"use strict";var r=n(3);var a=n(1);var o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();t.call(n,e);return n}else{return new t(e)}};var i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();n.call(r,e,t);return r}else{return new n(e,t)}};var s=function(e,t,n){var r=this;if(r.instancePool.length){var a=r.instancePool.pop();r.call(a,e,t,n);return a}else{return new r(e,t,n)}};var u=function(e,t,n,r){var a=this;if(a.instancePool.length){var o=a.instancePool.pop();a.call(o,e,t,n,r);return o}else{return new a(e,t,n,r)}};var l=function(e){var t=this;!(e instanceof t)?false?a(false,"Trying to release an instance into a pool of a different type."):r("25"):void 0;e.destructor();if(t.instancePool.length<t.poolSize){t.instancePool.push(e)}};var c=10;var f=o;var p=function(e,t){var n=e;n.instancePool=[];n.getPooled=t||f;if(!n.poolSize){n.poolSize=c}n.release=l;return n};var d={addPoolingTo:p,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:s,fourArgumentPooler:u};e.exports=d},function(e,t,n){"use strict";var r=n(44);var a=n(40);var o=n(52);var i=n(94);var s=1;var u=11;var l=typeof document!=="undefined"&&typeof document.documentMode==="number"||typeof navigator!=="undefined"&&typeof navigator.userAgent==="string"&&/\bEdge\/\d/.test(navigator.userAgent);function c(e){if(!l){return}var t=e.node;var n=e.children;if(n.length){for(var r=0;r<n.length;r++){f(t,n[r],null)}}else if(e.html!=null){a(t,e.html)}else if(e.text!=null){i(t,e.text)}}var f=o(function(e,t,n){if(t.node.nodeType===u||t.node.nodeType===s&&t.node.nodeName.toLowerCase()==="object"&&(t.node.namespaceURI==null||t.node.namespaceURI===r.html)){c(t);e.insertBefore(t.node,n)}else{e.insertBefore(t.node,n);c(t)}});function p(e,t){e.parentNode.replaceChild(t.node,e);c(t)}function d(e,t){if(l){e.children.push(t)}else{e.node.appendChild(t.node)}}function h(e,t){if(l){e.html=t}else{a(e.node,t)}}function m(e,t){if(l){e.text=t}else{i(e.node,t)}}function v(){return this.node.nodeName}function y(e){return{node:e,children:[],html:null,text:null,toString:v}}y.insertTreeBefore=f;y.replaceChildWithTree=p;y.queueChild=d;y.queueHTML=h;y.queueText=m;e.exports=y},function(e,t,n){"use strict";var r=n(3);var a=n(1);function o(e,t){return(e&t)===t}var i={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:16|8,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=i;var n=e.Properties||{};var s=e.DOMAttributeNamespaces||{};var l=e.DOMAttributeNames||{};var c=e.DOMPropertyNames||{};var f=e.DOMMutationMethods||{};if(e.isCustomAttribute){u._isCustomAttributeFunctions.push(e.isCustomAttribute)}for(var p in n){!!u.properties.hasOwnProperty(p)?false?a(false,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",p):r("48",p):void 0;var d=p.toLowerCase();var h=n[p];var m={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:o(h,t.MUST_USE_PROPERTY),hasBooleanValue:o(h,t.HAS_BOOLEAN_VALUE),hasNumericValue:o(h,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:o(h,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:o(h,t.HAS_OVERLOADED_BOOLEAN_VALUE)};!(m.hasBooleanValue+m.hasNumericValue+m.hasOverloadedBooleanValue<=1)?false?a(false,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",p):r("50",p):void 0;if(false){u.getPossibleStandardName[d]=p}if(l.hasOwnProperty(p)){var v=l[p];m.attributeName=v;if(false){u.getPossibleStandardName[v]=p}}if(s.hasOwnProperty(p)){m.attributeNamespace=s[p]}if(c.hasOwnProperty(p)){m.propertyName=c[p]}if(f.hasOwnProperty(p)){m.mutationMethod=f[p]}u.properties[p]=m}}};var s=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD";var u={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:s,ATTRIBUTE_NAME_CHAR:s+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:false?{autofocus:"autoFocus"}:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<u._isCustomAttributeFunctions.length;t++){var n=u._isCustomAttributeFunctions[t];if(n(e)){return true}}return false},injection:i};e.exports=u},function(e,t,n){"use strict";var r=n(227);var a=n(13);var o=n(2);function i(){r.attachRefs(this,this._currentElement)}var s={mountComponent:function(e,t,n,r,o,s){if(false){if(e._debugID!==0){a.debugTool.onBeforeMountComponent(e._debugID,e._currentElement,s)}}var u=e.mountComponent(t,n,r,o,s);if(e._currentElement&&e._currentElement.ref!=null){t.getReactMountReady().enqueue(i,e)}if(false){if(e._debugID!==0){a.debugTool.onMountComponent(e._debugID)}}return u},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){if(false){if(e._debugID!==0){a.debugTool.onBeforeUnmountComponent(e._debugID)}}r.detachRefs(e,e._currentElement);e.unmountComponent(t);if(false){if(e._debugID!==0){a.debugTool.onUnmountComponent(e._debugID)}}},receiveComponent:function(e,t,n,o){var s=e._currentElement;if(t===s&&o===e._context){return}if(false){if(e._debugID!==0){a.debugTool.onBeforeUpdateComponent(e._debugID,t)}}var u=r.shouldUpdateRefs(s,t);if(u){r.detachRefs(e,s)}e.receiveComponent(t,n,o);if(u&&e._currentElement&&e._currentElement.ref!=null){n.getReactMountReady().enqueue(i,e)}if(false){if(e._debugID!==0){a.debugTool.onUpdateComponent(e._debugID)}}},performUpdateIfNecessary:function(e,t,n){if(e._updateBatchNumber!==n){false?o(e._updateBatchNumber==null||e._updateBatchNumber===n+1,"performUpdateIfNecessary: Unexpected batch number (current %s, "+"pending %s)",n,e._updateBatchNumber):void 0;return}if(false){if(e._debugID!==0){a.debugTool.onBeforeUpdateComponent(e._debugID,e._currentElement)}}e.performUpdateIfNecessary(t);if(false){if(e._debugID!==0){a.debugTool.onUpdateComponent(e._debugID)}}}};e.exports=s},function(e,t,n){"use strict";var r=n(5);var a=n(260);var o=n(59);var i=n(265);var s=n(261);var u=n(262);var l=n(24);var c=n(264);var f=n(266);var p=n(269);var d=n(2);var h=l.createElement;var m=l.createFactory;var v=l.cloneElement;if(false){var y=require("./canDefineProperty");var g=require("./ReactElementValidator");var b=false;h=g.createElement;m=g.createFactory;v=g.cloneElement}var _=r;if(false){var x=false;_=function(){process.env.NODE_ENV!=="production"?d(x,"React.__spread is deprecated and should not be used. Use "+"Object.assign directly or another helper function with similar "+"semantics. You may be seeing this warning due to your compiler. "+"See https://fb.me/react-spread-deprecation for more details."):void 0;x=true;return r.apply(null,arguments)}}var w={Children:{map:a.map,forEach:a.forEach,count:a.count,toArray:a.toArray,only:p},Component:o,PureComponent:i,createElement:h,cloneElement:v,isValidElement:l.isValidElement,PropTypes:c,createClass:s.createClass,createFactory:m,createMixin:function(e){return e},DOM:u,version:f,__spread:_};if(false){if(y){Object.defineProperty(w,"PropTypes",{get:function(){process.env.NODE_ENV!=="production"?d(b,"Accessing PropTypes via the main React package is deprecated. Use "+"the prop-types package from npm instead."):void 0;b=true;return c}})}}e.exports=w},function(e,t,n){"use strict";var r=n(5);var a=n(17);var o=n(2);var i=n(100);var s=Object.prototype.hasOwnProperty;var u=n(99);var l={key:true,ref:true,__self:true,__source:true};var c,f;function p(e){if(false){if(s.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning){return false}}}return e.ref!==undefined}function d(e){if(false){if(s.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning){return false}}}return e.key!==undefined}function h(e,t){var n=function(){if(!c){c=true;false?o(false,"%s: `key` is not a prop. Trying to access it will result "+"in `undefined` being returned. If you need to access the same "+"value within the child component, you should pass it as a different "+"prop. (https://fb.me/react-special-props)",t):void 0}};n.isReactWarning=true;Object.defineProperty(e,"key",{get:n,configurable:true})}function m(e,t){var n=function(){if(!f){f=true;false?o(false,"%s: `ref` is not a prop. Trying to access it will result "+"in `undefined` being returned. If you need to access the same "+"value within the child component, you should pass it as a different "+"prop. (https://fb.me/react-special-props)",t):void 0}};n.isReactWarning=true;Object.defineProperty(e,"ref",{get:n,configurable:true})}var v=function(e,t,n,r,a,o,s){var l={$$typeof:u,type:e,key:t,ref:n,props:s,_owner:o};if(false){l._store={};if(i){Object.defineProperty(l._store,"validated",{configurable:false,enumerable:false,writable:true,value:false});Object.defineProperty(l,"_self",{configurable:false,enumerable:false,writable:false,value:r});Object.defineProperty(l,"_source",{configurable:false,enumerable:false,writable:false,value:a})}else{l._store.validated=false;l._self=r;l._source=a}if(Object.freeze){Object.freeze(l.props);Object.freeze(l)}}return l};v.createElement=function(e,t,n){var r;var o={};var i=null;var c=null;var f=null;var y=null;if(t!=null){if(p(t)){c=t.ref}if(d(t)){i=""+t.key}f=t.__self===undefined?null:t.__self;y=t.__source===undefined?null:t.__source;for(r in t){if(s.call(t,r)&&!l.hasOwnProperty(r)){o[r]=t[r]}}}var g=arguments.length-2;if(g===1){o.children=n}else if(g>1){var b=Array(g);for(var _=0;_<g;_++){b[_]=arguments[_+2]}if(false){if(Object.freeze){Object.freeze(b)}}o.children=b}if(e&&e.defaultProps){var x=e.defaultProps;for(r in x){if(o[r]===undefined){o[r]=x[r]}}}if(false){if(i||c){if(typeof o.$$typeof==="undefined"||o.$$typeof!==u){var w=typeof e==="function"?e.displayName||e.name||"Unknown":e;if(i){h(o,w)}if(c){m(o,w)}}}}return v(e,i,c,f,y,a.current,o)};v.createFactory=function(e){var t=v.createElement.bind(null,e);t.type=e;return t};v.cloneAndReplaceKey=function(e,t){var n=v(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n};v.cloneElement=function(e,t,n){var o;var i=r({},e.props);var u=e.key;var c=e.ref;var f=e._self;var h=e._source;var m=e._owner;if(t!=null){if(p(t)){c=t.ref;m=a.current}if(d(t)){u=""+t.key}var y;if(e.type&&e.type.defaultProps){y=e.type.defaultProps}for(o in t){if(s.call(t,o)&&!l.hasOwnProperty(o)){if(t[o]===undefined&&y!==undefined){i[o]=y[o]}else{i[o]=t[o]}}}}var g=arguments.length-2;if(g===1){i.children=n}else if(g>1){var b=Array(g);for(var _=0;_<g;_++){b[_]=arguments[_+2]}i.children=b}return v(e.type,u,c,f,h,m,i)};v.isValidElement=function(e){return typeof e==="object"&&e!==null&&e.$$typeof===u};e.exports=v},function(e,t,n){"use strict";function r(e){var t=arguments.length-1;var n="Minified React error #"+e+"; visit "+"http://facebook.github.io/react/docs/error-decoder.html?invariant="+e;for(var r=0;r<t;r++){n+="&args[]="+encodeURIComponent(arguments[r+1])}n+=" for the full message or use the non-minified dev environment"+" for full errors and additional helpful warnings.";var a=new Error(n);a.name="Invariant Violation";a.framesToPop=1;throw a}e.exports=r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(1,eval)("this")}catch(e){if(typeof window==="object")n=window}e.exports=n},function(e,t,n){var r=n(66).getCoord;var a=n(35).radiansToDistance;e.exports=function(e,t,n){var o=Math.PI/180;var i=r(e);var s=r(t);var u=o*(s[1]-i[1]);var l=o*(s[0]-i[0]);var c=o*i[1];var f=o*s[1];var p=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(l/2),2)*Math.cos(c)*Math.cos(f);return a(2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p)),n)}},function(e,t){function n(e,t,r){var a,o,i,s,u,l,c,f,p,d=0,h=0,m,v=e.type==="FeatureCollection",y=e.type==="Feature",g=v?e.features.length:1;for(a=0;a<g;a++){p=v?e.features[a].geometry:y?e.geometry:e;m=p.type==="GeometryCollection";c=m?p.geometries.length:1;for(s=0;s<c;s++){l=m?p.geometries[s]:p;f=l.coordinates;d=r&&(l.type==="Polygon"||l.type==="MultiPolygon")?1:0;if(l.type==="Point"){t(f,h);h++}else if(l.type==="LineString"||l.type==="MultiPoint"){for(o=0;o<f.length;o++){t(f[o],h);h++}}else if(l.type==="Polygon"||l.type==="MultiLineString"){for(o=0;o<f.length;o++)for(i=0;i<f[o].length-d;i++){t(f[o][i],h);h++}}else if(l.type==="MultiPolygon"){for(o=0;o<f.length;o++)for(i=0;i<f[o].length;i++)for(u=0;u<f[o][i].length-d;u++){t(f[o][i][u],h);h++}}else if(l.type==="GeometryCollection"){for(o=0;o<l.geometries.length;o++)n(l.geometries[o],t,r)}else{throw new Error("Unknown Geometry Type")}}}}e.exports.coordEach=n;function r(e,t,r,a){var o=r;n(e,function(e,n){if(n===0&&r===undefined){o=e}else{o=t(o,e,n)}},a);return o}e.exports.coordReduce=r;function a(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length;n++){t(e.features[n].properties,n)}break;case"Feature":t(e.properties,0);break}}e.exports.propEach=a;function o(e,t,n){var r=n;a(e,function(e,a){if(a===0&&n===undefined){r=e}else{r=t(r,e,a)}});return r}e.exports.propReduce=o;function i(e,t){if(e.type==="Feature"){t(e,0)}else if(e.type==="FeatureCollection"){for(var n=0;n<e.features.length;n++){t(e.features[n],n)}}}e.exports.featureEach=i;function s(e,t,n){var r=n;i(e,function(e,a){if(a===0&&n===undefined){r=e}else{r=t(r,e,a)}});return r}e.exports.featureReduce=s;function u(e){var t=[];n(e,function(e){t.push(e)});return t}e.exports.coordAll=u;function l(e,t){var n,r,a,o,i,s,u,l=0,c=e.type==="FeatureCollection",f=e.type==="Feature",p=c?e.features.length:1;for(n=0;n<p;n++){s=c?e.features[n].geometry:f?e.geometry:e;u=s.type==="GeometryCollection";i=u?s.geometries.length:1;for(a=0;a<i;a++){o=u?s.geometries[a]:s;if(o.type==="Point"||o.type==="LineString"||o.type==="MultiPoint"||o.type==="Polygon"||o.type==="MultiLineString"||o.type==="MultiPolygon"){t(o,l);l++}else if(o.type==="GeometryCollection"){for(r=0;r<o.geometries.length;r++){t(o.geometries[r],l);l++}}else{throw new Error("Unknown Geometry Type")}}}}e.exports.geomEach=l;function c(e,t,n){var r=n;l(e,function(e,a){if(a===0&&n===undefined){r=e}else{r=t(r,e,a)}});return r}e.exports.geomReduce=c},function(e,t,n){"use strict";var r={};if(false){Object.freeze(r)}e.exports=r},function(e,t,n){"use strict";var r=n(3);var a=n(45);var o=n(46);var i=n(50);var s=n(88);var u=n(89);var l=n(1);var c={};var f=null;var p=function(e,t){if(e){o.executeDispatchesInOrder(e,t);if(!e.isPersistent()){e.constructor.release(e)}}};var d=function(e){return p(e,true)};var h=function(e){return p(e,false)};var m=function(e){return"."+e._rootNodeID};function v(e){return e==="button"||e==="input"||e==="select"||e==="textarea"}function y(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!!(n.disabled&&v(t));default:return false}}var g={injection:{injectEventPluginOrder:a.injectEventPluginOrder,injectEventPluginsByName:a.injectEventPluginsByName},putListener:function(e,t,n){!(typeof n==="function")?false?l(false,"Expected %s listener to be a function, instead got type %s",t,typeof n):r("94",t,typeof n):void 0;var o=m(e);var i=c[t]||(c[t]={});i[o]=n;var s=a.registrationNameModules[t];if(s&&s.didPutListener){s.didPutListener(e,t,n)}},getListener:function(e,t){var n=c[t];if(y(t,e._currentElement.type,e._currentElement.props)){return null}var r=m(e);return n&&n[r]},deleteListener:function(e,t){var n=a.registrationNameModules[t];if(n&&n.willDeleteListener){n.willDeleteListener(e,t)}var r=c[t];if(r){var o=m(e);delete r[o]}},deleteAllListeners:function(e){var t=m(e);for(var n in c){if(!c.hasOwnProperty(n)){continue}if(!c[n][t]){continue}var r=a.registrationNameModules[n];if(r&&r.willDeleteListener){r.willDeleteListener(e,n)}delete c[n][t]}},extractEvents:function(e,t,n,r){var o;var i=a.plugins;for(var u=0;u<i.length;u++){var l=i[u];if(l){var c=l.extractEvents(e,t,n,r);if(c){o=s(o,c)}}}return o},enqueueEvents:function(e){if(e){f=s(f,e)}},processEventQueue:function(e){var t=f;f=null;if(e){u(t,d)}else{u(t,h)}!!f?false?l(false,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):r("95"):void 0;i.rethrowCaughtError()},__purge:function(){c={}},__getListenerBank:function(){return c}};e.exports=g},function(e,t,n){"use strict";var r=n(30);var a=n(46);var o=n(88);var i=n(89);var s=n(2);var u=r.getListener;function l(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return u(e,r)}function c(e,t,n){if(false){process.env.NODE_ENV!=="production"?s(e,"Dispatching inst must not be null"):void 0}var r=l(e,n,t);if(r){n._dispatchListeners=o(n._dispatchListeners,r);n._dispatchInstances=o(n._dispatchInstances,e)}}function f(e){if(e&&e.dispatchConfig.phasedRegistrationNames){a.traverseTwoPhase(e._targetInst,c,e)}}function p(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;var n=t?a.getParentInstance(t):null;a.traverseTwoPhase(n,c,e)}}function d(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName;var a=u(e,r);if(a){n._dispatchListeners=o(n._dispatchListeners,a);n._dispatchInstances=o(n._dispatchInstances,e)}}}function h(e){if(e&&e.dispatchConfig.registrationName){d(e._targetInst,null,e)}}function m(e){i(e,f)}function v(e){i(e,p)}function y(e,t,n,r){a.traverseEnterLeave(n,r,d,e,t)}function g(e){i(e,h)}var b={accumulateTwoPhaseDispatches:m,accumulateTwoPhaseDispatchesSkipTarget:v,accumulateDirectDispatches:g,accumulateEnterLeaveDispatches:y};e.exports=b},function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=undefined},get:function(e){return e._reactInternalInstance},has:function(e){return e._reactInternalInstance!==undefined},set:function(e,t){e._reactInternalInstance=t}};e.exports=r},function(e,t,n){"use strict";var r=n(16);var a=n(55);var o={view:function(e){if(e.view){return e.view}var t=a(e);if(t.window===t){return t}var n=t.ownerDocument;if(n){return n.defaultView||n.parentWindow}else{return window}},detail:function(e){return e.detail||0}};function i(e,t,n,a){return r.call(this,e,t,n,a)}r.augmentClass(i,o);e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=r;function r(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments[1];for(var n in t){if(typeof e[n]==="undefined"){e[n]=t[n]}}return e}e.exports=t["default"]},function(e,t){function n(e,t){if(!e)throw new Error("No geometry passed");return{type:"Feature",properties:t||{},geometry:e}}e.exports.feature=n;e.exports.point=function(e,t){if(!e)throw new Error("No coordinates passed");if(e.length===undefined)throw new Error("Coordinates must be an array");if(e.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(typeof e[0]!=="number"||typeof e[1]!=="number")throw new Error("Coordinates must numbers");return n({type:"Point",coordinates:e},t)};e.exports.polygon=function(e,t){if(!e)throw new Error("No coordinates passed");for(var r=0;r<e.length;r++){var a=e[r];if(a.length<4){throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.")}for(var o=0;o<a[a.length-1].length;o++){if(a[a.length-1][o]!==a[0][o]){throw new Error("First and last Position are not equivalent.")}}}return n({type:"Polygon",coordinates:e},t)};e.exports.lineString=function(e,t){if(!e)throw new Error("No coordinates passed");return n({type:"LineString",coordinates:e},t)};e.exports.featureCollection=function(e){if(!e)throw new Error("No features passed");return{type:"FeatureCollection",features:e}};e.exports.multiLineString=function(e,t){if(!e)throw new Error("No coordinates passed");return n({type:"MultiLineString",coordinates:e},t)};e.exports.multiPoint=function(e,t){if(!e)throw new Error("No coordinates passed");return n({type:"MultiPoint",coordinates:e},t)};e.exports.multiPolygon=function(e,t){if(!e)throw new Error("No coordinates passed");return n({type:"MultiPolygon",coordinates:e},t)};e.exports.geometryCollection=function(e,t){if(!e)throw new Error("No geometries passed");return n({type:"GeometryCollection",geometries:e},t)};var r={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373,feet:20908792.65};e.exports.radiansToDistance=function(e,t){var n=r[t||"kilometers"];if(n===undefined)throw new Error("Invalid unit");return e*n};e.exports.distanceToRadians=function(e,t){var n=r[t||"kilometers"];if(n===undefined)throw new Error("Invalid unit");return e/n};e.exports.distanceToDegrees=function(e,t){var n=r[t||"kilometers"];if(n===undefined)throw new Error("Invalid unit");return e/n*57.2958}},function(e,t,n){"use strict";var r=n(5);var a=n(45);var o=n(219);var i=n(87);var s=n(251);var u=n(56);var l;var c={};var f=false;var p=0;var d={topAbort:"abort",topAnimationEnd:s("animationend")||"animationend",topAnimationIteration:s("animationiteration")||"animationiteration",topAnimationStart:s("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:s("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"};var h="_reactListenersID"+String(Math.random()).slice(2);function m(e){if(!Object.prototype.hasOwnProperty.call(e,h)){e[h]=p++;c[e[h]]={}}return c[e[h]]}var v=r({},o,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(v.handleTopLevel);v.ReactEventListener=e}},setEnabled:function(e){if(v.ReactEventListener){v.ReactEventListener.setEnabled(e)}},isEnabled:function(){return!!(v.ReactEventListener&&v.ReactEventListener.isEnabled())},listenTo:function(e,t){var n=t;var r=m(n);var o=a.registrationNameDependencies[e];for(var i=0;i<o.length;i++){var s=o[i];if(!(r.hasOwnProperty(s)&&r[s])){if(s==="topWheel"){if(u("wheel")){v.ReactEventListener.trapBubbledEvent("topWheel","wheel",n)}else if(u("mousewheel")){v.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n)}else{v.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n)}}else if(s==="topScroll"){if(u("scroll",true)){v.ReactEventListener.trapCapturedEvent("topScroll","scroll",n)}else{v.ReactEventListener.trapBubbledEvent("topScroll","scroll",v.ReactEventListener.WINDOW_HANDLE)}}else if(s==="topFocus"||s==="topBlur"){if(u("focus",true)){v.ReactEventListener.trapCapturedEvent("topFocus","focus",n);v.ReactEventListener.trapCapturedEvent("topBlur","blur",n)}else if(u("focusin")){v.ReactEventListener.trapBubbledEvent("topFocus","focusin",n);v.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)}r.topBlur=true;r.topFocus=true}else if(d.hasOwnProperty(s)){v.ReactEventListener.trapBubbledEvent(s,d[s],n)}r[s]=true}}},trapBubbledEvent:function(e,t,n){return v.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return v.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent){return false}var e=document.createEvent("MouseEvent");return e!=null&&"pageX"in e},ensureScrollValueMonitoring:function(){if(l===undefined){l=v.supportsEventPageXY()}if(!l&&!f){var e=i.refreshScrollValues;v.ReactEventListener.monitorScrollValue(e);f=true}}});e.exports=v},function(e,t,n){"use strict";var r=n(33);var a=n(87);var o=n(54);var i={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:o,button:function(e){var t=e.button;if("which"in e){return t}return t===2?2:t===4?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+a.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+a.currentScrollTop}};function s(e,t,n,a){return r.call(this,e,t,n,a)}r.augmentClass(s,i);e.exports=s},function(e,t,n){"use strict";var r=n(3);var a=n(1);var o={};var i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers();if(this.wrapperInitData){this.wrapperInitData.length=0}else{this.wrapperInitData=[]}this._isInTransaction=false},_isInTransaction:false,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,i,s,u,l){!!this.isInTransaction()?false?a(false,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):r("27"):void 0;var c;var f;try{this._isInTransaction=true;c=true;this.initializeAll(0);f=e.call(t,n,o,i,s,u,l);c=false}finally{try{if(c){try{this.closeAll(0)}catch(e){}}else{this.closeAll(0)}}finally{this._isInTransaction=false}}return f},initializeAll:function(e){var t=this.transactionWrappers;for(var n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=o;this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o){try{this.initializeAll(n+1)}catch(e){}}}}},closeAll:function(e){!this.isInTransaction()?false?a(false,"Transaction.closeAll(): Cannot close transaction when none are open."):r("28"):void 0;var t=this.transactionWrappers;for(var n=e;n<t.length;n++){var i=t[n];var s=this.wrapperInitData[n];var u;try{u=true;if(s!==o&&i.close){i.close.call(this,s)}u=false}finally{if(u){try{this.closeAll(n+1)}catch(e){}}}}this.wrapperInitData.length=0}};e.exports=i},function(e,t,n){"use strict";var r=/["'&<>]/;function a(e){var t=""+e;var n=r.exec(t);if(!n){return t}var a;var o="";var i=0;var s=0;for(i=n.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 39:a="&#x27;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}if(s!==i){o+=t.substring(s,i)}s=i+1;o+=a}return s!==i?o+t.substring(s,i):o}function o(e){if(typeof e==="boolean"||typeof e==="number"){return""+e}return a(e)}e.exports=o},function(e,t,n){"use strict";var r=n(10);var a=n(44);var o=/^[ \r\n\t\f]/;var i=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/;var s=n(52);var u;var l=s(function(e,t){if(e.namespaceURI===a.svg&&!("innerHTML"in e)){u=u||document.createElement("div");u.innerHTML="<svg>"+t+"</svg>";var n=u.firstChild;while(n.firstChild){e.appendChild(n.firstChild)}}else{e.innerHTML=t}});if(r.canUseDOM){var c=document.createElement("div");c.innerHTML=" ";if(c.innerHTML===""){l=function(e,t){if(e.parentNode){e.parentNode.replaceChild(e,e)}if(o.test(t)||t[0]==="<"&&i.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;if(n.data.length===1){e.removeChild(n)}else{n.deleteData(0,1)}}else{e.innerHTML=t}}}c=null}e.exports=l},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function a(e,t){if(e===t){return e!==0||t!==0||1/e===1/t}else{return e!==e&&t!==t}}function o(e,t){if(a(e,t)){return true}if(typeof e!=="object"||e===null||typeof t!=="object"||t===null){return false}var n=Object.keys(e);var o=Object.keys(t);if(n.length!==o.length){return false}for(var i=0;i<n.length;i++){if(!r.call(t,n[i])||!a(e[n[i]],t[n[i]])){return false}}return true}e.exports=o},function(e,t){var n=e.exports={};var r;var a;function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){r=setTimeout}else{r=o}}catch(e){r=o}try{if(typeof clearTimeout==="function"){a=clearTimeout}else{a=i}}catch(e){a=i}})();function s(e){if(r===setTimeout){return setTimeout(e,0)}if((r===o||!r)&&setTimeout){r=setTimeout;return setTimeout(e,0)}try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function u(e){if(a===clearTimeout){return clearTimeout(e)}if((a===i||!a)&&clearTimeout){a=clearTimeout;return clearTimeout(e)}try{return a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}var l=[];var c=false;var f;var p=-1;function d(){if(!c||!f){return}c=false;if(f.length){l=f.concat(l)}else{p=-1}if(l.length){h()}}function h(){if(c){return}var e=s(d);c=true;var t=l.length;while(t){f=l;l=[];while(++p<t){if(f){f[p].run()}}p=-1;t=l.length}f=null;c=false;u(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}}l.push(new m(e,t));if(l.length===1&&!c){s(h)}};function m(e,t){this.fun=e;this.array=t}m.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function v(){}n.on=v;n.addListener=v;n.once=v;n.off=v;n.removeListener=v;n.removeAllListeners=v;n.emit=v;n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(20);var a=n(196);var o=n(7);var i=n(13);var s=n(52);var u=n(40);var l=n(94);function c(e,t){if(Array.isArray(t)){t=t[1]}return t?t.nextSibling:e.firstChild}var f=s(function(e,t,n){e.insertBefore(t,n)});function p(e,t,n){r.insertTreeBefore(e,t,n)}function d(e,t,n){if(Array.isArray(t)){m(e,t[0],t[1],n)}else{f(e,t,n)}}function h(e,t){if(Array.isArray(t)){var n=t[1];t=t[0];v(e,t,n);e.removeChild(n)}e.removeChild(t)}function m(e,t,n,r){var a=t;while(true){var o=a.nextSibling;f(e,a,r);if(a===n){break}a=o}}function v(e,t,n){while(true){var r=t.nextSibling;if(r===n){break}else{e.removeChild(r)}}}function y(e,t,n){var r=e.parentNode;var a=e.nextSibling;if(a===t){if(n){f(r,document.createTextNode(n),a)}}else{if(n){l(a,n);v(r,a,t)}else{v(r,e,t)}}if(false){i.debugTool.onHostOperation({instanceID:o.getInstanceFromNode(e)._debugID,type:"replace text",payload:n})}}var g=a.dangerouslyReplaceNodeWithMarkup;if(false){g=function(e,t,n){a.dangerouslyReplaceNodeWithMarkup(e,t);if(n._debugID!==0){i.debugTool.onHostOperation({instanceID:n._debugID,type:"replace with",payload:t.toString()})}else{var r=o.getInstanceFromNode(t.node);if(r._debugID!==0){i.debugTool.onHostOperation({instanceID:r._debugID,type:"mount",payload:t.toString()})}}}}var b={dangerouslyReplaceNodeWithMarkup:g,replaceDelimitedText:y,processUpdates:function(e,t){if(false){var n=o.getInstanceFromNode(e)._debugID}for(var r=0;r<t.length;r++){var a=t[r];switch(a.type){case"INSERT_MARKUP":p(e,a.content,c(e,a.afterNode));if(false){i.debugTool.onHostOperation({instanceID:n,type:"insert child",payload:{toIndex:a.toIndex,content:a.content.toString()}})}break;case"MOVE_EXISTING":d(e,a.fromNode,c(e,a.afterNode));if(false){i.debugTool.onHostOperation({instanceID:n,type:"move child",payload:{fromIndex:a.fromIndex,toIndex:a.toIndex}})}break;case"SET_MARKUP":u(e,a.content);if(false){i.debugTool.onHostOperation({instanceID:n,type:"replace children",payload:a.content.toString()})}break;case"TEXT_CONTENT":l(e,a.content);if(false){i.debugTool.onHostOperation({instanceID:n,type:"replace text",payload:a.content.toString()})}break;case"REMOVE_NODE":h(e,a.fromNode);if(false){i.debugTool.onHostOperation({instanceID:n,type:"remove child",payload:{fromIndex:a.fromIndex}})}break}}}};e.exports=b},function(e,t,n){"use strict";var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=r},function(e,t,n){"use strict";var r=n(3);var a=n(1);var o=null;var i={};function s(){if(!o){return}for(var e in i){var t=i[e];var n=o.indexOf(e);!(n>-1)?false?a(false,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e):r("96",e):void 0;if(c.plugins[n]){continue}!t.extractEvents?false?a(false,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e):r("97",e):void 0;c.plugins[n]=t;var s=t.eventTypes;for(var l in s){!u(s[l],t,l)?false?a(false,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",l,e):r("98",l,e):void 0}}}function u(e,t,n){!!c.eventNameDispatchConfigs.hasOwnProperty(n)?false?a(false,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",n):r("99",n):void 0;c.eventNameDispatchConfigs[n]=e;var o=e.phasedRegistrationNames;if(o){for(var i in o){if(o.hasOwnProperty(i)){var s=o[i];l(s,t,n)}}return true}else if(e.registrationName){l(e.registrationName,t,n);return true}return false}function l(e,t,n){!!c.registrationNameModules[e]?false?a(false,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e):r("100",e):void 0;c.registrationNameModules[e]=t;c.registrationNameDependencies[e]=t.eventTypes[n].dependencies;if(false){var o=e.toLowerCase();c.possibleRegistrationNames[o]=e;if(e==="onDoubleClick"){c.possibleRegistrationNames.ondblclick=e}}}var c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:false?{}:null,injectEventPluginOrder:function(e){!!o?false?a(false,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):r("101"):void 0;o=Array.prototype.slice.call(e);s()},injectEventPluginsByName:function(e){var t=false;for(var n in e){if(!e.hasOwnProperty(n)){continue}var o=e[n];if(!i.hasOwnProperty(n)||i[n]!==o){!!i[n]?false?a(false,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",n):r("102",n):void 0;i[n]=o;t=true}}if(t){s()}},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName){return c.registrationNameModules[t.registrationName]||null}if(t.phasedRegistrationNames!==undefined){var n=t.phasedRegistrationNames;for(var r in n){if(!n.hasOwnProperty(r)){continue}var a=c.registrationNameModules[n[r]];if(a){return a}}}return null},_resetEventPlugins:function(){o=null;for(var e in i){if(i.hasOwnProperty(e)){delete i[e]}}c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var n in t){if(t.hasOwnProperty(n)){delete t[n]}}var r=c.registrationNameModules;for(var a in r){if(r.hasOwnProperty(a)){delete r[a]}}if(false){var s=c.possibleRegistrationNames;for(var u in s){if(s.hasOwnProperty(u)){delete s[u]}}}}};e.exports=c},function(e,t,n){"use strict";var r=n(3);var a=n(50);var o=n(1);var i=n(2);var s;var u;var l={injectComponentTree:function(e){s=e;if(false){process.env.NODE_ENV!=="production"?i(e&&e.getNodeFromInstance&&e.getInstanceFromNode,"EventPluginUtils.injection.injectComponentTree(...): Injected "+"module is missing getNodeFromInstance or getInstanceFromNode."):void 0}},injectTreeTraversal:function(e){u=e;if(false){process.env.NODE_ENV!=="production"?i(e&&e.isAncestor&&e.getLowestCommonAncestor,"EventPluginUtils.injection.injectTreeTraversal(...): Injected "+"module is missing isAncestor or getLowestCommonAncestor."):void 0}}};function c(e){return e==="topMouseUp"||e==="topTouchEnd"||e==="topTouchCancel"}function f(e){return e==="topMouseMove"||e==="topTouchMove"}function p(e){return e==="topMouseDown"||e==="topTouchStart"}var d;if(false){d=function(e){var t=e._dispatchListeners;var n=e._dispatchInstances;var r=Array.isArray(t);var a=r?t.length:t?1:0;var o=Array.isArray(n);var s=o?n.length:n?1:0;process.env.NODE_ENV!=="production"?i(o===r&&s===a,"EventPluginUtils: Invalid `event`."):void 0}}function h(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=_.getNodeFromInstance(r);if(t){a.invokeGuardedCallbackWithCatch(o,n,e)}else{a.invokeGuardedCallback(o,n,e)}e.currentTarget=null}function m(e,t){var n=e._dispatchListeners;var r=e._dispatchInstances;if(false){d(e)}if(Array.isArray(n)){for(var a=0;a<n.length;a++){if(e.isPropagationStopped()){break}h(e,t,n[a],r[a])}}else if(n){h(e,t,n,r)}e._dispatchListeners=null;e._dispatchInstances=null}function v(e){var t=e._dispatchListeners;var n=e._dispatchInstances;if(false){d(e)}if(Array.isArray(t)){for(var r=0;r<t.length;r++){if(e.isPropagationStopped()){break}if(t[r](e,n[r])){return n[r]}}}else if(t){if(t(e,n)){return n}}return null}function y(e){var t=v(e);e._dispatchInstances=null;e._dispatchListeners=null;return t}function g(e){if(false){d(e)}var t=e._dispatchListeners;var n=e._dispatchInstances;!!Array.isArray(t)?false?o(false,"executeDirectDispatch(...): Invalid `event`."):r("103"):void 0;e.currentTarget=t?_.getNodeFromInstance(n):null;var a=t?t(e):null;e.currentTarget=null;e._dispatchListeners=null;e._dispatchInstances=null;return a}function b(e){return!!e._dispatchListeners}var _={isEndish:c,isMoveish:f,isStartish:p,executeDirectDispatch:g,executeDispatchesInOrder:m,executeDispatchesInOrderStopAtTrue:y,hasDispatches:b,getInstanceFromNode:function(e){return s.getInstanceFromNode(e)},getNodeFromInstance:function(e){return s.getNodeFromInstance(e)},isAncestor:function(e,t){return u.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return u.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return u.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return u.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,a){return u.traverseEnterLeave(e,t,n,r,a)},injection:l};e.exports=_},function(e,t,n){"use strict";function r(e){var t=/[=:]/g;var n={"=":"=0",":":"=2"};var r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function a(e){var t=/(=0|=2)/g;var n={"=0":"=","=2":":"};var r=e[0]==="."&&e[1]==="$"?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var o={escape:r,unescape:a};e.exports=o},function(e,t,n){"use strict";var r=n(3);var a=n(225);var o=n(75);var i=n(23);var s=o(i.isValidElement);var u=n(1);var l=n(2);var c={button:true,checkbox:true,image:true,hidden:true,radio:true,reset:true,submit:true};function f(e){!(e.checkedLink==null||e.valueLink==null)?false?u(false,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):r("87"):void 0}function p(e){f(e);!(e.value==null&&e.onChange==null)?false?u(false,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):r("88"):void 0}function d(e){f(e);!(e.checked==null&&e.onChange==null)?false?u(false,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):r("89"):void 0}var h={value:function(e,t,n){if(!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled){return null}return new Error("You provided a `value` prop to a form field without an "+"`onChange` handler. This will render a read-only field. If "+"the field should be mutable use `defaultValue`. Otherwise, "+"set either `onChange` or `readOnly`.")},checked:function(e,t,n){if(!e[t]||e.onChange||e.readOnly||e.disabled){return null}return new Error("You provided a `checked` prop to a form field without an "+"`onChange` handler. This will render a read-only field. If "+"the field should be mutable use `defaultChecked`. Otherwise, "+"set either `onChange` or `readOnly`.")},onChange:s.func};var m={};function v(e){if(e){var t=e.getName();if(t){return" Check the render method of `"+t+"`."}}return""}var y={checkPropTypes:function(e,t,n){for(var r in h){if(h.hasOwnProperty(r)){var o=h[r](t,r,e,"prop",null,a)}if(o instanceof Error&&!(o.message in m)){m[o.message]=true;var i=v(n);false?l(false,"Failed form propType: %s%s",o.message,i):void 0}}},getValue:function(e){if(e.valueLink){p(e);return e.valueLink.value}return e.value},getChecked:function(e){if(e.checkedLink){d(e);return e.checkedLink.value}return e.checked},executeOnChange:function(e,t){if(e.valueLink){p(e);return e.valueLink.requestChange(t.target.value)}else if(e.checkedLink){d(e);return e.checkedLink.requestChange(t.target.checked)}else if(e.onChange){return e.onChange.call(undefined,t)}}};e.exports=y},function(e,t,n){"use strict";var r=n(3);var a=n(1);var o=false;var i={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){!!o?false?a(false,"ReactCompositeComponent: injectEnvironment() can only be called once."):r("104"):void 0;i.replaceNodeWithMarkup=e.replaceNodeWithMarkup;i.processChildrenUpdates=e.processChildrenUpdates;o=true}}};e.exports=i},function(e,t,n){"use strict";var r=null;function a(e,t,n){try{t(n)}catch(e){if(r===null){r=e}}}var o={invokeGuardedCallback:a,invokeGuardedCallbackWithCatch:a,rethrowCaughtError:function(){if(r){var e=r;r=null;throw e}}};if(false){if(typeof window!=="undefined"&&typeof window.dispatchEvent==="function"&&typeof document!=="undefined"&&typeof document.createEvent==="function"){var i=document.createElement("react");o.invokeGuardedCallback=function(e,t,n){var r=t.bind(null,n);var a="react-"+e;i.addEventListener(a,r,false);var o=document.createEvent("Event");o.initEvent(a,false,false);i.dispatchEvent(o);i.removeEventListener(a,r,false)}}}e.exports=o},function(e,t,n){"use strict";var r=n(3);var a=n(17);var o=n(32);var i=n(13);var s=n(14);var u=n(1);var l=n(2);function c(e){s.enqueueUpdate(e)}function f(e){var t=typeof e;if(t!=="object"){return t}var n=e.constructor&&e.constructor.name||t;var r=Object.keys(e);if(r.length>0&&r.length<20){return n+" (keys: "+r.join(", ")+")"}return n}function p(e,t){var n=o.get(e);if(!n){if(false){var r=e.constructor;process.env.NODE_ENV!=="production"?l(!t,"%s(...): Can only update a mounted or mounting component. "+"This usually means you called %s() on an unmounted component. "+"This is a no-op. Please check the code for the %s component.",t,t,r&&(r.displayName||r.name)||"ReactClass"):void 0}return null}if(false){process.env.NODE_ENV!=="production"?l(a.current==null,"%s(...): Cannot update during an existing state transition (such as "+"within `render` or another component's constructor). Render methods "+"should be a pure function of props and state; constructor "+"side-effects are an anti-pattern, but can be moved to "+"`componentWillMount`.",t):void 0}return n}var d={isMounted:function(e){if(false){var t=a.current;if(t!==null){process.env.NODE_ENV!=="production"?l(t._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. "+"render() should be a pure function of props and state. It should "+"never access something that requires stale data from the previous "+"render, such as refs. Move this logic to componentDidMount and "+"componentDidUpdate instead.",t.getName()||"A component"):void 0;t._warnedAboutRefsInRender=true}}var n=o.get(e);if(n){return!!n._renderedComponent}else{return false}},enqueueCallback:function(e,t,n){d.validateCallback(t,n);var r=p(e);if(!r){return null}if(r._pendingCallbacks){r._pendingCallbacks.push(t)}else{r._pendingCallbacks=[t]}c(r)},enqueueCallbackInternal:function(e,t){if(e._pendingCallbacks){e._pendingCallbacks.push(t)}else{e._pendingCallbacks=[t]}c(e)},enqueueForceUpdate:function(e){var t=p(e,"forceUpdate");if(!t){return}t._pendingForceUpdate=true;c(t)},enqueueReplaceState:function(e,t,n){var r=p(e,"replaceState");if(!r){return}r._pendingStateQueue=[t];r._pendingReplaceState=true;if(n!==undefined&&n!==null){d.validateCallback(n,"replaceState");if(r._pendingCallbacks){r._pendingCallbacks.push(n)}else{r._pendingCallbacks=[n]}}c(r)},enqueueSetState:function(e,t){if(false){i.debugTool.onSetState();process.env.NODE_ENV!=="production"?l(t!=null,"setState(...): You passed an undefined or null state object; "+"instead, use forceUpdate()."):void 0}var n=p(e,"setState");if(!n){return}var r=n._pendingStateQueue||(n._pendingStateQueue=[]);r.push(t);c(n)},enqueueElementInternal:function(e,t,n){e._pendingElement=t;e._context=n;c(e)},validateCallback:function(e,t){!(!e||typeof e==="function")?false?u(false,"%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,f(e)):r("122",t,f(e)):void 0}};e.exports=d},function(e,t,n){"use strict";var r=function(e){if(typeof MSApp!=="undefined"&&MSApp.execUnsafeLocalFunction){return function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}}else{return e}};e.exports=r},function(e,t,n){"use strict";function r(e){var t;var n=e.keyCode;if("charCode"in e){t=e.charCode;if(t===0&&n===13){t=13}}else{t=n}if(t>=32||t===13){return t}return 0}e.exports=r},function(e,t,n){"use strict";var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a(e){var t=this;var n=t.nativeEvent;if(n.getModifierState){return n.getModifierState(e)}var a=r[e];return a?!!n[a]:false}function o(e){return a}e.exports=o},function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;if(t.correspondingUseElement){t=t.correspondingUseElement}return t.nodeType===3?t.parentNode:t}e.exports=r},function(e,t,n){"use strict";var r=n(10);var a;if(r.canUseDOM){a=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==true}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */
function o(e,t){if(!r.canUseDOM||t&&!("addEventListener"in document)){return false}var n="on"+e;var o=n in document;if(!o){var i=document.createElement("div");i.setAttribute(n,"return;");o=typeof i[n]==="function"}if(!o&&a&&e==="wheel"){o=document.implementation.hasFeature("Events.wheel","3.0")}return o}e.exports=o},function(e,t,n){"use strict";function r(e,t){var n=e===null||e===false;var r=t===null||t===false;if(n||r){return n===r}var a=typeof e;var o=typeof t;if(a==="string"||a==="number"){return o==="string"||o==="number"}else{return o==="object"&&e.type===t.type&&e.key===t.key}}e.exports=r},function(e,t,n){"use strict";var r=n(5);var a=n(11);var o=n(2);var i=a;if(false){var s=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"];var u=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"];var l=u.concat(["button"]);var c=["dd","dt","li","option","optgroup","p","rp","rt"];var f={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};var p=function(e,t,n){var a=r({},e||f);var o={tag:t,instance:n};if(u.indexOf(t)!==-1){a.aTagInScope=null;a.buttonTagInScope=null;a.nobrTagInScope=null}if(l.indexOf(t)!==-1){a.pTagInButtonScope=null}if(s.indexOf(t)!==-1&&t!=="address"&&t!=="div"&&t!=="p"){a.listItemTagAutoclosing=null;a.dlItemTagAutoclosing=null}a.current=o;if(t==="form"){a.formTag=o}if(t==="a"){a.aTagInScope=o}if(t==="button"){a.buttonTagInScope=o}if(t==="nobr"){a.nobrTagInScope=o}if(t==="p"){a.pTagInButtonScope=o}if(t==="li"){a.listItemTagAutoclosing=o}if(t==="dd"||t==="dt"){a.dlItemTagAutoclosing=o}return a};var d=function(e,t){switch(t){case"select":return e==="option"||e==="optgroup"||e==="#text";case"optgroup":return e==="option"||e==="#text";case"option":return e==="#text";case"tr":return e==="th"||e==="td"||e==="style"||e==="script"||e==="template";case"tbody":case"thead":case"tfoot":return e==="tr"||e==="style"||e==="script"||e==="template";case"colgroup":return e==="col"||e==="template";case"table":return e==="caption"||e==="colgroup"||e==="tbody"||e==="tfoot"||e==="thead"||e==="style"||e==="script"||e==="template";case"head":return e==="base"||e==="basefont"||e==="bgsound"||e==="link"||e==="meta"||e==="title"||e==="noscript"||e==="noframes"||e==="style"||e==="script"||e==="template";case"html":return e==="head"||e==="body";case"#document":return e==="html"}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t!=="h1"&&t!=="h2"&&t!=="h3"&&t!=="h4"&&t!=="h5"&&t!=="h6";case"rp":case"rt":return c.indexOf(t)===-1;case"body":case"caption":case"col":case"colgroup":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return t==null}return true};var h=function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null};var m=function(e){if(!e){return[]}var t=[];do{t.push(e)}while(e=e._currentElement._owner);t.reverse();return t};var v={};i=function(e,t,n,r){r=r||f;var a=r.current;var i=a&&a.tag;if(t!=null){process.env.NODE_ENV!=="production"?o(e==null,"validateDOMNesting: when childText is passed, childTag should be null"):void 0;e="#text"}var s=d(e,i)?null:a;var u=s?null:h(e,r);var l=s||u;if(l){var c=l.tag;var p=l.instance;var y=n&&n._currentElement._owner;var g=p&&p._currentElement._owner;var b=m(y);var _=m(g);var x=Math.min(b.length,_.length);var w;var E=-1;for(w=0;w<x;w++){if(b[w]===_[w]){E=w}else{break}}var S="(unknown)";var T=b.slice(E+1).map(function(e){return e.getName()||S});var M=_.slice(E+1).map(function(e){return e.getName()||S});var C=[].concat(E!==-1?b[E].getName()||S:[],M,c,u?["..."]:[],T,e).join(" > ");var k=!!s+"|"+e+"|"+c+"|"+C;if(v[k]){return}v[k]=true;var I=e;var P="";if(e==="#text"){if(/\S/.test(t)){I="Text nodes"}else{I="Whitespace text nodes";P=" Make sure you don't have any extra whitespace between tags on "+"each line of your source code."}}else{I="<"+e+">"}if(s){var D="";if(c==="table"&&e==="tr"){D+=" Add a <tbody> to your code to match the DOM tree generated by "+"the browser."}process.env.NODE_ENV!=="production"?o(false,"validateDOMNesting(...): %s cannot appear as a child of <%s>.%s "+"See %s.%s",I,c,P,C,D):void 0}else{process.env.NODE_ENV!=="production"?o(false,"validateDOMNesting(...): %s cannot appear as a descendant of "+"<%s>. See %s.",I,c,C):void 0}}};i.updatedAncestorInfo=p;i.isTagValidInContext=function(e,t){t=t||f;var n=t.current;var r=n&&n.tag;return d(e,r)&&!h(e,t)}}e.exports=i},function(e,t,n){"use strict";var r=n(25);var a=n(60);var o=n(100);var i=n(29);var s=n(1);var u=n(2);function l(e,t,n){this.props=e;this.context=t;this.refs=i;this.updater=n||a}l.prototype.isReactComponent={};l.prototype.setState=function(e,t){!(typeof e==="object"||typeof e==="function"||e==null)?false?s(false,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):r("85"):void 0;this.updater.enqueueSetState(this,e);if(t){this.updater.enqueueCallback(this,t,"setState")}};l.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this);if(e){this.updater.enqueueCallback(this,e,"forceUpdate")}};if(false){var c={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in "+"componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see "+"https://github.com/facebook/react/issues/3236)."]};var f=function(e,t){if(o){Object.defineProperty(l.prototype,e,{get:function(){process.env.NODE_ENV!=="production"?u(false,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1]):void 0;return undefined}})}};for(var p in c){if(c.hasOwnProperty(p)){f(p,c[p])}}}e.exports=l},function(e,t,n){"use strict";var r=n(2);function a(e,t){if(false){var n=e.constructor;process.env.NODE_ENV!=="production"?r(false,"%s(...): Can only update a mounted or mounting component. "+"This usually means you called %s() on an unmounted component. "+"This is a no-op. Please check the code for the %s component.",t,t,n&&(n.displayName||n.name)||"ReactClass"):void 0}}var o={isMounted:function(e){return false},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){a(e,"forceUpdate")},enqueueReplaceState:function(e,t){a(e,"replaceState")},enqueueSetState:function(e,t){a(e,"setState")}};e.exports=o},function(e,t,n){var r=n(278);var a=[];var o={};for(var i=0;i<256;i++){a[i]=(i+256).toString(16).substr(1);o[a[i]]=i}function s(e,t,n){var r=t&&n||0,a=0;t=t||[];e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){if(a<16){t[r+a++]=o[e]}});while(a<16){t[r+a++]=0}return t}function u(e,t){var n=t||0,r=a;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}var l=r();var c=[l[0]|1,l[1],l[2],l[3],l[4],l[5]];var f=(l[6]<<8|l[7])&16383;var p=0,d=0;function h(e,t,n){var r=t&&n||0;var a=t||[];e=e||{};var o=e.clockseq!==undefined?e.clockseq:f;var i=e.msecs!==undefined?e.msecs:(new Date).getTime();var s=e.nsecs!==undefined?e.nsecs:d+1;var l=i-p+(s-d)/1e4;if(l<0&&e.clockseq===undefined){o=o+1&16383}if((l<0||i>p)&&e.nsecs===undefined){s=0}if(s>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}p=i;d=s;f=o;i+=122192928e5;var h=((i&268435455)*1e4+s)%4294967296;a[r++]=h>>>24&255;a[r++]=h>>>16&255;a[r++]=h>>>8&255;a[r++]=h&255;var m=i/4294967296*1e4&268435455;a[r++]=m>>>8&255;a[r++]=m&255;a[r++]=m>>>24&15|16;a[r++]=m>>>16&255;a[r++]=o>>>8|128;a[r++]=o&255;var v=e.node||c;for(var y=0;y<6;y++){a[r+y]=v[y]}return t?t:u(a)}function m(e,t,n){var a=t&&n||0;if(typeof e=="string"){t=e=="binary"?new Array(16):null;e=null}e=e||{};var o=e.random||(e.rng||r)();o[6]=o[6]&15|64;o[8]=o[8]&63|128;if(t){for(var i=0;i<16;i++){t[a+i]=o[i]}}return t||u(o)}var v=m;v.v1=h;v.v4=m;v.parse=s;v.unparse=u;e.exports=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(64);var a=yt(r);var o=n(117);var i=yt(o);var s=n(322);var u=yt(s);var l=n(321);var c=yt(l);var f=n(280);var p=yt(f);var d=n(279);var h=yt(d);var m=n(318);var v=yt(m);var y=n(109);var g=yt(y);var b=n(313);var _=yt(b);var x=n(306);var w=yt(x);var E=n(113);var S=yt(E);var T=n(63);var M=yt(T);var C=n(288);var k=yt(C);var I=n(283);var P=yt(I);var D=n(284);var N=yt(D);var A=n(311);var O=yt(A);var R=n(305);var j=yt(R);var L=n(315);var F=yt(L);var z=n(285);var U=yt(z);var B=n(110);var q=yt(B);var V=n(111);var $=yt(V);var H=n(316);var W=yt(H);var G=n(310);var Y=yt(G);var Z=n(312);var X=yt(Z);var K=n(302);var J=yt(K);var Q=n(296);var ee=yt(Q);var te=n(293);var ne=yt(te);var re=n(112);var ae=yt(re);var oe=n(294);var ie=yt(oe);var se=n(297);var ue=yt(se);var le=n(307);var ce=yt(le);var fe=n(303);var pe=yt(fe);var de=n(295);var he=yt(de);var me=n(304);var ve=yt(me);var ye=n(108);var ge=yt(ye);var be=n(314);var _e=yt(be);var xe=n(309);var we=yt(xe);var Ee=n(292);var Se=yt(Ee);var Te=n(282);var Me=yt(Te);var Ce=n(287);var ke=yt(Ce);var Ie=n(301);var Pe=yt(Ie);var De=n(289);var Ne=yt(De);var Ae=n(299);var Oe=yt(Ae);var Re=n(298);var je=yt(Re);var Le=n(300);var Fe=yt(Le);var ze=n(308);var Ue=yt(ze);var Be=n(290);var qe=yt(Be);var Ve=n(114);var $e=yt(Ve);var He=n(286);var We=yt(He);var Ge=n(291);var Ye=yt(Ge);var Ze=n(115);var Xe=yt(Ze);var Ke=n(116);var Je=yt(Ke);var Qe=n(323);var et=yt(Qe);var tt=n(281);var nt=yt(tt);var rt=n(324);var at=yt(rt);var ot=n(320);var it=yt(ot);var st=n(325);var ut=yt(st);var lt=n(107);var ct=yt(lt);var ft=n(317);var pt=yt(ft);var dt=n(319);var ht=yt(dt);var mt=n(65);var vt=yt(mt);function yt(e){return e&&e.__esModule?e:{default:e}}var gt="6.3.0";var bt={version:gt,toDate:a.default,toFloat:i.default,toInt:u.default,toBoolean:c.default,equals:p.default,contains:h.default,matches:v.default,isEmail:g.default,isURL:_.default,isMACAddress:w.default,isIP:S.default,isFQDN:M.default,isBoolean:k.default,isAlpha:P.default,isAlphanumeric:N.default,isNumeric:O.default,isLowercase:j.default,isUppercase:F.default,isAscii:U.default,isFullWidth:q.default,isHalfWidth:$.default,isVariableWidth:W.default,isMultibyte:Y.default,isSurrogatePair:X.default,isInt:J.default,isFloat:ee.default,isDecimal:ne.default,isHexadecimal:ae.default,isDivisibleBy:ie.default,isHexColor:ue.default,isMD5:ce.default,isJSON:pe.default,isEmpty:he.default,isLength:ve.default,isByteLength:ge.default,isUUID:_e.default,isMongoId:we.default,isDate:Se.default,isAfter:Me.default,isBefore:ke.default,isIn:Pe.default,isCreditCard:Ne.default,isISIN:Oe.default,isISBN:je.default,isISSN:Fe.default,isMobilePhone:Ue.default,isCurrency:qe.default,isISO8601:$e.default,isBase64:We.default,isDataURI:Ye.default,ltrim:Xe.default,rtrim:Je.default,trim:et.default,escape:nt.default,unescape:at.default,stripLow:it.default,whitelist:ut.default,blacklist:ct.default,isWhitelisted:pt.default,normalizeEmail:ht.default,toString:vt.default};t.default=bt;e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=l;var r=n(0);var a=s(r);var o=n(34);var i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}var u={require_tld:true,allow_underscores:false,allow_trailing_dot:false};function l(e,t){(0,a.default)(e);t=(0,i.default)(t,u);if(t.allow_trailing_dot&&e[e.length-1]==="."){e=e.substring(0,e.length-1)}var n=e.split(".");if(t.require_tld){var r=n.pop();if(!n.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(r)){return false}}for(var o,s=0;s<n.length;s++){o=n[s];if(t.allow_underscores){o=o.replace(/_/g,"")}if(!/^[a-z\u00a1-\uffff0-9-]+$/i.test(o)){return false}if(/[\uff01-\uff5e]/.test(o)){return false}if(o[0]==="-"||o[o.length-1]==="-"){return false}}return true}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function i(e){(0,a.default)(e);e=Date.parse(e);return!isNaN(e)?new Date(e):null}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=a;function a(e){if((typeof e==="undefined"?"undefined":r(e))==="object"&&e!==null){if(typeof e.toString==="function"){e=e.toString()}else{e="[object Object]"}}else if(e===null||typeof e==="undefined"||isNaN(e)&&!e.length){e=""}return String(e)}e.exports=t["default"]},function(e,t){function n(e){if(!e)throw new Error("No obj passed");var t=r(e);if(t.length>1&&typeof t[0]==="number"&&typeof t[1]==="number"){return t}else{throw new Error("Coordinate is not a valid Point")}}function r(e){if(!e)throw new Error("No obj passed");var t;if(e.length){t=e}else if(e.coordinates){t=e.coordinates}else if(e.geometry&&e.geometry.coordinates){t=e.geometry.coordinates}if(t){a(t);return t}throw new Error("No valid coordinates")}function a(e){if(e.length>1&&typeof e[0]==="number"&&typeof e[1]==="number"){return true}if(e[0].length){return a(e[0])}throw new Error("coordinates must only contain numbers")}function o(e,t,n){if(!t||!n)throw new Error("type and name required");if(!e||e.type!==t){throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.type)}}function i(e,t,n){if(!e)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!e||e.type!=="Feature"||!e.geometry){throw new Error("Invalid input to "+n+", Feature with geometry required")}if(!e.geometry||e.geometry.type!==t){throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)}}function s(e,t,n){if(!e)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!e||e.type!=="FeatureCollection"){throw new Error("Invalid input to "+n+", FeatureCollection required")}for(var r=0;r<e.features.length;r++){var a=e.features[r];if(!a||a.type!=="Feature"||!a.geometry){throw new Error("Invalid input to "+n+", Feature with geometry required")}if(!a.geometry||a.geometry.type!==t){throw new Error("Invalid input to "+n+": must be a "+t+", given "+a.geometry.type)}}}e.exports.geojsonType=o;e.exports.collectionOf=s;e.exports.featureOf=i;e.exports.getCoord=n;e.exports.getCoords=r},function(e,t,n){var r=n(27);var a=n(28).featureEach;var o=n(28).coordReduce;var i=n(28).geomEach;var s=n(123);var u=n(35).lineString;var l=n(35).point;e.exports=function e(t,n){if(!t)throw new Error("geojson is required");i(t,function(e){if(e.type==="Point")throw new Error("geojson cannot be a Point");if(e.type==="MultiPoint")throw new Error("geojson cannot be a MultiPoint")});return f(t,function(e,t){var a=t.geometry.coordinates;var o=l(a[0]);var i=l(a[1]);return e+r(o,i,n)},0)};function c(e,t){var n=0;a(e,function(e){a(s(e),function(e){o(e,function(r,a){var o=u([r,a],e.properties);t(o,n);n++;return a})})})}function f(e,t,n){var r=n;c(e,function(e,a){if(a===0&&n===undefined){r=e}else{r=t(r,e,a)}});return r}},function(e,t,n){"use strict";var r=n(11);var a={listen:function e(t,n,r){if(t.addEventListener){t.addEventListener(n,r,false);return{remove:function e(){t.removeEventListener(n,r,false)}}}else if(t.attachEvent){t.attachEvent("on"+n,r);return{remove:function e(){t.detachEvent("on"+n,r)}}}},capture:function e(t,n,a){if(t.addEventListener){t.addEventListener(n,a,true);return{remove:function e(){t.removeEventListener(n,a,true)}}}else{if(false){console.error("Attempted to listen to events during the capture phase on a "+"browser that does not support the capture phase. Your application "+"will not receive some events.")}return{remove:r}}},registerDefault:function e(){}};e.exports=a},function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}e.exports=r},function(e,t,n){"use strict";function r(e){e=e||(typeof document!=="undefined"?document:undefined);if(typeof e==="undefined"){return null}try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=r},function(e,t,n){"use strict";var r=n(173);var a=r["a"].Symbol;t["a"]=a},function(e,t,n){"use strict";var r=n(167);var a=n(169);var o=n(174);var i="[object Object]";var s=Function.prototype,u=Object.prototype;var l=s.toString;var c=u.hasOwnProperty;var f=l.call(Object);function p(e){if(!n.i(o["a"])(e)||n.i(r["a"])(e)!=i){return false}var t=n.i(a["a"])(e);if(t===null){return true}var s=c.call(t,"constructor")&&t.constructor;return typeof s=="function"&&s instanceof s&&l.call(s)==f}t["a"]=p},function(e,t,n){var r=n(181);var a=r.Symbol;e.exports=a},function(e,t,n){(function(t,n){var r;var r;(function(t){if(true){e.exports=t()}else if(typeof define==="function"&&define.amd){define([],t)}else{var r;if(typeof window!=="undefined"){r=window}else if(typeof n!=="undefined"){r=n}else if(typeof self!=="undefined"){r=self}else{r=this}r.mapboxgl=t()}})(function(){var e,t,a;return function e(t,n,a){function o(s,u){if(!n[s]){if(!t[s]){var l=typeof r=="function"&&r;if(!u&&l)return r(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return o(n?n:e)},f,f.exports,e,t,n,a)}return n[s].exports}var i=typeof r=="function"&&r;for(var s=0;s<a.length;s++)o(a[s]);return o}({1:[function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e){var a=e[r].paintVertexArray;if(0!==a.length){var o=a.serialize(t),i=a.constructor.serialize();n[r]={array:o,type:i}}}return n}var a=e("./program_configuration"),o=function(e,t){this.vertexOffset=e,this.primitiveOffset=t,this.vertexLength=0,this.primitiveLength=0},i=function(e,t,n){var r=this;this.globalProperties={zoom:n};var o=e.layoutVertexArrayType;this.layoutVertexArray=new o;var i=e.elementArrayType;i&&(this.elementArray=new i);var s=e.elementArrayType2;s&&(this.elementArray2=new s),this.layerData={};for(var u=0,l=t;u<l.length;u+=1){var c=l[u],f=a.createDynamic(e.paintAttributes||[],c,n);r.layerData[c.id]={layer:c,programConfiguration:f,paintVertexArray:new f.PaintVertexArray}}this.segments=[],this.segments2=[]};i.prototype.prepareSegment=function(e){var t=this.segments[this.segments.length-1];return(!t||t.vertexLength+e>i.MAX_VERTEX_ARRAY_LENGTH)&&(t=new o(this.layoutVertexArray.length,this.elementArray.length),this.segments.push(t)),t},i.prototype.prepareSegment2=function(e){var t=this.segments2[this.segments2.length-1];return(!t||t.vertexLength+e>i.MAX_VERTEX_ARRAY_LENGTH)&&(t=new o(this.layoutVertexArray.length,this.elementArray2.length),this.segments2.push(t)),t},i.prototype.populatePaintArrays=function(e){var t=this;for(var n in this.layerData){var r=t.layerData[n];0!==r.paintVertexArray.bytesPerElement&&r.programConfiguration.populatePaintArray(r.layer,r.paintVertexArray,t.layoutVertexArray.length,t.globalProperties,e)}},i.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},i.prototype.serialize=function(e){return{layoutVertexArray:this.layoutVertexArray.serialize(e),elementArray:this.elementArray&&this.elementArray.serialize(e),elementArray2:this.elementArray2&&this.elementArray2.serialize(e),paintVertexArrays:r(this.layerData,e),segments:this.segments,segments2:this.segments2}},i.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,t.exports=i},{"./program_configuration":15}],2:[function(e,t,n){"use strict";var r=e("./array_group"),a=e("./buffer_group"),o=e("../util/util"),i=function(e,t){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.index=e.index,e.arrays?this.buffers=new a(t,e.layers,e.zoom,e.arrays):this.arrays=new r(t,e.layers,e.zoom)};i.prototype.populate=function(e,t){for(var n=this,r=0,a=e;r<a.length;r+=1){var o=a[r];n.layers[0].filter(o)&&(n.addFeature(o),t.featureIndex.insert(o,n.index))}},i.prototype.isEmpty=function(){return this.arrays.isEmpty()},i.prototype.serialize=function(e){return{zoom:this.zoom,layerIds:this.layers.map(function(e){return e.id}),arrays:this.arrays.serialize(e)}},i.prototype.destroy=function(){this.buffers&&(this.buffers.destroy(),this.buffers=null)},t.exports=i,i.deserialize=function(e,t){if(t){for(var n={},r=0,a=e;r<a.length;r+=1){var i=a[r],s=i.layerIds.map(function(e){return t.getLayer(e)}).filter(Boolean);if(0!==s.length)for(var u=s[0].createBucket(o.extend({layers:s},i)),l=0,c=s;l<c.length;l+=1){var f=c[l];n[f.id]=u}}return n}}},{"../util/util":126,"./array_group":1,"./buffer_group":9}],3:[function(e,t,n){"use strict";function r(e,t,n,r,a){e.emplaceBack(2*t+(r+1)/2,2*n+(a+1)/2)}var a=e("../bucket"),o=e("../vertex_array_type"),i=e("../element_array_type"),s=e("../load_geometry"),u=e("../extent"),l={layoutVertexArrayType:o([{name:"a_pos",components:2,type:"Int16"}]),elementArrayType:i(),paintAttributes:[{property:"circle-color",type:"Uint8"},{property:"circle-radius",type:"Uint16",multiplier:10},{property:"circle-blur",type:"Uint16",multiplier:10},{property:"circle-opacity",type:"Uint8",multiplier:255}]},c=function(e){function t(t){e.call(this,t,l)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addFeature=function(e){for(var t=this.arrays,n=0,a=s(e);n<a.length;n+=1)for(var o=a[n],i=0,l=o;i<l.length;i+=1){var c=l[i],f=c.x,p=c.y;if(!(f<0||f>=u||p<0||p>=u)){var d=t.prepareSegment(4),h=d.vertexLength;r(t.layoutVertexArray,f,p,-1,-1),r(t.layoutVertexArray,f,p,1,-1),r(t.layoutVertexArray,f,p,1,1),r(t.layoutVertexArray,f,p,-1,1),t.elementArray.emplaceBack(h,h+1,h+2),t.elementArray.emplaceBack(h,h+3,h+2),d.vertexLength+=4,d.primitiveLength+=2}}t.populatePaintArrays(e.properties)},t}(a);t.exports=c},{"../bucket":2,"../element_array_type":10,"../extent":11,"../load_geometry":13,"../vertex_array_type":17}],4:[function(e,t,n){"use strict";var r=e("../bucket"),a=e("../vertex_array_type"),o=e("../element_array_type"),i=e("../load_geometry"),s=e("earcut"),u=e("../../util/classify_rings"),l=500,c={layoutVertexArrayType:a([{name:"a_pos",components:2,type:"Int16"}]),elementArrayType:o(3),elementArrayType2:o(2),paintAttributes:[{property:"fill-color",type:"Uint8"},{property:"fill-outline-color",type:"Uint8"},{property:"fill-opacity",type:"Uint8",multiplier:255}]},f=function(e){function t(t){e.call(this,t,c)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addFeature=function(e){for(var t=this.arrays,n=0,r=u(i(e),l);n<r.length;n+=1){for(var a=r[n],o=0,c=0,f=a;c<f.length;c+=1){var p=f[c];o+=p.length}for(var d=t.prepareSegment(o),h=d.vertexLength,m=[],v=[],y=0,g=a;y<g.length;y+=1){var b=g[y];if(0!==b.length){b!==a[0]&&v.push(m.length/2);var _=t.prepareSegment2(b.length),x=_.vertexLength;t.layoutVertexArray.emplaceBack(b[0].x,b[0].y),t.elementArray2.emplaceBack(x+b.length-1,x),m.push(b[0].x),m.push(b[0].y);for(var w=1;w<b.length;w++)t.layoutVertexArray.emplaceBack(b[w].x,b[w].y),t.elementArray2.emplaceBack(x+w-1,x+w),m.push(b[w].x),m.push(b[w].y);_.vertexLength+=b.length,_.primitiveLength+=b.length}}for(var E=s(m,v),S=0;S<E.length;S+=3)t.elementArray.emplaceBack(h+E[S],h+E[S+1],h+E[S+2]);d.vertexLength+=o,d.primitiveLength+=E.length/3}t.populatePaintArrays(e.properties)},t}(r);t.exports=f},{"../../util/classify_rings":110,"../bucket":2,"../element_array_type":10,"../load_geometry":13,"../vertex_array_type":17,earcut:136}],5:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,i,s){e.emplaceBack(t,n,2*Math.floor(r*h)+i,a*h*2,o*h*2,Math.round(s))}function a(e,t){return e.x===t.x&&(e.x<0||e.x>l)||e.y===t.y&&(e.y<0||e.y>l)}var o=e("../bucket"),i=e("../vertex_array_type"),s=e("../element_array_type"),u=e("../load_geometry"),l=e("../extent"),c=e("earcut"),f=e("../../util/classify_rings"),p=500,d={layoutVertexArrayType:i([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal",components:3,type:"Int16"},{name:"a_edgedistance",components:1,type:"Int16"}]),elementArrayType:s(3),paintAttributes:[{property:"fill-extrusion-base",type:"Uint16"},{property:"fill-extrusion-height",type:"Uint16"},{property:"fill-extrusion-color",type:"Uint8"}]},h=Math.pow(2,13),m=function(e){function t(t){e.call(this,t,d)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addFeature=function(e){for(var t=this.arrays,n=0,o=f(u(e),p);n<o.length;n+=1){for(var i=o[n],s=0,l=0,d=i;l<d.length;l+=1){var h=d[l];s+=h.length}for(var m=t.prepareSegment(5*s),v=[],y=[],g=[],b=0,_=i;b<_.length;b+=1){var x=_[b];if(0!==x.length){x!==i[0]&&y.push(v.length/2);for(var w=0,E=0;E<x.length;E++){var S=x[E];if(r(t.layoutVertexArray,S.x,S.y,0,0,1,1,0),g.push(m.vertexLength++),E>=1){var T=x[E-1];if(!a(S,T)){var M=S.sub(T)._perp()._unit();r(t.layoutVertexArray,S.x,S.y,M.x,M.y,0,0,w),r(t.layoutVertexArray,S.x,S.y,M.x,M.y,0,1,w),w+=T.dist(S),r(t.layoutVertexArray,T.x,T.y,M.x,M.y,0,0,w),r(t.layoutVertexArray,T.x,T.y,M.x,M.y,0,1,w);var C=m.vertexLength;t.elementArray.emplaceBack(C,C+1,C+2),t.elementArray.emplaceBack(C+1,C+2,C+3),m.vertexLength+=4,m.primitiveLength+=2}}v.push(S.x),v.push(S.y)}}}for(var k=c(v,y),I=0;I<k.length;I+=3)t.elementArray.emplaceBack(g[k[I]],g[k[I+1]],g[k[I+2]]);m.primitiveLength+=k.length/3}t.populatePaintArrays(e.properties)},t}(o);t.exports=m},{"../../util/classify_rings":110,"../bucket":2,"../element_array_type":10,"../extent":11,"../load_geometry":13,"../vertex_array_type":17,earcut:136}],6:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){e.emplaceBack(t.x<<1|r,t.y<<1|a,Math.round(l*n.x)+128,Math.round(l*n.y)+128,(0===o?0:o<0?-1:1)+1|(i*d&63)<<2,i*d>>6)}var a=e("../bucket"),o=e("../vertex_array_type"),i=e("../element_array_type"),s=e("../load_geometry"),u=e("../extent"),l=63,c=Math.cos(37.5*(Math.PI/180)),f=15,p=15,d=.5,h=Math.pow(2,p-1)/d,m={layoutVertexArrayType:o([{name:"a_pos",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}]),paintAttributes:[{property:"line-color",type:"Uint8"}],elementArrayType:i()},v=function(e){function t(t){e.call(this,t,m)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addFeature=function(e){for(var t=this,n=this.layers[0].layout,r=n["line-join"],a=n["line-cap"],o=n["line-miter-limit"],i=n["line-round-limit"],u=0,l=s(e,p);u<l.length;u+=1){var c=l[u];t.addLine(c,e.properties,r,a,o,i)}},t.prototype.addLine=function(e,t,n,r,a,o){for(var i=this,s=e.length;s>2&&e[s-1].equals(e[s-2]);)s--;if(!(e.length<2)){"bevel"===n&&(a=1.05);var l=f*(u/(512*this.overscaling)),p=e[0],d=e[s-1],h=p.equals(d),m=this.arrays,v=m.prepareSegment(10*s);if(2!==s||!h){this.distance=0;var y,g,b,_,x,w,E,S=r,T=h?"butt":r,M=!0;this.e1=this.e2=this.e3=-1,h&&(y=e[s-2],x=p.sub(y)._unit()._perp());for(var C=0;C<s;C++)if(b=h&&C===s-1?e[1]:e[C+1],!b||!e[C].equals(b)){x&&(_=x),y&&(g=y),y=e[C],x=b?b.sub(y)._unit()._perp():_,_=_||x;var k=_.add(x)._unit(),I=k.x*x.x+k.y*x.y,P=1/I,D=I<c&&g&&b;if(D&&C>0){var N=y.dist(g);if(N>2*l){var A=y.sub(y.sub(g)._mult(l/N)._round());i.distance+=A.dist(g),i.addCurrentVertex(A,i.distance,_.mult(1),0,0,!1,v),g=A}}var O=g&&b,R=O?n:b?S:T;if(O&&"round"===R&&(P<o?R="miter":P<=2&&(R="fakeround")),"miter"===R&&P>a&&(R="bevel"),"bevel"===R&&(P>2&&(R="flipbevel"),P<a&&(R="miter")),g&&(i.distance+=y.dist(g)),"miter"===R)k._mult(P),i.addCurrentVertex(y,i.distance,k,0,0,!1,v);else if("flipbevel"===R){if(P>100)k=x.clone();else{var j=_.x*x.y-_.y*x.x>0?-1:1,L=P*_.add(x).mag()/_.sub(x).mag();k._perp()._mult(L*j)}i.addCurrentVertex(y,i.distance,k,0,0,!1,v),i.addCurrentVertex(y,i.distance,k.mult(-1),0,0,!1,v)}else if("bevel"===R||"fakeround"===R){var F=_.x*x.y-_.y*x.x>0,z=-Math.sqrt(P*P-1);if(F?(E=0,w=z):(w=0,E=z),M||i.addCurrentVertex(y,i.distance,_,w,E,!1,v),"fakeround"===R){for(var U,B=Math.floor(8*(.5-(I-.5))),q=0;q<B;q++)U=x.mult((q+1)/(B+1))._add(_)._unit(),i.addPieSliceVertex(y,i.distance,U,F,v);i.addPieSliceVertex(y,i.distance,k,F,v);for(var V=B-1;V>=0;V--)U=_.mult((V+1)/(B+1))._add(x)._unit(),i.addPieSliceVertex(y,i.distance,U,F,v)}b&&i.addCurrentVertex(y,i.distance,x,-w,-E,!1,v)}else"butt"===R?(M||i.addCurrentVertex(y,i.distance,_,0,0,!1,v),b&&i.addCurrentVertex(y,i.distance,x,0,0,!1,v)):"square"===R?(M||(i.addCurrentVertex(y,i.distance,_,1,1,!1,v),i.e1=i.e2=-1),b&&i.addCurrentVertex(y,i.distance,x,-1,-1,!1,v)):"round"===R&&(M||(i.addCurrentVertex(y,i.distance,_,0,0,!1,v),i.addCurrentVertex(y,i.distance,_,1,1,!0,v),i.e1=i.e2=-1),b&&(i.addCurrentVertex(y,i.distance,x,-1,-1,!0,v),i.addCurrentVertex(y,i.distance,x,0,0,!1,v)));if(D&&C<s-1){var $=y.dist(b);if($>2*l){var H=y.add(b.sub(y)._mult(l/$)._round());i.distance+=H.dist(y),i.addCurrentVertex(H,i.distance,x.mult(1),0,0,!1,v),y=H}}M=!1}m.populatePaintArrays(t)}}},t.prototype.addCurrentVertex=function(e,t,n,a,o,i,s){var u,l=i?1:0,c=this.arrays,f=c.layoutVertexArray,p=c.elementArray;u=n.clone(),a&&u._sub(n.perp()._mult(a)),r(f,e,u,l,0,a,t),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(p.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,u=n.mult(-1),o&&u._sub(n.perp()._mult(o)),r(f,e,u,l,1,-o,t),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(p.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,t>h/2&&(this.distance=0,this.addCurrentVertex(e,this.distance,n,a,o,i,s))},t.prototype.addPieSliceVertex=function(e,t,n,a,o){var i=a?1:0;n=n.mult(a?-1:1);var s=this.arrays,u=s.layoutVertexArray,l=s.elementArray;r(u,e,n,0,i,0,t),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(l.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),a?this.e2=this.e3:this.e1=this.e3},t}(a);t.exports=v},{"../bucket":2,"../element_array_type":10,"../extent":11,"../load_geometry":13,"../vertex_array_type":17}],7:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,i,s,u,l,c){e.emplaceBack(t,n,Math.round(64*r),Math.round(64*a),o/4,i/4,10*(l||0),c,10*(s||0),10*Math.min(u||25,25))}function a(e,t,n,r,a){return e.emplaceBack(t.x,t.y,Math.round(n.x),Math.round(n.y),10*r,10*a)}var o=e("point-geometry"),i=e("../array_group"),s=e("../buffer_group"),u=e("../vertex_array_type"),l=e("../element_array_type"),c=e("../extent"),f=e("../../symbol/anchor"),p=e("../../symbol/get_anchors"),d=e("../../util/token"),h=e("../../symbol/quads"),m=e("../../symbol/shaping"),v=e("../../symbol/resolve_text"),y=e("../../symbol/mergelines"),g=e("../../symbol/clip_line"),b=e("../../util/util"),_=e("../../util/script_detection"),x=e("../load_geometry"),w=e("../../symbol/collision_feature"),E=e("../../util/find_pole_of_inaccessibility"),S=e("../../util/classify_rings"),T=m.shapeText,M=m.shapeIcon,C=m.WritingMode,k=h.getGlyphQuads,I=h.getIconQuads,P=l(),D=u([{name:"a_pos",components:2,type:"Int16"},{name:"a_offset",components:2,type:"Int16"},{name:"a_texture_pos",components:2,type:"Uint16"},{name:"a_data",components:4,type:"Uint8"}]),N={glyph:{layoutVertexArrayType:D,elementArrayType:P},icon:{layoutVertexArrayType:D,elementArrayType:P},collisionBox:{layoutVertexArrayType:u([{name:"a_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"},{name:"a_data",components:2,type:"Uint8"}]),elementArrayType:l(2)}},A=function(e){var t=this;if(this.collisionBoxArray=e.collisionBoxArray,this.symbolQuadsArray=e.symbolQuadsArray,this.symbolInstancesArray=e.symbolInstancesArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.index=e.index,this.sdfIcons=e.sdfIcons,this.iconsNeedLinear=e.iconsNeedLinear,this.adjustedTextSize=e.adjustedTextSize,this.adjustedIconSize=e.adjustedIconSize,this.fontstack=e.fontstack,e.arrays){this.buffers={};for(var n in e.arrays)e.arrays[n]&&(t.buffers[n]=new s(N[n],e.layers,e.zoom,e.arrays[n]))}};A.prototype.populate=function(e,t){var n=this,r=this.layers[0].layout,a=r["text-field"],o=r["text-font"],i=r["icon-image"],s=a&&o,u=i;if(this.features=[],s||u){for(var l=t.iconDependencies,c=t.glyphDependencies,f=c[o]=c[o]||{},p=0;p<e.length;p++){var h=e[p];if(n.layers[0].filter(h)){var m;s&&(m=v(h,r));var g;if(u&&(g=d(h.properties,i)),(m||g)&&(n.features.push({text:m,icon:g,index:p,sourceLayerIndex:h.sourceLayerIndex,geometry:x(h),properties:h.properties}),g&&(l[g]=!0),m))for(var b=0;b<m.length;b++)f[m.charCodeAt(b)]=!0}}"line"===r["symbol-placement"]&&(this.features=y(this.features))}},A.prototype.isEmpty=function(){return this.arrays.icon.isEmpty()&&this.arrays.glyph.isEmpty()&&this.arrays.collisionBox.isEmpty()},A.prototype.serialize=function(e){return{zoom:this.zoom,layerIds:this.layers.map(function(e){return e.id}),sdfIcons:this.sdfIcons,iconsNeedLinear:this.iconsNeedLinear,adjustedTextSize:this.adjustedTextSize,adjustedIconSize:this.adjustedIconSize,fontstack:this.fontstack,arrays:b.mapObject(this.arrays,function(t){return t.isEmpty()?null:t.serialize(e)})}},A.prototype.destroy=function(){this.buffers&&(this.buffers.icon&&this.buffers.icon.destroy(),this.buffers.glyph&&this.buffers.glyph.destroy(),this.buffers.collisionBox&&this.buffers.collisionBox.destroy(),this.buffers=null)},A.prototype.createArrays=function(){var e=this;this.arrays=b.mapObject(N,function(t){return new i(t,e.layers,e.zoom)})},A.prototype.prepare=function(e,t){var n=this;this.createArrays(),this.adjustedTextMaxSize=this.layers[0].getLayoutValue("text-size",{zoom:18}),this.adjustedTextSize=this.layers[0].getLayoutValue("text-size",{zoom:this.zoom+1}),this.adjustedIconMaxSize=this.layers[0].getLayoutValue("icon-size",{zoom:18}),this.adjustedIconSize=this.layers[0].getLayoutValue("icon-size",{zoom:this.zoom+1});var r=512*this.overscaling;this.tilePixelRatio=c/r,this.compareText={},this.iconsNeedLinear=!1,this.symbolInstancesStartIndex=this.symbolInstancesArray.length;var a=this.layers[0].layout,o=.5,i=.5;switch(a["text-anchor"]){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(a["text-anchor"]){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}for(var s="right"===a["text-justify"]?1:"left"===a["text-justify"]?0:.5,u=24,l=a["text-line-height"]*u,f="line"!==a["symbol-placement"]?a["text-max-width"]*u:0,p=a["text-letter-spacing"]*u,d=[a["text-offset"][0]*u,a["text-offset"][1]*u],h=this.fontstack=a["text-font"].join(","),m="map"===a["text-rotation-alignment"]&&"line"===a["symbol-placement"],v=0,y=this.features;v<y.length;v+=1){var g,x=y[v];if(x.text){var w=_.allowsVerticalWritingMode(x.text);g={},g[C.horizontal]=T(x.text,e[h],f,l,o,i,s,p,d,u,C.horizontal),g[C.vertical]=w&&m&&T(x.text,e[h],f,l,o,i,s,p,d,u,C.vertical)}else g={};var E;if(x.icon){var S=t[x.icon];E=M(S,a),S&&(void 0===n.sdfIcons?n.sdfIcons=S.sdf:n.sdfIcons!==S.sdf&&b.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),1!==S.pixelRatio?n.iconsNeedLinear=!0:0===a["icon-rotate"]&&n.layers[0].isLayoutValueFeatureConstant("icon-rotate")||(n.iconsNeedLinear=!0))}(g[C.horizontal]||E)&&n.addFeature(x,g,E)}this.symbolInstancesEndIndex=this.symbolInstancesArray.length},A.prototype.addFeature=function(e,t,n){var r=this,a=e.geometry,o=this.layers[0].layout,i=24,s=this.adjustedTextSize/i,u=void 0!==this.adjustedTextMaxSize?this.adjustedTextMaxSize:this.adjustedTextSize,l=this.tilePixelRatio*s,f=this.tilePixelRatio*u/i,d=this.tilePixelRatio*this.adjustedIconSize,h=this.tilePixelRatio*o["symbol-spacing"],m=o["symbol-avoid-edges"],v=o["text-padding"]*this.tilePixelRatio,y=o["icon-padding"]*this.tilePixelRatio,b=o["text-max-angle"]/180*Math.PI,_="map"===o["text-rotation-alignment"]&&"line"===o["symbol-placement"],x="map"===o["icon-rotation-alignment"]&&"line"===o["symbol-placement"],w=o["text-allow-overlap"]||o["icon-allow-overlap"]||o["text-ignore-placement"]||o["icon-ignore-placement"],E=o["symbol-placement"],T="line"===E,M=h/2,k=null;k=T?g(a,0,0,c,c):S(a,0);for(var I=0;I<k.length;I++){var P=null,D=k[I],N=null;T?(N=D,P=p(N,h,b,t[C.vertical]||t[C.horizontal],n,i,f,r.overscaling,c)):(N=D[0],P=r.findPolygonAnchors(D));for(var A=0,O=P.length;A<O;A++){var R=P[A];if(!(t[C.horizontal]&&T&&r.anchorIsTooClose(t[C.horizontal].text,M,R))){var j=!(R.x<0||R.x>c||R.y<0||R.y>c);if(!m||j){var L=j||w;r.addSymbolInstance(R,N,t,n,r.layers[0],L,r.symbolInstancesArray.length,r.collisionBoxArray,e.index,e.sourceLayerIndex,r.index,l,v,_,d,y,x,{zoom:r.zoom},e.properties)}}}}},A.prototype.findPolygonAnchors=function(e){var t=e[0];if(0===t.length)return[];if(t.length<3||!b.isClosedPolygon(t))return[new f(t[0].x,t[0].y,0)];var n=null,r=E(e,16);return n=[new f(r.x,r.y,0)]},A.prototype.anchorIsTooClose=function(e,t,n){var r=this.compareText;if(e in r){for(var a=r[e],o=a.length-1;o>=0;o--)if(n.dist(a[o])<t)return!0}else r[e]=[];return r[e].push(n),!1},A.prototype.place=function(e,t){var n=this;this.createArrays();var r=this.layers[0].layout,a=e.maxScale,o="map"===r["text-rotation-alignment"]&&"line"===r["symbol-placement"],i="map"===r["icon-rotation-alignment"]&&"line"===r["symbol-placement"],s=r["text-allow-overlap"]||r["icon-allow-overlap"]||r["text-ignore-placement"]||r["icon-ignore-placement"];if(s){var u=this.symbolInstancesArray.toArray(this.symbolInstancesStartIndex,this.symbolInstancesEndIndex),l=e.angle,c=Math.sin(l),f=Math.cos(l);this.sortedSymbolInstances=u.sort(function(e,t){var n=c*e.anchorPointX+f*e.anchorPointY|0,r=c*t.anchorPointX+f*t.anchorPointY|0;return n-r||t.index-e.index})}for(var p=this.symbolInstancesStartIndex;p<this.symbolInstancesEndIndex;p++){var d=n.sortedSymbolInstances?n.sortedSymbolInstances[p-n.symbolInstancesStartIndex]:n.symbolInstancesArray.get(p),h={boxStartIndex:d.textBoxStartIndex,boxEndIndex:d.textBoxEndIndex},m={boxStartIndex:d.iconBoxStartIndex,boxEndIndex:d.iconBoxEndIndex},v=!(d.textBoxStartIndex===d.textBoxEndIndex),y=!(d.iconBoxStartIndex===d.iconBoxEndIndex),g=r["text-optional"]||!v,b=r["icon-optional"]||!y,_=v?e.placeCollisionFeature(h,r["text-allow-overlap"],r["symbol-avoid-edges"]):e.minScale,x=y?e.placeCollisionFeature(m,r["icon-allow-overlap"],r["symbol-avoid-edges"]):e.minScale;g||b?!b&&_?_=Math.max(x,_):!g&&x&&(x=Math.max(x,_)):x=_=Math.max(x,_),v&&(e.insertCollisionFeature(h,_,r["text-ignore-placement"]),_<=a&&n.addSymbols(n.arrays.glyph,d.glyphQuadStartIndex,d.glyphQuadEndIndex,_,r["text-keep-upright"],o,e.angle,d.writingModes)),y&&(e.insertCollisionFeature(m,x,r["icon-ignore-placement"]),x<=a&&n.addSymbols(n.arrays.icon,d.iconQuadStartIndex,d.iconQuadEndIndex,x,r["icon-keep-upright"],i,e.angle))}t&&this.addToDebugBuffers(e)},A.prototype.addSymbols=function(e,t,n,a,o,i,s,u){for(var l=this,c=e.elementArray,f=e.layoutVertexArray,p=this.zoom,d=Math.max(Math.log(a)/Math.LN2+p,0),h=t;h<n;h++){var m=l.symbolQuadsArray.get(h).SymbolQuad,v=(m.anchorAngle+s+Math.PI)%(2*Math.PI);if(u&C.vertical){if(i&&m.writingMode===C.vertical){if(o&&i&&v<=5*Math.PI/4||v>7*Math.PI/4)continue}else if(o&&i&&v<=3*Math.PI/4||v>5*Math.PI/4)continue}else if(o&&i&&(v<=Math.PI/2||v>3*Math.PI/2))continue;var y=m.tl,g=m.tr,b=m.bl,_=m.br,x=m.tex,w=m.anchorPoint,E=Math.max(p+Math.log(m.minScale)/Math.LN2,d),S=Math.min(p+Math.log(m.maxScale)/Math.LN2,25);if(!(S<=E)){E===d&&(E=0);var T=Math.round(m.glyphAngle/(2*Math.PI)*256),M=e.prepareSegment(4),k=M.vertexLength;r(f,w.x,w.y,y.x,y.y,x.x,x.y,E,S,d,T),r(f,w.x,w.y,g.x,g.y,x.x+x.w,x.y,E,S,d,T),r(f,w.x,w.y,b.x,b.y,x.x,x.y+x.h,E,S,d,T),r(f,w.x,w.y,_.x,_.y,x.x+x.w,x.y+x.h,E,S,d,T),c.emplaceBack(k,k+1,k+2),c.emplaceBack(k+1,k+2,k+3),M.vertexLength+=4,M.primitiveLength+=2}}},A.prototype.addToDebugBuffers=function(e){for(var t=this,n=this.arrays.collisionBox,r=n.layoutVertexArray,i=n.elementArray,s=-e.angle,u=e.yStretch,l=this.symbolInstancesStartIndex;l<this.symbolInstancesEndIndex;l++){var c=t.symbolInstancesArray.get(l);c.textCollisionFeature={boxStartIndex:c.textBoxStartIndex,boxEndIndex:c.textBoxEndIndex},c.iconCollisionFeature={boxStartIndex:c.iconBoxStartIndex,boxEndIndex:c.iconBoxEndIndex};for(var f=0;f<2;f++){var p=c[0===f?"textCollisionFeature":"iconCollisionFeature"];if(p)for(var d=p.boxStartIndex;d<p.boxEndIndex;d++){var h=t.collisionBoxArray.get(d),m=h.anchorPoint,v=new o(h.x1,h.y1*u)._rotate(s),y=new o(h.x2,h.y1*u)._rotate(s),g=new o(h.x1,h.y2*u)._rotate(s),b=new o(h.x2,h.y2*u)._rotate(s),_=Math.max(0,Math.min(25,t.zoom+Math.log(h.maxScale)/Math.LN2)),x=Math.max(0,Math.min(25,t.zoom+Math.log(h.placementScale)/Math.LN2)),w=n.prepareSegment(4),E=w.vertexLength;a(r,m,v,_,x),a(r,m,y,_,x),a(r,m,b,_,x),a(r,m,g,_,x),i.emplaceBack(E,E+1),i.emplaceBack(E+1,E+2),i.emplaceBack(E+2,E+3),i.emplaceBack(E+3,E),w.vertexLength+=4,w.primitiveLength+=4}}}},A.prototype.addSymbolInstance=function(e,t,n,r,a,o,i,s,u,l,c,f,p,d,h,m,v,y,g){var _,x,E,S=this,T=[];for(var M in n){var P=parseInt(M,10);n[P]&&(T=T.concat(o?k(e,n[P],f,t,a,d,P):[]),_=new w(s,t,e,u,l,c,n[P],f,p,d,!1))}var D=this.symbolQuadsArray.length;if(T&&T.length)for(var N=0;N<T.length;N++)S.addSymbolQuad(T[N]);var O=this.symbolQuadsArray.length,R=_?_.boxStartIndex:this.collisionBoxArray.length,j=_?_.boxEndIndex:this.collisionBoxArray.length;r&&(E=o?I(e,r,h,t,a,v,n[C.horizontal],y,g):[],x=new w(s,t,e,u,l,c,r,h,m,v,!0));var L=this.symbolQuadsArray.length;E&&1===E.length&&this.addSymbolQuad(E[0]);var F=this.symbolQuadsArray.length,z=x?x.boxStartIndex:this.collisionBoxArray.length,U=x?x.boxEndIndex:this.collisionBoxArray.length;F>A.MAX_QUADS&&b.warnOnce("Too many symbols being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),O>A.MAX_QUADS&&b.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907");var B=(n[C.vertical]?C.vertical:0)|(n[C.horizontal]?C.horizontal:0);return this.symbolInstancesArray.emplaceBack(R,j,z,U,D,O,L,F,e.x,e.y,i,B)},A.prototype.addSymbolQuad=function(e){return this.symbolQuadsArray.emplaceBack(e.anchorPoint.x,e.anchorPoint.y,e.tl.x,e.tl.y,e.tr.x,e.tr.y,e.bl.x,e.bl.y,e.br.x,e.br.y,e.tex.h,e.tex.w,e.tex.x,e.tex.y,e.anchorAngle,e.glyphAngle,e.maxScale,e.minScale,e.writingMode)},A.MAX_QUADS=65535,t.exports=A},{"../../symbol/anchor":72,"../../symbol/clip_line":74,"../../symbol/collision_feature":76,"../../symbol/get_anchors":78,"../../symbol/mergelines":81,"../../symbol/quads":82,"../../symbol/resolve_text":83,"../../symbol/shaping":84,"../../util/classify_rings":110,"../../util/find_pole_of_inaccessibility":116,"../../util/script_detection":123,"../../util/token":125,"../../util/util":126,"../array_group":1,"../buffer_group":9,"../element_array_type":10,"../extent":11,"../load_geometry":13,"../vertex_array_type":17,"point-geometry":195}],8:[function(e,t,n){"use strict";var r={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT"},a=function(e,t,n){this.arrayBuffer=e.arrayBuffer,this.length=e.length,this.attributes=t.members,this.itemSize=t.bytesPerElement,this.type=n,this.arrayType=t};a.fromStructArray=function(e,t){return new a(e.serialize(),e.constructor.serialize(),t)},a.prototype.bind=function(e){var t=e[this.type];this.buffer?e.bindBuffer(t,this.buffer):(this.gl=e,this.buffer=e.createBuffer(),e.bindBuffer(t,this.buffer),e.bufferData(t,this.arrayBuffer,e.STATIC_DRAW),this.arrayBuffer=null)},a.prototype.setVertexAttribPointers=function(e,t,n){for(var a=this,o=0;o<this.attributes.length;o++){var i=a.attributes[o],s=t[i.name];void 0!==s&&e.vertexAttribPointer(s,i.components,e[r[i.type]],!1,a.arrayType.bytesPerElement,i.offset+(a.arrayType.bytesPerElement*n||0))}},a.prototype.destroy=function(){this.buffer&&this.gl.deleteBuffer(this.buffer)},a.BufferType={VERTEX:"ARRAY_BUFFER",ELEMENT:"ELEMENT_ARRAY_BUFFER"},t.exports=a},{}],9:[function(e,t,n){"use strict";var r=e("../util/util"),a=e("./buffer"),o=e("./program_configuration"),i=e("../render/vertex_array_object"),s=function(e,t,n,s){var u=this;this.layoutVertexBuffer=new a(s.layoutVertexArray,e.layoutVertexArrayType.serialize(),a.BufferType.VERTEX),s.elementArray&&(this.elementBuffer=new a(s.elementArray,e.elementArrayType.serialize(),a.BufferType.ELEMENT)),s.elementArray2&&(this.elementBuffer2=new a(s.elementArray2,e.elementArrayType2.serialize(),a.BufferType.ELEMENT)),this.layerData={};for(var l=0,c=t;l<c.length;l+=1){var f=c[l],p=s.paintVertexArrays&&s.paintVertexArrays[f.id],d=o.createDynamic(e.paintAttributes||[],f,n),h=p?new a(p.array,p.type,a.BufferType.VERTEX):null;u.layerData[f.id]={programConfiguration:d,paintVertexBuffer:h}}this.segments=s.segments,this.segments2=s.segments2;for(var m=0,v=[this.segments,this.segments2];m<v.length;m+=1)for(var y=v[m],g=0,b=y||[];g<b.length;g+=1){var _=b[g];_.vaos=r.mapObject(u.layerData,function(){return new i})}};s.prototype.destroy=function(){var e=this;this.layoutVertexBuffer.destroy(),this.elementBuffer&&this.elementBuffer.destroy(),this.elementBuffer2&&this.elementBuffer2.destroy();for(var t in this.layerData){var n=e.layerData[t].paintVertexBuffer;n&&n.destroy()}for(var r=0,a=[this.segments,this.segments2];r<a.length;r+=1)for(var o=a[r],i=0,s=o||[];i<s.length;i+=1){var u=s[i];for(var l in u.vaos)u.vaos[l].destroy()}},t.exports=s},{"../render/vertex_array_object":38,"../util/util":126,"./buffer":8,"./program_configuration":15}],10:[function(e,t,n){"use strict";function r(e){return a({members:[{type:"Uint16",name:"vertices",components:e||3}]})}var a=e("../util/struct_array");t.exports=r},{"../util/struct_array":124}],11:[function(e,t,n){"use strict";t.exports=8192},{}],12:[function(e,t,n){"use strict";function r(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function a(e,t){return t-e}function o(e){return e["line-gap-width"]>0?e["line-gap-width"]+2*e["line-width"]:e["line-width"]}function i(e,t,n,r,a){if(!t[0]&&!t[1])return e;t=u.convert(t),"viewport"===n&&t._rotate(-r);for(var o=[],i=0;i<e.length;i++){for(var s=e[i],l=[],c=0;c<s.length;c++)l.push(s[c].sub(t._mult(a)));o.push(l)}return o}function s(e,t){for(var n=[],r=new u(0,0),a=0;a<e.length;a++){for(var o=e[a],i=[],s=0;s<o.length;s++){var l=o[s-1],c=o[s],f=o[s+1],p=0===s?r:c.sub(l)._unit()._perp(),d=s===o.length-1?r:f.sub(c)._unit()._perp(),h=p._add(d)._unit(),m=h.x*d.x+h.y*d.y;h._mult(1/m),i.push(h._mult(t)._add(c))}n.push(i)}return n}var u=e("point-geometry"),l=e("./load_geometry"),c=e("./extent"),f=e("feature-filter"),p=e("../util/struct_array"),d=e("grid-index"),h=e("../util/dictionary_coder"),m=e("vector-tile"),v=e("pbf"),y=e("../util/vectortile_to_geojson"),g=e("../util/util").arraysIntersect,b=e("../util/intersection_tests"),_=b.multiPolygonIntersectsBufferedMultiPoint,x=b.multiPolygonIntersectsMultiPolygon,w=b.multiPolygonIntersectsBufferedMultiLine,E=p({members:[{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]}),S=function(e,t,n){if(e.grid){var r=e,a=t;e=r.coord,t=r.overscaling,this.grid=new d(r.grid),this.featureIndexArray=new E(r.featureIndexArray),this.rawTileData=a,this.bucketLayerIDs=r.bucketLayerIDs}else this.grid=new d(c,16,0),this.featureIndexArray=new E;this.coord=e,this.overscaling=t,this.x=e.x,this.y=e.y,this.z=e.z-Math.log(t)/Math.LN2,this.setCollisionTile(n)};S.prototype.insert=function(e,t){var n=this,r=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(e.index,e.sourceLayerIndex,t);for(var a=l(e),o=0;o<a.length;o++){for(var i=a[o],s=[1/0,1/0,-(1/0),-(1/0)],u=0;u<i.length;u++){var c=i[u];s[0]=Math.min(s[0],c.x),s[1]=Math.min(s[1],c.y),s[2]=Math.max(s[2],c.x),s[3]=Math.max(s[3],c.y)}n.grid.insert(r,s[0],s[1],s[2],s[3])}},S.prototype.setCollisionTile=function(e){this.collisionTile=e},S.prototype.serialize=function(e){var t=this.grid.toArrayBuffer();return e&&e.push(t),{coord:this.coord,overscaling:this.overscaling,grid:t,featureIndexArray:this.featureIndexArray.serialize(e),bucketLayerIDs:this.bucketLayerIDs}},S.prototype.query=function(e,t){this.vtLayers||(this.vtLayers=new m.VectorTile(new v(this.rawTileData)).layers,this.sourceLayerCoder=new h(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));var n={},i=e.params||{},s=c/e.tileSize/e.scale,l=f(i.filter),p=0;for(var d in t){var y=t[d],g=y.paint,b=0;"line"===y.type?b=o(g)/2+Math.abs(g["line-offset"])+r(g["line-translate"]):"fill"===y.type?b=r(g["fill-translate"]):"fill-extrusion"===y.type?b=r(g["fill-extrusion-translate"]):"circle"===y.type&&(b=g["circle-radius"]+r(g["circle-translate"])),p=Math.max(p,b*s)}for(var _=e.queryGeometry.map(function(e){return e.map(function(e){return new u(e.x,e.y)})}),x=1/0,w=1/0,E=-(1/0),S=-(1/0),T=0;T<_.length;T++)for(var M=_[T],C=0;C<M.length;C++){var k=M[C];x=Math.min(x,k.x),w=Math.min(w,k.y),E=Math.max(E,k.x),S=Math.max(S,k.y)}var I=this.grid.query(x-p,w-p,E+p,S+p);I.sort(a),this.filterMatching(n,I,this.featureIndexArray,_,l,i.layers,t,e.bearing,s);var P=this.collisionTile.queryRenderedSymbols(_,e.scale);return P.sort(),this.filterMatching(n,P,this.collisionTile.collisionBoxArray,_,l,i.layers,t,e.bearing,s),n},S.prototype.filterMatching=function(e,t,n,r,a,u,c,f,p){for(var d,h=this,m=0;m<t.length;m++){var v=t[m];if(v!==d){d=v;var b=n.get(v),E=h.bucketLayerIDs[b.bucketIndex];if(!u||g(u,E)){var S=h.sourceLayerCoder.decode(b.sourceLayerIndex),T=h.vtLayers[S],M=T.feature(b.featureIndex);if(a(M))for(var C=null,k=0;k<E.length;k++){var I=E[k];if(!(u&&u.indexOf(I)<0)){var P=c[I];if(P){var D;if("symbol"!==P.type){C||(C=l(M));var N=P.paint;if("line"===P.type){D=i(r,N["line-translate"],N["line-translate-anchor"],f,p);var A=o(N)/2*p;if(N["line-offset"]&&(C=s(C,N["line-offset"]*p)),!w(D,C,A))continue}else if("fill"===P.type||"fill-extrusion"===P.type){var O=P.type;if(D=i(r,N[O+"-translate"],N[O+"-translate-anchor"],f,p),!x(D,C))continue}else if("circle"===P.type){D=i(r,N["circle-translate"],N["circle-translate-anchor"],f,p);var R=N["circle-radius"]*p;if(!_(D,C,R))continue}}var j=new y(M,h.z,h.x,h.y);j.layer=P.serialize();var L=e[I];void 0===L&&(L=e[I]=[]),L.push(j)}}}}}}},t.exports=S},{"../util/dictionary_coder":112,"../util/intersection_tests":119,"../util/struct_array":124,"../util/util":126,"../util/vectortile_to_geojson":127,"./extent":11,"./load_geometry":13,"feature-filter":137,"grid-index":159,pbf:193,"point-geometry":195,"vector-tile":205}],13:[function(e,t,n){"use strict";function r(e){return{min:-1*Math.pow(2,e-1),max:Math.pow(2,e-1)-1}}var a=e("../util/util"),o=e("./extent"),i={15:r(15),16:r(16)};t.exports=function(e,t){for(var n=i[t||16],r=o/e.extent,s=e.loadGeometry(),u=0;u<s.length;u++)for(var l=s[u],c=0;c<l.length;c++){var f=l[c];f.x=Math.round(f.x*r),f.y=Math.round(f.y*r),(f.x<n.min||f.x>n.max||f.y<n.min||f.y>n.max)&&a.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return s}},{"../util/util":126,"./extent":11}],14:[function(e,t,n){"use strict";var r=e("../util/struct_array"),a=r({members:[{name:"a_pos",type:"Int16",components:2}]});t.exports=a},{"../util/struct_array":124}],15:[function(e,t,n){"use strict";function r(e,t,n,r){if(!e.zoomStops)return t.getPaintValue(e.property,n,r);var a=e.zoomStops.map(function(a){return t.getPaintValue(e.property,i.extend({},n,{zoom:a}),r)});return 1===a.length?a[0]:a}function a(e,t){var n=e.property.replace(t.type+"-","").replace(/-/g,"_"),r="color"===t._paintSpecifications[e.property].type;return i.extend({name:"a_"+n,components:r?4:1,multiplier:r?255:1},e)}var o=e("./vertex_array_type"),i=e("../util/util"),s=function(){this.attributes=[],this.uniforms=[],this.interpolationUniforms=[],this.pragmas={vertex:{},fragment:{}},this.cacheKey=""};s.createDynamic=function(e,t,n){for(var r=new s,i=0,u=e;i<u.length;i+=1){var l=u[i],c=a(l,t),f=c.name.slice(2);t.isPaintValueFeatureConstant(c.property)?r.addZoomAttribute(f,c):t.isPaintValueZoomConstant(c.property)?r.addPropertyAttribute(f,c):r.addZoomAndPropertyAttribute(f,c,t,n)}return r.PaintVertexArray=o(r.attributes),r},s.createStatic=function(e){for(var t=new s,n=0,r=e;n<r.length;n+=1){var a=r[n];t.addUniform(a,"u_"+a)}return t},s.prototype.addUniform=function(e,t){var n=this.getPragmas(e);n.define.push("uniform {precision} {type} "+t+";"),n.initialize.push("{precision} {type} "+e+" = "+t+";"),this.cacheKey+="/u_"+e},s.prototype.addZoomAttribute=function(e,t){this.uniforms.push(t),this.addUniform(e,t.name)},s.prototype.addPropertyAttribute=function(e,t){var n=this.getPragmas(e);this.attributes.push(t),n.define.push("varying {precision} {type} "+e+";"),n.vertex.define.push("attribute {precision} {type} "+t.name+";"),n.vertex.initialize.push(e+" = "+t.name+" / "+t.multiplier+".0;"),this.cacheKey+="/a_"+e},s.prototype.addZoomAndPropertyAttribute=function(e,t,n,r){var a=this,o=this.getPragmas(e);o.define.push("varying {precision} {type} "+e+";");for(var s=0,u=n.getPaintValueStopZoomLevels(t.property);s<u.length&&u[s]<r;)s++;var l=Math.max(0,Math.min(u.length-4,s-2)),c="u_"+e+"_t";o.vertex.define.push("uniform lowp float "+c+";"),this.interpolationUniforms.push({name:c,property:t.property,stopOffset:l});for(var f=[],p=0;p<4;p++)f.push(u[Math.min(l+p,u.length-1)]);var d=[];if(1===t.components)this.attributes.push(i.extend({},t,{components:4,zoomStops:f})),o.vertex.define.push("attribute {precision} vec4 "+t.name+";"),d.push(t.name);else for(var h=0;h<4;h++){var m=t.name+h;d.push(m),a.attributes.push(i.extend({},t,{name:m,zoomStops:[f[h]]})),o.vertex.define.push("attribute {precision} {type} "+m+";")}o.vertex.initialize.push(e+" = evaluate_zoom_function_"+t.components+"(            "+d.join(", ")+", "+c+") / "+t.multiplier+".0;"),this.cacheKey+="/z_"+e},s.prototype.getPragmas=function(e){return this.pragmas[e]||(this.pragmas[e]={define:[],initialize:[]},this.pragmas[e].fragment={define:[],initialize:[]},this.pragmas[e].vertex={define:[],initialize:[]}),this.pragmas[e]},s.prototype.applyPragmas=function(e,t){var n=this;return e.replace(/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,function(e,r,a,o,i){return n.pragmas[i][r].concat(n.pragmas[i][t][r]).join("\n").replace(/{type}/g,o).replace(/{precision}/g,a)})},s.prototype.populatePaintArray=function(e,t,n,a,o){var i=t.length;t.resize(n);for(var s=0,u=this.attributes;s<u.length;s+=1)for(var l=u[s],c=r(l,e,a,o),f=i;f<n;f++){var p=t.get(f);if(4===l.components)for(var d=0;d<4;d++)p[l.name+d]=c[d]*l.multiplier;else p[l.name]=c*l.multiplier}},s.prototype.setUniforms=function(e,t,n,r){for(var a=0,o=this.uniforms;a<o.length;a+=1){var i=o[a],s=n.getPaintValue(i.property,r);4===i.components?e.uniform4fv(t[i.name],s):e.uniform1f(t[i.name],s)}for(var u=0,l=this.interpolationUniforms;u<l.length;u+=1){var c=l[u],f=n.getPaintInterpolationT(c.property,r);e.uniform1f(t[c.name],Math.max(0,Math.min(4,f-c.stopOffset)))}},t.exports=s},{"../util/util":126,"./vertex_array_type":17}],16:[function(e,t,n){"use strict";var r=e("../util/struct_array"),a=r({members:[{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]});t.exports=a},{"../util/struct_array":124}],17:[function(e,t,n){"use strict";function r(e){return a({members:e,alignment:4})}var a=e("../util/struct_array");t.exports=r},{"../util/struct_array":124}],18:[function(e,t,n){"use strict";var r=function(e,t,n){this.column=e,this.row=t,this.zoom=n};r.prototype.clone=function(){return new r(this.column,this.row,this.zoom)},r.prototype.zoomTo=function(e){return this.clone()._zoomTo(e)},r.prototype.sub=function(e){return this.clone()._sub(e)},r.prototype._zoomTo=function(e){var t=Math.pow(2,e-this.zoom);return this.column*=t,this.row*=t,this.zoom=e,this},r.prototype._sub=function(e){return e=e.zoomTo(this.zoom),this.column-=e.column,this.row-=e.row,this},t.exports=r},{}],19:[function(e,t,n){"use strict";var r=e("../util/util").wrap,a=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};a.prototype.wrap=function(){return new a(r(this.lng,-180,180),this.lat)},a.prototype.toArray=function(){return[this.lng,this.lat]},a.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},a.convert=function(e){if(e instanceof a)return e;if(e&&e.hasOwnProperty("lng")&&e.hasOwnProperty("lat"))return new a(e.lng,e.lat);if(Array.isArray(e)&&2===e.length)return new a(e[0],e[1]);throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},t.exports=a},{"../util/util":126}],20:[function(e,t,n){"use strict";var r=e("./lng_lat"),a=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};a.prototype.setNorthEast=function(e){return this._ne=r.convert(e),this},a.prototype.setSouthWest=function(e){return this._sw=r.convert(e),this},a.prototype.extend=function(e){var t,n,o=this._sw,i=this._ne;if(e instanceof r)t=e,n=e;else{if(!(e instanceof a))return Array.isArray(e)?e.every(Array.isArray)?this.extend(a.convert(e)):this.extend(r.convert(e)):this;if(t=e._sw,n=e._ne,!t||!n)return this}return o||i?(o.lng=Math.min(t.lng,o.lng),o.lat=Math.min(t.lat,o.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new r(t.lng,t.lat),this._ne=new r(n.lng,n.lat)),this},a.prototype.getCenter=function(){return new r((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},a.prototype.getSouthWest=function(){return this._sw},a.prototype.getNorthEast=function(){return this._ne},a.prototype.getNorthWest=function(){return new r(this.getWest(),this.getNorth())},a.prototype.getSouthEast=function(){return new r(this.getEast(),this.getSouth())},a.prototype.getWest=function(){return this._sw.lng},a.prototype.getSouth=function(){return this._sw.lat},a.prototype.getEast=function(){return this._ne.lng},a.prototype.getNorth=function(){return this._ne.lat},a.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},a.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},a.convert=function(e){return!e||e instanceof a?e:new a(e)},t.exports=a},{"./lng_lat":19}],21:[function(e,t,n){"use strict";var r=e("./lng_lat"),a=e("point-geometry"),o=e("./coordinate"),i=e("../util/util"),s=e("../util/interpolate"),u=e("../source/tile_coord"),l=e("../data/extent"),c=e("gl-matrix"),f=c.vec4,p=c.mat4,d=c.mat2,h=function(e,t){this.tileSize=512,this._minZoom=e||0,this._maxZoom=t||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new r(0,0),this.zoom=0,this.angle=0,this._altitude=1.5,this._pitch=0,this._unmodified=!0},m={minZoom:{},maxZoom:{},worldSize:{},centerPoint:{},size:{},bearing:{},pitch:{},altitude:{},zoom:{},center:{},unmodified:{},x:{},y:{},point:{}};m.minZoom.get=function(){return this._minZoom},m.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},m.maxZoom.get=function(){return this._maxZoom},m.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},m.worldSize.get=function(){return this.tileSize*this.scale},m.centerPoint.get=function(){return this.size._div(2)},m.size.get=function(){return new a(this.width,this.height)},m.bearing.get=function(){return-this.angle/Math.PI*180},m.bearing.set=function(e){var t=-i.wrap(e,-180,180)*Math.PI/180;this.angle!==t&&(this._unmodified=!1,this.angle=t,this._calcMatrices(),this.rotationMatrix=d.create(),d.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},m.pitch.get=function(){return this._pitch/Math.PI*180},m.pitch.set=function(e){var t=i.clamp(e,0,60)/180*Math.PI;this._pitch!==t&&(this._unmodified=!1,this._pitch=t,this._calcMatrices())},m.altitude.get=function(){return this._altitude},m.altitude.set=function(e){var t=Math.max(.75,e);this._altitude!==t&&(this._unmodified=!1,this._altitude=t,this._calcMatrices())},m.zoom.get=function(){return this._zoom},m.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},m.center.get=function(){return this._center},m.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},h.prototype.coveringZoomLevel=function(e){return(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize))},h.prototype.coveringTiles=function(e){var t=this.coveringZoomLevel(e),n=t;if(t<e.minzoom)return[];t>e.maxzoom&&(t=e.maxzoom);var r=this,o=r.locationCoordinate(r.center)._zoomTo(t),i=new a(o.column-.5,o.row-.5);return u.cover(t,[r.pointCoordinate(new a(0,0))._zoomTo(t),r.pointCoordinate(new a(r.width,0))._zoomTo(t),r.pointCoordinate(new a(r.width,r.height))._zoomTo(t),r.pointCoordinate(new a(0,r.height))._zoomTo(t)],e.reparseOverscaled?n:t).sort(function(e,t){return i.dist(e)-i.dist(t)})},h.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},m.unmodified.get=function(){return this._unmodified},h.prototype.zoomScale=function(e){return Math.pow(2,e)},h.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},h.prototype.project=function(e,t){return new a(this.lngX(e.lng,t),this.latY(e.lat,t))},h.prototype.unproject=function(e,t){return new r(this.xLng(e.x,t),this.yLat(e.y,t))},m.x.get=function(){return this.lngX(this.center.lng)},m.y.get=function(){return this.latY(this.center.lat)},m.point.get=function(){return new a(this.x,this.y)},h.prototype.lngX=function(e,t){return(180+e)*(t||this.worldSize)/360},h.prototype.latY=function(e,t){var n=180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360));return(180-n)*(t||this.worldSize)/360},h.prototype.xLng=function(e,t){return 360*e/(t||this.worldSize)-180},h.prototype.yLat=function(e,t){var n=180-360*e/(t||this.worldSize);return 360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90},h.prototype.panBy=function(e){var t=this.centerPoint._add(e);this.center=this.pointLocation(t)},h.prototype.setLocationAtPoint=function(e,t){var n=this.locationCoordinate(e),r=this.pointCoordinate(t),a=this.pointCoordinate(this.centerPoint),o=r._sub(n);this._unmodified=!1,this.center=this.coordinateLocation(a._sub(o))},h.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},h.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},h.prototype.locationCoordinate=function(e){var t=this.zoomScale(this.tileZoom)/this.worldSize,n=r.convert(e);return new o(this.lngX(n.lng)*t,this.latY(n.lat)*t,this.tileZoom)},h.prototype.coordinateLocation=function(e){var t=this.zoomScale(e.zoom);return new r(this.xLng(e.column,t),this.yLat(e.row,t))},h.prototype.pointCoordinate=function(e){var t=0,n=[e.x,e.y,0,1],r=[e.x,e.y,1,1];f.transformMat4(n,n,this.pixelMatrixInverse),f.transformMat4(r,r,this.pixelMatrixInverse);var a=n[3],i=r[3],u=n[0]/a,l=r[0]/i,c=n[1]/a,p=r[1]/i,d=n[2]/a,h=r[2]/i,m=d===h?0:(t-d)/(h-d),v=this.worldSize/this.zoomScale(this.tileZoom);return new o(s(u,l,m)/v,s(c,p,m)/v,this.tileZoom)},h.prototype.coordinatePoint=function(e){var t=this.worldSize/this.zoomScale(e.zoom),n=[e.column*t,e.row*t,0,1];return f.transformMat4(n,n,this.pixelMatrix),new a(n[0]/n[3],n[1]/n[3])},h.prototype.calculatePosMatrix=function(e,t){void 0===t&&(t=1/0),e instanceof u&&(e=e.toCoordinate(t));var n=Math.min(e.zoom,t),r=this.worldSize/Math.pow(2,n),a=new Float64Array(16);return p.identity(a),p.translate(a,a,[e.column*r,e.row*r,0]),p.scale(a,a,[r/l,r/l,1]),p.multiply(a,this.projMatrix,a),new Float32Array(a)},h.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,t,n,r,o,i,s,u,l=this.size,c=this._unmodified;this.latRange&&(e=this.latY(this.latRange[1]),t=this.latY(this.latRange[0]),o=t-e<l.y?l.y/(t-e):0),this.lngRange&&(n=this.lngX(this.lngRange[0]),r=this.lngX(this.lngRange[1]),i=r-n<l.x?l.x/(r-n):0);var f=Math.max(i||0,o||0);if(f)return this.center=this.unproject(new a(i?(r+n)/2:this.x,o?(t+e)/2:this.y)),this.zoom+=this.scaleZoom(f),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var p=this.y,d=l.y/2;p-d<e&&(u=e+d),p+d>t&&(u=t-d)}if(this.lngRange){var h=this.x,m=l.x/2;h-m<n&&(s=n+m),h+m>r&&(s=r-m)}void 0===s&&void 0===u||(this.center=this.unproject(new a(void 0!==s?s:this.x,void 0!==u?u:this.y))),this._unmodified=c,this._constraining=!1}},h.prototype._calcMatrices=function(){if(this.height){var e=Math.atan(.5/this.altitude),t=Math.sin(e)*this.altitude/Math.sin(Math.PI/2-this._pitch-e),n=Math.cos(Math.PI/2-this._pitch)*t+this.altitude,r=new Float64Array(16);p.perspective(r,2*Math.atan(this.height/2/this.altitude),this.width/this.height,.1,n),p.translate(r,r,[0,0,-this.altitude]),p.scale(r,r,[1,-1,1/this.height]),p.rotateX(r,r,this._pitch),p.rotateZ(r,r,this.angle),p.translate(r,r,[-this.x,-this.y,0]);var a=2*Math.PI*6378137;if(p.scale(r,r,[1,1,Math.pow(2,this.zoom)*this.tileSize/(a*Math.abs(Math.cos(this.center.lat*(Math.PI/180)))),1]),this.projMatrix=r,r=p.create(),p.scale(r,r,[this.width/2,-this.height/2,1]),p.translate(r,r,[1,-1,0]),this.pixelMatrix=p.multiply(new Float64Array(16),r,this.projMatrix),r=p.invert(new Float64Array(16),this.pixelMatrix),!r)throw new Error("failed to invert matrix");this.pixelMatrixInverse=r,r=d.create(),d.scale(r,r,[1,Math.cos(this._pitch)]),d.rotate(r,r,this.angle),this.lineAntialiasingMatrix=r;var o=Math.sqrt(this.height*this.height/4*(1+this.altitude*this.altitude));this.lineStretch=(o+this.height/2*Math.tan(this._pitch))/o-1}},Object.defineProperties(h.prototype,m),t.exports=h},{"../data/extent":11,"../source/tile_coord":50,"../util/interpolate":118,"../util/util":126,"./coordinate":18,"./lng_lat":19,"gl-matrix":149,"point-geometry":195}],22:[function(e,t,n){"use strict";var r=e("./util/worker_pool"),a;t.exports=function(){return a||(a=new r),a}},{"./util/worker_pool":129}],23:[function(e,t,n){"use strict";var r={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};t.exports=function(e,t,n,a){a=a||1;var o,i,s,u,l,c,f,p,d=[];for(o=0,i=e.length;o<i;o++)if(l=r[e[o]]){for(p=null,s=0,u=l[1].length;s<u;s+=2)l[1][s]===-1&&l[1][s+1]===-1?p=null:(c=t+l[1][s]*a,f=n-l[1][s+1]*a,p&&d.push(p.x,p.y,c,f),p={x:c,y:f});t+=l[0]*a}return d}},{}],24:[function(e,t,n){"use strict";var r=e("./util/browser"),a=t.exports={};a.version=e("../package.json").version,a.workerCount=Math.max(Math.floor(r.hardwareConcurrency/2),1),a.Map=e("./ui/map"),a.NavigationControl=e("./ui/control/navigation_control"),a.GeolocateControl=e("./ui/control/geolocate_control"),a.AttributionControl=e("./ui/control/attribution_control"),a.ScaleControl=e("./ui/control/scale_control"),a.Popup=e("./ui/popup"),a.Marker=e("./ui/marker"),a.Style=e("./style/style"),a.LngLat=e("./geo/lng_lat"),a.LngLatBounds=e("./geo/lng_lat_bounds"),a.Point=e("point-geometry"),a.Evented=e("./util/evented"),a.util=e("./util/util"),a.supported=e("./util/browser").supported;var o=e("./util/ajax");a.util.getJSON=o.getJSON,a.util.getArrayBuffer=o.getArrayBuffer;var i=e("./util/config");a.config=i,Object.defineProperty(a,"accessToken",{get:function(){return i.ACCESS_TOKEN},set:function(e){i.ACCESS_TOKEN=e}})},{"../package.json":214,"./geo/lng_lat":19,"./geo/lng_lat_bounds":20,"./style/style":60,"./ui/control/attribution_control":90,"./ui/control/geolocate_control":91,"./ui/control/navigation_control":92,"./ui/control/scale_control":93,"./ui/map":102,"./ui/marker":103,"./ui/popup":104,"./util/ajax":106,"./util/browser":107,"./util/config":111,"./util/evented":115,"./util/util":126,"point-geometry":195}],25:[function(e,t,n){"use strict";function r(e,t,n){var r=e.gl,o=e.transform,i=o.tileSize,s=n.paint["background-color"],u=n.paint["background-pattern"],l=n.paint["background-opacity"],c=!u&&1===s[3]&&1===l;if(e.isOpaquePass===c){r.disable(r.STENCIL_TEST),e.setDepthSublayer(0);var f;u?(f=e.useProgram("fillPattern",e.basicFillProgramConfiguration),a.prepare(u,e,f),e.tileExtentPatternVAO.bind(r,f,e.tileExtentBuffer)):(f=e.useProgram("fill",e.basicFillProgramConfiguration),r.uniform4fv(f.u_color,s),e.tileExtentVAO.bind(r,f,e.tileExtentBuffer)),r.uniform1f(f.u_opacity,l);for(var p=o.coveringTiles({tileSize:i}),d=0,h=p;d<h.length;d+=1){var m=h[d];u&&a.setTile({coord:m,tileSize:i},e,f),r.uniformMatrix4fv(f.u_matrix,!1,e.transform.calculatePosMatrix(m)),r.drawArrays(r.TRIANGLE_STRIP,0,e.tileExtentBuffer.length)}}}var a=e("./pattern");t.exports=r},{"./pattern":37}],26:[function(e,t,n){"use strict";function r(e,t,n,r){if(!e.isOpaquePass){var o=e.gl;e.setDepthSublayer(0),e.depthMask(!1),o.disable(o.STENCIL_TEST);for(var i=0;i<r.length;i++){var s=r[i],u=t.getTile(s),l=u.getBucket(n);if(l){var c=l.buffers,f=c.layerData[n.id],p=f.programConfiguration,d=e.useProgram("circle",p);p.setUniforms(o,d,n,{zoom:e.transform.zoom}),"map"===n.paint["circle-pitch-scale"]?(o.uniform1i(d.u_scale_with_map,!0),o.uniform2f(d.u_extrude_scale,e.transform.pixelsToGLUnits[0]*e.transform.altitude,e.transform.pixelsToGLUnits[1]*e.transform.altitude)):(o.uniform1i(d.u_scale_with_map,!1),o.uniform2fv(d.u_extrude_scale,e.transform.pixelsToGLUnits)),o.uniform1f(d.u_devicepixelratio,a.devicePixelRatio),o.uniformMatrix4fv(d.u_matrix,!1,e.translatePosMatrix(s.posMatrix,u,n.paint["circle-translate"],n.paint["circle-translate-anchor"]));for(var h=0,m=c.segments;h<m.length;h+=1){var v=m[h];v.vaos[n.id].bind(o,d,c.layoutVertexBuffer,c.elementBuffer,f.paintVertexBuffer,v.vertexOffset),o.drawElements(o.TRIANGLES,3*v.primitiveLength,o.UNSIGNED_SHORT,3*v.primitiveOffset*2)}}}}}var a=e("../util/browser");t.exports=r},{"../util/browser":107}],27:[function(e,t,n){"use strict";function r(e,t,n,r){var a=e.gl;a.enable(a.STENCIL_TEST);for(var o=e.useProgram("collisionBox"),i=0;i<r.length;i++){var s=r[i],u=t.getTile(s),l=u.getBucket(n);if(l){var c=l.buffers.collisionBox;if(c){a.uniformMatrix4fv(o.u_matrix,!1,s.posMatrix),e.enableTileClippingMask(s),e.lineWidth(1),a.uniform1f(o.u_scale,Math.pow(2,e.transform.zoom-u.coord.z)),a.uniform1f(o.u_zoom,10*e.transform.zoom),a.uniform1f(o.u_maxzoom,10*(u.coord.z+1));for(var f=0,p=c.segments;f<p.length;f+=1){var d=p[f];d.vaos[n.id].bind(a,o,c.layoutVertexBuffer,c.elementBuffer,null,d.vertexOffset),a.drawElements(a.LINES,2*d.primitiveLength,a.UNSIGNED_SHORT,2*d.primitiveOffset*2)}}}}}t.exports=r},{}],28:[function(e,t,n){"use strict";function r(e,t,n){for(var r=0;r<n.length;r++)a(e,t,n[r])}function a(e,t,n){var r=e.gl;r.disable(r.STENCIL_TEST),e.lineWidth(1*i.devicePixelRatio);var a=n.posMatrix,p=e.useProgram("debug");r.uniformMatrix4fv(p.u_matrix,!1,a),r.uniform4f(p.u_color,1,0,0,1),e.debugVAO.bind(r,p,e.debugBuffer),r.drawArrays(r.LINE_STRIP,0,e.debugBuffer.length);for(var d=o(n.toString(),50,200,5),h=new f,m=0;m<d.length;m+=2)h.emplaceBack(d[m],d[m+1]);var v=l.fromStructArray(h,l.BufferType.VERTEX),y=new c;y.bind(r,p,v),r.uniform4f(p.u_color,1,1,1,1);for(var g=t.getTile(n).tileSize,b=u/(Math.pow(2,e.transform.zoom-n.z)*g),_=[[-1,-1],[-1,1],[1,-1],[1,1]],x=0;x<_.length;x++){var w=_[x];r.uniformMatrix4fv(p.u_matrix,!1,s.translate([],a,[b*w[0],b*w[1],0])),r.drawArrays(r.LINES,0,v.length)}r.uniform4f(p.u_color,0,0,0,1),r.uniformMatrix4fv(p.u_matrix,!1,a),r.drawArrays(r.LINES,0,v.length)}var o=e("../lib/debugtext"),i=e("../util/browser"),s=e("gl-matrix").mat4,u=e("../data/extent"),l=e("../data/buffer"),c=e("./vertex_array_object"),f=e("../data/pos_array");t.exports=r},{"../data/buffer":8,"../data/extent":11,"../data/pos_array":14,"../lib/debugtext":23,"../util/browser":107,"./vertex_array_object":38,"gl-matrix":149}],29:[function(e,t,n){"use strict";function r(e,t,n,r){var s=e.gl;s.enable(s.STENCIL_TEST);var u=!n.paint["fill-pattern"]&&n.isPaintValueFeatureConstant("fill-color")&&n.isPaintValueFeatureConstant("fill-opacity")&&1===n.paint["fill-color"][3]&&1===n.paint["fill-opacity"];e.isOpaquePass===u&&(e.setDepthSublayer(1),a(e,t,n,r,o)),!e.isOpaquePass&&n.paint["fill-antialias"]&&(e.lineWidth(2),e.depthMask(!1),e.setDepthSublayer(n.getPaintProperty("fill-outline-color")?2:0),a(e,t,n,r,i))}function a(e,t,n,r,a){for(var o=!0,i=0,s=r;i<s.length;i+=1){var u=s[i],l=t.getTile(u),c=l.getBucket(n);c&&(e.enableTileClippingMask(u),a(e,t,n,l,u,c.buffers,o),o=!1)}}function o(e,t,n,r,a,o,i){for(var u=e.gl,l=o.layerData[n.id],c=s("fill",n.paint["fill-pattern"],e,l,n,r,a,i),f=0,p=o.segments;f<p.length;f+=1){var d=p[f];d.vaos[n.id].bind(u,c,o.layoutVertexBuffer,o.elementBuffer,l.paintVertexBuffer,d.vertexOffset),u.drawElements(u.TRIANGLES,3*d.primitiveLength,u.UNSIGNED_SHORT,3*d.primitiveOffset*2)}}function i(e,t,n,r,a,o,i){var u=e.gl,l=o.layerData[n.id],c=n.paint["fill-pattern"]&&!n.getPaintProperty("fill-outline-color"),f=s("fillOutline",c,e,l,n,r,a,i);u.uniform2f(f.u_world,u.drawingBufferWidth,u.drawingBufferHeight);for(var p=0,d=o.segments2;p<d.length;p+=1){var h=d[p];h.vaos[n.id].bind(u,f,o.layoutVertexBuffer,o.elementBuffer2,l.paintVertexBuffer,h.vertexOffset),u.drawElements(u.LINES,2*h.primitiveLength,u.UNSIGNED_SHORT,2*h.primitiveOffset*2)}}function s(e,t,n,r,a,o,i,s){var l,c=n.currentProgram;return t?(l=n.useProgram(e+"Pattern",r.programConfiguration),(s||l!==c)&&(r.programConfiguration.setUniforms(n.gl,l,a,{zoom:n.transform.zoom}),u.prepare(a.paint["fill-pattern"],n,l)),u.setTile(o,n,l)):(l=n.useProgram(e,r.programConfiguration),(s||l!==c)&&r.programConfiguration.setUniforms(n.gl,l,a,{zoom:n.transform.zoom})),n.gl.uniformMatrix4fv(l.u_matrix,!1,n.translatePosMatrix(i.posMatrix,o,a.paint["fill-translate"],a.paint["fill-translate-anchor"])),l}var u=e("./pattern");t.exports=r},{"./pattern":37}],30:[function(e,t,n){"use strict";function r(e,t,n,r){if(0!==n.paint["fill-extrusion-opacity"]){var i=e.gl;i.disable(i.STENCIL_TEST),i.enable(i.DEPTH_TEST),e.depthMask(!0);var s=new a(i,e,n);s.bindFramebuffer(),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT);for(var u=0;u<r.length;u++)o(e,t,n,r[u]);s.unbindFramebuffer(),s.renderToMap()}}function a(e,t,n){this.gl=e,this.width=t.width,this.height=t.height,this.painter=t,this.layer=n,this.texture=null,this.fbo=null,this.fbos=this.painter.preFbos[this.width]&&this.painter.preFbos[this.width][this.height]}function o(e,t,n,r){if(!e.isOpaquePass){var a=t.getTile(r),o=a.getBucket(n);if(o){var s=o.buffers,u=e.gl,l=n.paint["fill-extrusion-pattern"],c=s.layerData[n.id],f=c.programConfiguration,p=e.useProgram(l?"fillExtrusionPattern":"fillExtrusion",f);f.setUniforms(u,p,n,{zoom:e.transform.zoom}),l&&(d.prepare(l,e,p),d.setTile(a,e,p),u.uniform1f(p.u_height_factor,-Math.pow(2,r.z)/a.tileSize/8)),e.gl.uniformMatrix4fv(p.u_matrix,!1,e.translatePosMatrix(r.posMatrix,a,n.paint["fill-extrusion-translate"],n.paint["fill-extrusion-translate-anchor"])),i(p,e);for(var h=0,m=s.segments;h<m.length;h+=1){var v=m[h];v.vaos[n.id].bind(u,p,s.layoutVertexBuffer,s.elementBuffer,c.paintVertexBuffer,v.vertexOffset),u.drawElements(u.TRIANGLES,3*v.primitiveLength,u.UNSIGNED_SHORT,3*v.primitiveOffset*2)}}}}function i(e,t){var n=t.gl,r=t.style.light,a=r.calculated.position,o=[a.x,a.y,a.z],i=s.create();"viewport"===r.calculated.anchor&&s.fromRotation(i,-t.transform.angle),l.transformMat3(o,o,i),n.uniform3fv(e.u_lightpos,o),n.uniform1f(e.u_lightintensity,r.calculated.intensity),n.uniform3fv(e.u_lightcolor,r.calculated.color.slice(0,3))}var s=e("gl-matrix").mat3,u=e("gl-matrix").mat4,l=e("gl-matrix").vec3,c=e("../data/buffer"),f=e("./vertex_array_object"),p=e("../data/pos_array"),d=e("./pattern");t.exports=r,a.prototype.bindFramebuffer=function(){var e=this.gl;if(this.texture=this.painter.getViewportTexture(this.width,this.height),e.activeTexture(e.TEXTURE1),this.texture?e.bindTexture(e.TEXTURE_2D,this.texture):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,null),this.texture.width=this.width,this.texture.height=this.height),this.fbos)this.fbo=this.fbos.pop(),e.bindFramebuffer(e.FRAMEBUFFER,this.fbo),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0);else{this.fbo=e.createFramebuffer();var t=e.createRenderbuffer(),n=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,t),e.bindRenderbuffer(e.RENDERBUFFER,n),e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,this.width,this.height),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,this.fbo),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,t),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0)}},a.prototype.unbindFramebuffer=function(){this.painter.bindDefaultFramebuffer(),this.fbos?this.fbos.push(this.fbo):(this.painter.preFbos[this.width]||(this.painter.preFbos[this.width]={}),this.painter.preFbos[this.width][this.height]=[this.fbo]),this.painter.saveViewportTexture(this.texture)},a.prototype.renderToMap=function(){var e=this.gl,t=this.painter,n=t.useProgram("extrusionTexture");e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.texture),e.uniform1f(n.u_opacity,this.layer.paint["fill-extrusion-opacity"]),e.uniform1i(n.u_texture,1),e.uniformMatrix4fv(n.u_matrix,!1,u.ortho(u.create(),0,t.width,t.height,0,0,1)),e.disable(e.DEPTH_TEST),e.uniform1i(n.u_xdim,t.width),e.uniform1i(n.u_ydim,t.height);var r=new p;r.emplaceBack(0,0),r.emplaceBack(t.width,0),r.emplaceBack(0,t.height),r.emplaceBack(t.width,t.height);var a=c.fromStructArray(r,c.BufferType.VERTEX),o=new f;o.bind(e,n,a),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.enable(e.DEPTH_TEST)}},{"../data/buffer":8,"../data/pos_array":14,"./pattern":37,"./vertex_array_object":38,"gl-matrix":149}],31:[function(e,t,n){"use strict";function r(e,t,n,r,i,s,u,l,c){var f,p,d,h,m=t.gl,v=i.paint["line-dasharray"],y=i.paint["line-pattern"];if(l||c){var g=1/o(n,1,t.transform.tileZoom);if(v){f=t.lineAtlas.getDash(v.from,"round"===i.layout["line-cap"]),p=t.lineAtlas.getDash(v.to,"round"===i.layout["line-cap"]);var b=f.width*v.fromScale,_=p.width*v.toScale;m.uniform2f(e.u_patternscale_a,g/b,-f.height/2),m.uniform2f(e.u_patternscale_b,g/_,-p.height/2),m.uniform1f(e.u_sdfgamma,t.lineAtlas.width/(256*Math.min(b,_)*a.devicePixelRatio)/2)}else if(y){if(d=t.spriteAtlas.getPosition(y.from,!0),h=t.spriteAtlas.getPosition(y.to,!0),!d||!h)return;m.uniform2f(e.u_pattern_size_a,d.size[0]*y.fromScale/g,h.size[1]),m.uniform2f(e.u_pattern_size_b,h.size[0]*y.toScale/g,h.size[1])}}if(l){y||m.uniform4fv(e.u_color,i.paint["line-color"]),v?(m.uniform1i(e.u_image,0),m.activeTexture(m.TEXTURE0),t.lineAtlas.bind(m),m.uniform1f(e.u_tex_y_a,f.y),m.uniform1f(e.u_tex_y_b,p.y),m.uniform1f(e.u_mix,v.t)):y&&(m.uniform1i(e.u_image,0),m.activeTexture(m.TEXTURE0),t.spriteAtlas.bind(m,!0),m.uniform2fv(e.u_pattern_tl_a,d.tl),m.uniform2fv(e.u_pattern_br_a,d.br),m.uniform2fv(e.u_pattern_tl_b,h.tl),m.uniform2fv(e.u_pattern_br_b,h.br),m.uniform1f(e.u_fade,y.t));var x=1/a.devicePixelRatio;m.uniform1f(e.u_linewidth,i.paint["line-width"]/2),m.uniform1f(e.u_gapwidth,i.paint["line-gap-width"]/2),m.uniform1f(e.u_antialiasing,x/2),m.uniform1f(e.u_blur,i.paint["line-blur"]+x),m.uniform1f(e.u_opacity,i.paint["line-opacity"]),m.uniformMatrix2fv(e.u_antialiasingmatrix,!1,t.transform.lineAntialiasingMatrix),m.uniform1f(e.u_offset,-i.paint["line-offset"]),m.uniform1f(e.u_extra,t.transform.lineStretch)}t.enableTileClippingMask(s);var w=t.translatePosMatrix(s.posMatrix,n,i.paint["line-translate"],i.paint["line-translate-anchor"]);m.uniformMatrix4fv(e.u_matrix,!1,w),m.uniform1f(e.u_ratio,1/o(n,1,t.transform.zoom));for(var E=0,S=r.segments;E<S.length;E+=1){var T=S[E];T.vaos[i.id].bind(m,e,r.layoutVertexBuffer,r.elementBuffer,u.paintVertexBuffer,T.vertexOffset),m.drawElements(m.TRIANGLES,3*T.primitiveLength,m.UNSIGNED_SHORT,3*T.primitiveOffset*2)}}var a=e("../util/browser"),o=e("../source/pixels_to_tile_units");t.exports=function(e,t,n,a){if(!e.isOpaquePass){e.setDepthSublayer(0),e.depthMask(!1);var o=e.gl;if(o.enable(o.STENCIL_TEST),!(n.paint["line-width"]<=0))for(var i,s=n.paint["line-dasharray"]?"lineSDF":n.paint["line-pattern"]?"linePattern":"line",u=!0,l=0,c=a;l<c.length;l+=1){var f=c[l],p=t.getTile(f),d=p.getBucket(n);if(d){var h=d.buffers.layerData[n.id],m=e.currentProgram,v=e.useProgram(s,h.programConfiguration),y=u||v!==m,g=i!==p.coord.z;y&&h.programConfiguration.setUniforms(e.gl,v,n,{zoom:e.transform.zoom}),r(v,e,p,d.buffers,n,f,h,y,g),i=p.coord.z,u=!1}}}}},{"../source/pixels_to_tile_units":44,"../util/browser":107}],32:[function(e,t,n){"use strict";function r(e,t,n,r){if(!e.isOpaquePass){var o=e.gl;o.enable(o.DEPTH_TEST),e.depthMask(!0),o.depthFunc(o.LESS);for(var i=r.length&&r[0].z,s=0;s<r.length;s++){var u=r[s];e.setDepthSublayer(u.z-i),a(e,t,n,u)}o.depthFunc(o.LEQUAL)}}function a(e,t,n,r){var a=e.gl;a.disable(a.STENCIL_TEST);var l=t.getTile(r),c=e.transform.calculatePosMatrix(r,t.getSource().maxzoom);l.setAnimationLoop(e.style.animationLoop,n.paint["raster-fade-duration"]);var f=e.useProgram("raster");a.uniformMatrix4fv(f.u_matrix,!1,c),a.uniform1f(f.u_brightness_low,n.paint["raster-brightness-min"]),a.uniform1f(f.u_brightness_high,n.paint["raster-brightness-max"]),a.uniform1f(f.u_saturation_factor,s(n.paint["raster-saturation"])),a.uniform1f(f.u_contrast_factor,i(n.paint["raster-contrast"])),a.uniform3fv(f.u_spin_weights,o(n.paint["raster-hue-rotate"]));var p,d,h=l.sourceCache&&l.sourceCache.findLoadedParent(r,0,{}),m=u(l,h,n,e.transform);a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,l.texture),a.activeTexture(a.TEXTURE1),h?(a.bindTexture(a.TEXTURE_2D,h.texture),p=Math.pow(2,h.coord.z-l.coord.z),d=[l.coord.x*p%1,l.coord.y*p%1]):a.bindTexture(a.TEXTURE_2D,l.texture),a.uniform2fv(f.u_tl_parent,d||[0,0]),a.uniform1f(f.u_scale_parent,p||1),a.uniform1f(f.u_buffer_scale,1),a.uniform1f(f.u_opacity0,m[0]),a.uniform1f(f.u_opacity1,m[1]),a.uniform1i(f.u_image0,0),a.uniform1i(f.u_image1,1);var v=l.boundsBuffer||e.rasterBoundsBuffer,y=l.boundsVAO||e.rasterBoundsVAO;y.bind(a,f,v),a.drawArrays(a.TRIANGLE_STRIP,0,v.length)}function o(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}function i(e){return e>0?1/(1-e):1+e}function s(e){return e>0?1-1/(1.001-e):-e}function u(e,t,n,r){var a=[1,0],o=n.paint["raster-fade-duration"];if(e.sourceCache&&o>0){var i=Date.now(),s=(i-e.timeAdded)/o,u=t?(i-t.timeAdded)/o:-1,c=e.sourceCache.getSource(),f=r.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),p=!t||Math.abs(t.coord.z-f)>Math.abs(e.coord.z-f);a[0]=l.clamp(p?s:1-u,0,1),a[1]=t?1-a[0]:0}var d=n.paint["raster-opacity"];return a[0]*=d,a[1]*=d,a}var l=e("../util/util");t.exports=r},{"../util/util":126}],33:[function(e,t,n){"use strict";function r(e,t,n,r){if(!e.isOpaquePass){var o=!(n.layout["text-allow-overlap"]||n.layout["icon-allow-overlap"]||n.layout["text-ignore-placement"]||n.layout["icon-ignore-placement"]),i=e.gl;o?i.disable(i.STENCIL_TEST):i.enable(i.STENCIL_TEST),e.setDepthSublayer(0),e.depthMask(!1),a(e,t,n,r,!1,n.paint["icon-translate"],n.paint["icon-translate-anchor"],n.layout["icon-rotation-alignment"],n.layout["icon-rotation-alignment"],n.layout["icon-size"],n.paint["icon-halo-width"],n.paint["icon-halo-color"],n.paint["icon-halo-blur"],n.paint["icon-opacity"],n.paint["icon-color"]),a(e,t,n,r,!0,n.paint["text-translate"],n.paint["text-translate-anchor"],n.layout["text-rotation-alignment"],n.layout["text-pitch-alignment"],n.layout["text-size"],n.paint["text-halo-width"],n.paint["text-halo-color"],n.paint["text-halo-blur"],n.paint["text-opacity"],n.paint["text-color"]),t.map.showCollisionBoxes&&l(e,t,n,r)}}function a(e,t,n,r,a,s,u,l,c,f,p,d,h,m,v){if(a||!e.style.sprite||e.style.sprite.loaded()){var y=e.gl,g="map"===l,b="map"===c,_=b;_?y.enable(y.DEPTH_TEST):y.disable(y.DEPTH_TEST);for(var x,w=0,E=r;w<E.length;w+=1){var S=E[w],T=t.getTile(S),M=T.getBucket(n);if(M){var C=a?M.buffers.glyph:M.buffers.icon;if(C&&C.segments.length){var k=a||M.sdfIcons;x||(x=e.useProgram(k?"symbolSDF":"symbolIcon"),o(x,e,a,k,g,b,M.fontstack,f,M.iconsNeedLinear,a?M.adjustedTextSize:M.adjustedIconSize,m)),e.enableTileClippingMask(S),y.uniformMatrix4fv(x.u_matrix,!1,e.translatePosMatrix(S.posMatrix,T,s,u)),i(x,e,n,T,C,a,k,b,f,p,d,h,v)}}}_||y.enable(y.DEPTH_TEST)}}function o(e,t,n,r,a,o,i,s,l,c,f){var p=t.gl,d=t.transform;if(p.uniform1i(e.u_rotate_with_map,a),p.uniform1i(e.u_pitch_with_map,o),p.activeTexture(p.TEXTURE0),p.uniform1i(e.u_texture,0),n){var h=i&&t.glyphSource.getGlyphAtlas(i);if(!h)return;h.updateTexture(p),p.uniform2f(e.u_texsize,h.width/4,h.height/4)}else{var m=t.options.rotating||t.options.zooming,v=1!==s||u.devicePixelRatio!==t.spriteAtlas.pixelRatio||l,y=o||d.pitch;t.spriteAtlas.bind(p,r||m||v||y),p.uniform2f(e.u_texsize,t.spriteAtlas.width/4,t.spriteAtlas.height/4)}p.activeTexture(p.TEXTURE1),t.frameHistory.bind(p),p.uniform1i(e.u_fadetexture,1);var g=Math.log(s/c)/Math.LN2||0;p.uniform1f(e.u_zoom,10*(d.zoom-g)),p.uniform1f(e.u_pitch,d.pitch/360*2*Math.PI),p.uniform1f(e.u_bearing,d.bearing/360*2*Math.PI),p.uniform1f(e.u_aspect_ratio,d.width/d.height),p.uniform1f(e.u_opacity,f)}function i(e,t,n,r,a,o,i,u,l,m,v,y,g){var b=t.gl,_=t.transform,x=l/(o?24:1);if(u){var w=c(r,x,_.zoom);b.uniform2f(e.u_extrude_scale,w,w)}else{var E=_.altitude*x;b.uniform2f(e.u_extrude_scale,_.pixelsToGLUnits[0]*E,_.pixelsToGLUnits[1]*E)}if(i){var S=x*(u?Math.cos(_._pitch):1);m&&(b.uniform1f(e.u_gamma,(y*p/f+h)/S),b.uniform4fv(e.u_color,v),b.uniform1f(e.u_buffer,(d-m/x)/f),s(a,n,b,e)),b.uniform1f(e.u_gamma,h/S),b.uniform4fv(e.u_color,g),b.uniform1f(e.u_buffer,.75)}s(a,n,b,e)}function s(e,t,n,r){for(var a=0,o=e.segments;a<o.length;a+=1){var i=o[a];i.vaos[t.id].bind(n,r,e.layoutVertexBuffer,e.elementBuffer,null,i.vertexOffset),n.drawElements(n.TRIANGLES,3*i.primitiveLength,n.UNSIGNED_SHORT,3*i.primitiveOffset*2)}}var u=e("../util/browser"),l=e("./draw_collision_debug"),c=e("../source/pixels_to_tile_units");t.exports=r;var f=8,p=1.19,d=6,h=.105/u.devicePixelRatio},{"../source/pixels_to_tile_units":44,"../util/browser":107,"./draw_collision_debug":27}],34:[function(e,t,n){"use strict";var r=function(){this.changeTimes=new Float64Array(256),this.changeOpacities=new Uint8Array(256),this.opacities=new Uint8ClampedArray(256),this.array=new Uint8Array(this.opacities.buffer),this.previousZoom=0,this.firstFrame=!0};r.prototype.record=function(e,t,n){var r=this;this.firstFrame&&(e=0,this.firstFrame=!1),t=Math.floor(10*t);var a;if(t<this.previousZoom)for(a=t+1;a<=this.previousZoom;a++)r.changeTimes[a]=e,r.changeOpacities[a]=r.opacities[a];else for(a=t;a>this.previousZoom;a--)r.changeTimes[a]=e,r.changeOpacities[a]=r.opacities[a];for(a=0;a<256;a++){var o=e-r.changeTimes[a],i=255*(n?o/n:1);a<=t?r.opacities[a]=r.changeOpacities[a]+i:r.opacities[a]=r.changeOpacities[a]-i}this.changed=!0,this.previousZoom=t},r.prototype.bind=function(e){this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.changed&&(e.texSubImage2D(e.TEXTURE_2D,0,0,0,256,1,e.ALPHA,e.UNSIGNED_BYTE,this.array),this.changed=!1)):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,256,1,0,e.ALPHA,e.UNSIGNED_BYTE,this.array))},t.exports=r},{}],35:[function(e,t,n){"use strict";var r=e("../util/util"),a=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};a.prototype.setSprite=function(e){this.sprite=e},a.prototype.getDash=function(e,t){var n=e.join(",")+t;return this.positions[n]||(this.positions[n]=this.addDash(e,t)),this.positions[n]},a.prototype.addDash=function(e,t){var n=this,a=t?7:0,o=2*a+1,i=128;if(this.nextRow+o>this.height)return r.warnOnce("LineAtlas out of space"),null;for(var s=0,u=0;u<e.length;u++)s+=e[u];for(var l=this.width/s,c=l/2,f=e.length%2===1,p=-a;p<=a;p++)for(var d=n.nextRow+a+p,h=n.width*d,m=f?-e[e.length-1]:0,v=e[0],y=1,g=0;g<this.width;g++){for(;v<g/l;)m=v,v+=e[y],f&&y===e.length-1&&(v+=e[0]),y++;var b,_=Math.abs(g-m*l),x=Math.abs(g-v*l),w=Math.min(_,x),E=y%2===1;if(t){var S=a?p/a*(c+1):0;if(E){var T=c-Math.abs(S);b=Math.sqrt(w*w+T*T)}else b=c-Math.sqrt(w*w+S*S)}else b=(E?1:-1)*w;n.data[3+4*(h+g)]=Math.max(0,Math.min(255,b+i))}var M={y:(this.nextRow+a+.5)/this.height,height:2*a/this.height,width:s};return this.nextRow+=o,this.dirty=!0,M},a.prototype.bind=function(e){this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))},t.exports=a},{"../util/util":126}],36:[function(e,t,n){"use strict";var r=e("../util/browser"),a=e("gl-matrix").mat4,o=e("./frame_history"),i=e("../source/source_cache"),s=e("../data/extent"),u=e("../source/pixels_to_tile_units"),l=e("../util/util"),c=e("../data/buffer"),f=e("./vertex_array_object"),p=e("../data/raster_bounds_array"),d=e("../data/pos_array"),h=e("../data/program_configuration"),m=e("mapbox-gl-shaders"),v={symbol:e("./draw_symbol"),circle:e("./draw_circle"),line:e("./draw_line"),fill:e("./draw_fill"),"fill-extrusion":e("./draw_fill_extrusion"),raster:e("./draw_raster"),background:e("./draw_background"),debug:e("./draw_debug")},y=function(e,t){this.gl=e,this.transform=t,this.reusableTextures={},this.preFbos={},this.frameHistory=new o,this.setup(),this.numSublayers=i.maxUnderzooming+i.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.lineWidthRange=e.getParameter(e.ALIASED_LINE_WIDTH_RANGE),this.basicFillProgramConfiguration=h.createStatic(["color","opacity"]),this.emptyProgramConfiguration=new h};y.prototype.resize=function(e,t){var n=this.gl;this.width=e*r.devicePixelRatio,this.height=t*r.devicePixelRatio,n.viewport(0,0,this.width,this.height)},y.prototype.setup=function(){var e=this.gl;e.verbose=!0,e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.enable(e.STENCIL_TEST),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),this._depthMask=!1,e.depthMask(!1);var t=new d;t.emplaceBack(0,0),t.emplaceBack(s,0),t.emplaceBack(0,s),t.emplaceBack(s,s),this.tileExtentBuffer=c.fromStructArray(t,c.BufferType.VERTEX),this.tileExtentVAO=new f,this.tileExtentPatternVAO=new f;var n=new d;n.emplaceBack(0,0),n.emplaceBack(s,0),n.emplaceBack(s,s),n.emplaceBack(0,s),n.emplaceBack(0,0),this.debugBuffer=c.fromStructArray(n,c.BufferType.VERTEX),this.debugVAO=new f;var r=new p;r.emplaceBack(0,0,0,0),r.emplaceBack(s,0,32767,0),r.emplaceBack(0,s,0,32767),r.emplaceBack(s,s,32767,32767),this.rasterBoundsBuffer=c.fromStructArray(r,c.BufferType.VERTEX),this.rasterBoundsVAO=new f},y.prototype.clearColor=function(){var e=this.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},y.prototype.clearStencil=function(){var e=this.gl;e.clearStencil(0),e.stencilMask(255),e.clear(e.STENCIL_BUFFER_BIT)},y.prototype.clearDepth=function(){var e=this.gl;e.clearDepth(1),this.depthMask(!0),e.clear(e.DEPTH_BUFFER_BIT)},y.prototype._renderTileClippingMasks=function(e){var t=this,n=this.gl;n.colorMask(!1,!1,!1,!1),this.depthMask(!1),n.disable(n.DEPTH_TEST),n.enable(n.STENCIL_TEST),n.stencilMask(248),n.stencilOp(n.KEEP,n.KEEP,n.REPLACE);var r=1;this._tileClippingMaskIDs={};for(var a=0,o=e;a<o.length;a+=1){var i=o[a],s=t._tileClippingMaskIDs[i.id]=r++<<3;n.stencilFunc(n.ALWAYS,s,248);var u=t.useProgram("fill",t.basicFillProgramConfiguration);n.uniformMatrix4fv(u.u_matrix,!1,i.posMatrix),t.tileExtentVAO.bind(n,u,t.tileExtentBuffer),n.drawArrays(n.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}n.stencilMask(0),n.colorMask(!0,!0,!0,!0),this.depthMask(!0),n.enable(n.DEPTH_TEST)},y.prototype.enableTileClippingMask=function(e){var t=this.gl;t.stencilFunc(t.EQUAL,this._tileClippingMaskIDs[e.id],248)},y.prototype.prepareBuffers=function(){},y.prototype.bindDefaultFramebuffer=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},y.prototype.render=function(e,t){if(this.style=e,this.options=t,this.lineAtlas=e.lineAtlas,this.spriteAtlas=e.spriteAtlas,this.spriteAtlas.setSprite(e.sprite),this.glyphSource=e.glyphSource,this.frameHistory.record(Date.now(),this.transform.zoom,e.getTransition().duration),this.prepareBuffers(),this.clearColor(),this.clearDepth(),this.showOverdrawInspector(t.showOverdrawInspector),this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.isOpaquePass=!0,this.renderPass(),this.isOpaquePass=!1,this.renderPass(),this.options.showTileBoundaries){var n=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];v.debug(this,n,n.getVisibleCoordinates())}},y.prototype.renderPass=function(){var e,t,n=this,r=this.style._order;this.currentLayer=this.isOpaquePass?r.length-1:0;for(var a=0;a<r.length;a++){var o=n.style._layers[r[n.currentLayer]];o.source!==(e&&e.id)&&(e=n.style.sourceCaches[o.source],t=[],e&&(e.prepare&&e.prepare(),n.clearStencil(),t=e.getVisibleCoordinates(),e.getSource().isTileClipped&&n._renderTileClippingMasks(t)),n.isOpaquePass?n._showOverdrawInspector||n.gl.disable(n.gl.BLEND):(n.gl.enable(n.gl.BLEND),t.reverse())),n.renderLayer(n,e,o,t),n.currentLayer+=n.isOpaquePass?-1:1}},y.prototype.depthMask=function(e){e!==this._depthMask&&(this._depthMask=e,this.gl.depthMask(e))},y.prototype.renderLayer=function(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||r.length)&&(this.id=n.id,v[n.type](e,t,n,r))},y.prototype.setDepthSublayer=function(e){var t=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon,n=t-1+this.depthRange;this.gl.depthRange(n,t)},y.prototype.translatePosMatrix=function(e,t,n,r){if(!n[0]&&!n[1])return e;if("viewport"===r){var o=Math.sin(-this.transform.angle),i=Math.cos(-this.transform.angle);n=[n[0]*i-n[1]*o,n[0]*o+n[1]*i]}var s=[u(t,n[0],this.transform.zoom),u(t,n[1],this.transform.zoom),0],l=new Float32Array(16);return a.translate(l,e,s),l},y.prototype.saveTileTexture=function(e){var t=this.reusableTextures[e.size];t?t.push(e):this.reusableTextures[e.size]=[e]},y.prototype.saveViewportTexture=function(e){this.reusableTextures.viewport||(this.reusableTextures.viewport={}),this.reusableTextures.viewport.texture=e},y.prototype.getTileTexture=function(e,t){var n=this.reusableTextures[e];if(n){var r=n[t||e];return r&&r.length>0?r.pop():null}},y.prototype.getViewportTexture=function(e,t){if(this.reusableTextures.viewport){var n=this.reusableTextures.viewport.texture;return n.width===e&&n.height===t?n:(this.gl.deleteTexture(n),void(this.reusableTextures.viewport.texture=null))}},y.prototype.lineWidth=function(e){this.gl.lineWidth(l.clamp(e,this.lineWidthRange[0],this.lineWidthRange[1]))},y.prototype.showOverdrawInspector=function(e){if(e||this._showOverdrawInspector){this._showOverdrawInspector=e;var t=this.gl;if(e){t.blendFunc(t.CONSTANT_COLOR,t.ONE);var n=8,r=1/n;t.blendColor(r,r,r,0),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT)}else t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)}},y.prototype.createProgram=function(e,t){var n=this.gl,r=n.createProgram(),a=m[e],o="#define MAPBOX_GL_JS;\n";this._showOverdrawInspector&&(o+="#define OVERDRAW_INSPECTOR;\n");var i=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(i,t.applyPragmas(o+m.prelude.fragmentSource+a.fragmentSource,"fragment")),n.compileShader(i),n.attachShader(r,i);var s=n.createShader(n.VERTEX_SHADER);n.shaderSource(s,t.applyPragmas(o+m.prelude.vertexSource+a.vertexSource,"vertex")),n.compileShader(s),n.attachShader(r,s),n.linkProgram(r);for(var u=n.getProgramParameter(r,n.ACTIVE_ATTRIBUTES),l={program:r,numAttributes:u},c=0;c<u;c++){var f=n.getActiveAttrib(r,c);l[f.name]=n.getAttribLocation(r,f.name)}for(var p=n.getProgramParameter(r,n.ACTIVE_UNIFORMS),d=0;d<p;d++){var h=n.getActiveUniform(r,d);l[h.name]=n.getUniformLocation(r,h.name)}return l},y.prototype._createProgramCached=function(e,t){this.cache=this.cache||{};var n=""+e+(t.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=this.createProgram(e,t)),this.cache[n]},y.prototype.useProgram=function(e,t){var n=this.gl,r=this._createProgramCached(e,t||this.emptyProgramConfiguration);return this.currentProgram!==r&&(n.useProgram(r.program),this.currentProgram=r),r},t.exports=y},{"../data/buffer":8,"../data/extent":11,"../data/pos_array":14,"../data/program_configuration":15,"../data/raster_bounds_array":16,"../source/pixels_to_tile_units":44,"../source/source_cache":48,"../util/browser":107,"../util/util":126,"./draw_background":25,"./draw_circle":26,"./draw_debug":28,"./draw_fill":29,"./draw_fill_extrusion":30,"./draw_line":31,"./draw_raster":32,"./draw_symbol":33,"./frame_history":34,"./vertex_array_object":38,"gl-matrix":149,"mapbox-gl-shaders":162}],37:[function(e,t,n){"use strict";var r=e("../source/pixels_to_tile_units");n.prepare=function(e,t,n){var r=t.gl,a=t.spriteAtlas.getPosition(e.from,!0),o=t.spriteAtlas.getPosition(e.to,!0);a&&o&&(r.uniform1i(n.u_image,0),r.uniform2fv(n.u_pattern_tl_a,a.tl),r.uniform2fv(n.u_pattern_br_a,a.br),r.uniform2fv(n.u_pattern_tl_b,o.tl),r.uniform2fv(n.u_pattern_br_b,o.br),r.uniform1f(n.u_mix,e.t),r.uniform2fv(n.u_pattern_size_a,a.size),r.uniform2fv(n.u_pattern_size_b,o.size),r.uniform1f(n.u_scale_a,e.fromScale),r.uniform1f(n.u_scale_b,e.toScale),r.activeTexture(r.TEXTURE0),t.spriteAtlas.bind(r,!0))},n.setTile=function(e,t,n){var a=t.gl;a.uniform1f(n.u_tile_units_to_pixels,1/r(e,1,t.transform.tileZoom));var o=Math.pow(2,e.coord.z),i=e.tileSize*Math.pow(2,t.transform.tileZoom)/o,s=i*(e.coord.x+e.coord.w*o),u=i*e.coord.y;a.uniform2f(n.u_pixel_coord_upper,s>>16,u>>16),a.uniform2f(n.u_pixel_coord_lower,65535&s,65535&u)}},{"../source/pixels_to_tile_units":44}],38:[function(e,t,n){"use strict";var r=function(){this.boundProgram=null,this.boundVertexBuffer=null,this.boundVertexBuffer2=null,this.boundElementBuffer=null,this.boundVertexOffset=null,this.vao=null};r.prototype.bind=function(e,t,n,r,a,o){void 0===e.extVertexArrayObject&&(e.extVertexArrayObject=e.getExtension("OES_vertex_array_object"));var i=!this.vao||this.boundProgram!==t||this.boundVertexBuffer!==n||this.boundVertexBuffer2!==a||this.boundElementBuffer!==r||this.boundVertexOffset!==o;!e.extVertexArrayObject||i?(this.freshBind(e,t,n,r,a,o),this.gl=e):e.extVertexArrayObject.bindVertexArrayOES(this.vao)},r.prototype.freshBind=function(e,t,n,r,a,o){var i,s=t.numAttributes;if(e.extVertexArrayObject)this.vao&&this.destroy(),this.vao=e.extVertexArrayObject.createVertexArrayOES(),e.extVertexArrayObject.bindVertexArrayOES(this.vao),i=0,this.boundProgram=t,this.boundVertexBuffer=n,this.boundVertexBuffer2=a,this.boundElementBuffer=r,this.boundVertexOffset=o;else{i=e.currentNumAttributes||0;for(var u=s;u<i;u++)e.disableVertexAttribArray(u)}for(var l=i;l<s;l++)e.enableVertexAttribArray(l);n.bind(e),n.setVertexAttribPointers(e,t,o),a&&(a.bind(e),a.setVertexAttribPointers(e,t,o)),r&&r.bind(e),e.currentNumAttributes=s},r.prototype.destroy=function(){this.vao&&(this.gl.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},t.exports=r},{}],39:[function(e,t,n){"use strict";function r(e){var t=i.document.createElement("a");return t.href=e,t.href}var a=e("../util/evented"),o=e("../util/util"),i=e("../util/window"),s=e("../data/extent"),u=function(e){function t(t,n,r,a){var i=this;e.call(this),n=n||{},this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this.dispatcher=r,this._data=n.data,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type);var u=s/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*u,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*u,extent:s,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:Math.min(n.clusterMaxZoom,this.maxzoom-1)||this.maxzoom-1,extent:s,radius:(n.clusterRadius||50)*u,log:!1}},n.workerOptions),this.setEventedParent(a),this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(e){return e?void i.fire("error",{error:e}):(i.fire("data",{dataType:"source"}),void i.fire("source.load"))})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onAdd=function(e){this.map=e},t.prototype.setData=function(e){var t=this;return this._data=e,this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(e){return e?t.fire("error",{error:e}):void t.fire("data",{dataType:"source"})}),this},t.prototype._updateWorkerData=function(e){var t=this,n=o.extend({},this.workerOptions),a=this._data;"string"==typeof a?n.url=r(a):n.data=JSON.stringify(a),this.workerID=this.dispatcher.send(this.type+".loadData",n,function(n){t._loaded=!0,e(n)})},t.prototype.loadTile=function(e,t){var n=this,r=e.coord.z>this.maxzoom?Math.pow(2,e.coord.z-this.maxzoom):1,a={type:this.type,uid:e.uid,coord:e.coord,zoom:e.coord.z,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,overscaling:r,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};e.workerID=this.dispatcher.send("loadTile",a,function(r,a){if(e.unloadVectorData(),!e.aborted)return r?t(r):(e.loadVectorData(a,n.map.painter),e.redoWhenDone&&(e.redoWhenDone=!1,e.redoPlacement(n)),t(null))},this.workerID)},t.prototype.abortTile=function(e){e.aborted=!0},t.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},function(){},e.workerID)},t.prototype.serialize=function(){return{type:this.type,data:this._data}},t}(a);t.exports=u},{"../data/extent":11,"../util/evented":115,"../util/util":126,"../util/window":109}],40:[function(e,t,n){"use strict";var r=e("../util/ajax"),a=e("geojson-rewind"),o=e("./geojson_wrapper"),i=e("vt-pbf"),s=e("supercluster"),u=e("geojson-vt"),l=e("./vector_tile_worker_source"),c=function(e){function t(t,n,r){e.call(this,t,n),r&&(this.loadGeoJSON=r),this._geoJSONIndexes={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.loadVectorData=function(e,t){var n=e.source,r=e.coord;if(!this._geoJSONIndexes[n])return t(null,null);var a=this._geoJSONIndexes[n].getTile(Math.min(r.z,e.maxZoom),r.x,r.y);if(!a)return t(null,null);var s=new o(a.features);s.name="_geojsonTileLayer";var u=i({layers:{_geojsonTileLayer:s}});0===u.byteOffset&&u.byteLength===u.buffer.byteLength||(u=new Uint8Array(u)),s.rawData=u.buffer,t(null,s)},t.prototype.loadData=function(e,t){var n=function(n,r){var o=this;return n?t(n):"object"!=typeof r?t(new Error("Input data is not a valid GeoJSON object.")):(a(r,!0),void this._indexData(r,e,function(n,r){return n?t(n):(o._geoJSONIndexes[e.source]=r,void t(null))}))}.bind(this);this.loadGeoJSON(e,n)},t.prototype.loadGeoJSON=function(e,t){if(e.url)r.getJSON(e.url,t);else{if("string"!=typeof e.data)return t(new Error("Input data is not a valid GeoJSON object."));try{return t(null,JSON.parse(e.data))}catch(e){return t(new Error("Input data is not a valid GeoJSON object."))}}},t.prototype._indexData=function(e,t,n){try{t.cluster?n(null,s(t.superclusterOptions).load(e.features)):n(null,u(e,t.geojsonVtOptions))}catch(e){return n(e)}},t}(l);t.exports=c},{"../util/ajax":106,"./geojson_wrapper":41,"./vector_tile_worker_source":52,"geojson-rewind":138,"geojson-vt":144,supercluster:198,"vt-pbf":209}],41:[function(e,t,n){"use strict";var r=e("point-geometry"),a=e("vector-tile").VectorTileFeature,o=e("../data/extent"),i=function(e){var t=this;if(this.type=e.type,1===e.type){this.rawGeometry=[];for(var n=0;n<e.geometry.length;n++)t.rawGeometry.push([e.geometry[n]])}else this.rawGeometry=e.geometry;this.properties=e.tags,this.extent=o};i.prototype.loadGeometry=function(){var e=this,t=this.rawGeometry;this.geometry=[];for(var n=0;n<t.length;n++){for(var a=t[n],o=[],i=0;i<a.length;i++)o.push(new r(a[i][0],a[i][1]));e.geometry.push(o)}return this.geometry},i.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-(1/0),r=1/0,a=-(1/0),o=0;o<e.length;o++)for(var i=e[o],s=0;s<i.length;s++){var u=i[s];t=Math.min(t,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),a=Math.max(a,u.y)}return[t,r,n,a]},i.prototype.toGeoJSON=function(){a.prototype.toGeoJSON.call(this)};var s=function(e){this.features=e,this.length=e.length,this.extent=o};s.prototype.feature=function(e){return new i(this.features[e])},t.exports=s},{"../data/extent":11,"point-geometry":195,"vector-tile":205}],42:[function(e,t,n){"use strict";var r=e("../util/util"),a=e("../util/window"),o=e("./tile_coord"),i=e("../geo/lng_lat"),s=e("point-geometry"),u=e("../util/evented"),l=e("../util/ajax"),c=e("../data/extent"),f=e("../data/raster_bounds_array"),p=e("../data/buffer"),d=e("../render/vertex_array_object"),h=function(e){function t(t,n,r,a){e.call(this),this.id=t,this.dispatcher=r,this.coordinates=n.coordinates,this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.setEventedParent(a),this.fire("dataloading",{dataType:"source"}),this._load(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._load=function(e){var t=this;this.url=e.url,l.getImage(e.url,function(e,n){return e?t.fire("error",{error:e}):(t.image=n,void t._finishLoading())})},t.prototype._finishLoading=function(){this.fire("data",{dataType:"source"}),this.fire("source.load"),this.map&&this.setCoordinates(this.coordinates)},t.prototype.onAdd=function(e){this.map=e,this.image&&this.setCoordinates(this.coordinates)},t.prototype.setCoordinates=function(e){this.coordinates=e;var t=this.map,n=e.map(function(e){return t.transform.locationCoordinate(i.convert(e)).zoomTo(0)}),a=this.centerCoord=r.getCoordinatesCenter(n);return a.column=Math.round(a.column),a.row=Math.round(a.row),this.minzoom=this.maxzoom=a.zoom,this.coord=new o(a.zoom,a.column,a.row),this._tileCoords=n.map(function(e){var t=e.zoomTo(a.zoom);return new s(Math.round((t.column-a.column)*c),Math.round((t.row-a.row)*c))}),this.fire("data",{dataType:"source"}),this},t.prototype._setTile=function(e){this.tile=e;var t=32767,n=new f;n.emplaceBack(this._tileCoords[0].x,this._tileCoords[0].y,0,0),n.emplaceBack(this._tileCoords[1].x,this._tileCoords[1].y,t,0),n.emplaceBack(this._tileCoords[3].x,this._tileCoords[3].y,0,t),n.emplaceBack(this._tileCoords[2].x,this._tileCoords[2].y,t,t),this.tile.buckets={},this.tile.boundsBuffer=p.fromStructArray(n,p.BufferType.VERTEX),this.tile.boundsVAO=new d},t.prototype.prepare=function(){this.tile&&this.image&&this._prepareImage(this.map.painter.gl,this.image)},t.prototype._prepareImage=function(e,t){"loaded"!==this.tile.state?(this.tile.state="loaded",this.tile.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)):t instanceof a.HTMLVideoElement&&(e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,t))},t.prototype.loadTile=function(e,t){this.coord&&this.coord.toString()===e.coord.toString()?(this._setTile(e),t(null)):(e.state="errored",t(null))},t.prototype.serialize=function(){return{type:"image",urls:this.url,coordinates:this.coordinates}},t}(u);t.exports=h},{"../data/buffer":8,"../data/extent":11,"../data/raster_bounds_array":16,"../geo/lng_lat":19,"../render/vertex_array_object":38,"../util/ajax":106,"../util/evented":115,"../util/util":126,"../util/window":109,"./tile_coord":50,"point-geometry":195}],43:[function(e,t,n){"use strict";var r=e("../util/util"),a=e("../util/ajax"),o=e("../util/browser"),i=e("../util/mapbox").normalizeSourceURL;t.exports=function(e,t){var n=function(e,n){if(e)return t(e);var a=r.pick(n,["tiles","minzoom","maxzoom","attribution"]);n.vector_layers&&(a.vectorLayers=n.vector_layers,a.vectorLayerIds=a.vectorLayers.map(function(e){return e.id})),t(null,a)};e.url?a.getJSON(i(e.url),n):o.frame(n.bind(null,null,e))}},{"../util/ajax":106,"../util/browser":107,"../util/mapbox":122,"../util/util":126}],44:[function(e,t,n){"use strict";var r=e("../data/extent");t.exports=function(e,t,n){return t*(r/(e.tileSize*Math.pow(2,n-e.coord.z)))}},{"../data/extent":11}],45:[function(e,t,n){"use strict";function r(e,t){var n=e.coord,r=t.coord;return n.z-r.z||n.y-r.y||n.w-r.w||n.x-r.x}function a(e){for(var t=e[0]||{},n=1;n<e.length;n++){var r=e[n];for(var a in r){var o=r[a],i=t[a];if(void 0===i)i=t[a]=o;else for(var s=0;s<o.length;s++)i.push(o[s])}}return t}var o=e("./tile_coord");n.rendered=function(e,t,n,o,i,s){var u=e.tilesIn(n);u.sort(r);for(var l=[],c=0;c<u.length;c++){var f=u[c];f.tile.featureIndex&&l.push(f.tile.featureIndex.query({queryGeometry:f.queryGeometry,scale:f.scale,tileSize:f.tile.tileSize,bearing:s,params:o},t))}return a(l)},n.source=function(e,t){for(var n=e.getRenderableIds().map(function(t){return e.getTileByID(t)}),r=[],a={},i=0;i<n.length;i++){var s=n[i],u=new o(Math.min(s.sourceMaxZoom,s.coord.z),s.coord.x,s.coord.y,0).id;a[u]||(a[u]=!0,s.querySourceFeatures(r,t))}return r}},{"./tile_coord":50}],46:[function(e,t,n){"use strict";var r=e("../util/util"),a=e("../util/ajax"),o=e("../util/evented"),i=e("./load_tilejson"),s=e("../util/mapbox").normalizeTileURL,u=function(e){function t(t,n,a,o){var s=this;e.call(this),this.id=t,this.dispatcher=a,this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,r.extend(this,r.pick(n,["url","scheme","tileSize"])),this.setEventedParent(o),this.fire("dataloading",{dataType:"source"}),i(n,function(e,t){return e?s.fire("error",e):(r.extend(s,t),s.fire("data",{dataType:"source"}),void s.fire("source.load"))})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onAdd=function(e){this.map=e},t.prototype.serialize=function(){return{type:"raster",url:this.url,tileSize:this.tileSize,tiles:this.tiles}},t.prototype.loadTile=function(e,t){function n(n,r){if(delete e.request,e.aborted)return this.state="unloaded",t(null);if(n)return this.state="errored",t(n);var a=this.map.painter.gl;e.texture=this.map.painter.getTileTexture(r.width),e.texture?(a.bindTexture(a.TEXTURE_2D,e.texture),a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,r)):(e.texture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,e.texture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,r),e.texture.size=r.width),a.generateMipmap(a.TEXTURE_2D),e.state="loaded",t(null)}var r=s(e.coord.url(this.tiles,null,this.scheme),this.url,this.tileSize);e.request=a.getImage(r,n.bind(this))},t.prototype.abortTile=function(e){e.request&&(e.request.abort(),delete e.request)},t.prototype.unloadTile=function(e){e.texture&&this.map.painter.saveTileTexture(e.texture)},t}(o);t.exports=u},{"../util/ajax":106,"../util/evented":115,"../util/mapbox":122,"../util/util":126,"./load_tilejson":43}],47:[function(e,t,n){"use strict";var r=e("../util/util"),a={vector:e("../source/vector_tile_source"),raster:e("../source/raster_tile_source"),geojson:e("../source/geojson_source"),video:e("../source/video_source"),image:e("../source/image_source")};n.create=function(e,t,n,o){if(t=new a[t.type](e,t,n,o),t.setEventedParent(o),t.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+t.id);return r.bindAll(["load","abort","unload","serialize","prepare"],t),t},n.getType=function(e){return a[e]},n.setType=function(e,t){a[e]=t}},{"../source/geojson_source":39,"../source/image_source":42,"../source/raster_tile_source":46,"../source/vector_tile_source":51,"../source/video_source":53,"../util/util":126}],48:[function(e,t,n){"use strict";function r(e,t,n){var r=n.zoomTo(Math.min(e.z,t));return{x:(r.column-(e.x+e.w*Math.pow(2,e.z)))*p,y:(r.row-e.y)*p}}function a(e,t){return e%32-t%32}var o=e("./source"),i=e("./tile"),s=e("../util/evented"),u=e("./tile_coord"),l=e("../util/lru_cache"),c=e("../geo/coordinate"),f=e("../util/util"),p=e("../data/extent"),d=function(e){function t(t,n,r){e.call(this),this.id=t,this.dispatcher=r,this._source=o.create(t,n,r,this),this.on("source.load",function(){this.map&&this._source.onAdd&&this._source.onAdd(this.map),this._sourceLoaded=!0}),this.on("error",function(){this._sourceErrored=!0}),this.on("data",function(e){this._sourceLoaded&&"source"===e.dataType&&(this.reload(),this.transform&&this.update(this.transform))}),this._tiles={},this._cache=new l(0,this.unloadTile.bind(this)),this._isIdRenderable=this._isIdRenderable.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onAdd=function(e){this.map=e,this._source&&this._source.onAdd&&this._source.onAdd(e)},t.prototype.loaded=function(){var e=this;if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var n=e._tiles[t];if("loaded"!==n.state&&"errored"!==n.state)return!1}return!0},t.prototype.getSource=function(){return this._source},t.prototype.loadTile=function(e,t){return this._source.loadTile(e,t)},t.prototype.unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e)},t.prototype.abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e)},t.prototype.serialize=function(){return this._source.serialize()},t.prototype.prepare=function(){if(this._sourceLoaded&&this._source.prepare)return this._source.prepare()},t.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(a)},t.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},t.prototype._isIdRenderable=function(e){return this._tiles[e].hasData()&&!this._coveredTiles[e]},t.prototype.reload=function(){var e=this;this._cache.reset();for(var t in this._tiles){var n=e._tiles[t];"loading"!==n.state&&(n.state="reloading"),e.loadTile(e._tiles[t],e._tileLoaded.bind(e,e._tiles[t]))}},t.prototype._tileLoaded=function(e,t){return t?(e.state="errored",void this._source.fire("error",{tile:e,error:t})):(e.sourceCache=this,e.timeAdded=(new Date).getTime(),this._source.fire("data",{tile:e,dataType:"tile"}),void(this.map&&(this.map.painter.tileExtentVAO.vao=null)))},t.prototype.getTile=function(e){return this.getTileByID(e.id)},t.prototype.getTileByID=function(e){return this._tiles[e]},t.prototype.getZoom=function(e){return e.zoom+e.scaleZoom(e.tileSize/this._source.tileSize)},t.prototype.findLoadedChildren=function(e,t,n){var r=this,a=!1;for(var o in this._tiles){var i=r._tiles[o];if(!(n[o]||!i.hasData()||i.coord.z<=e.z||i.coord.z>t)){var s=Math.pow(2,Math.min(i.coord.z,r._source.maxzoom)-Math.min(e.z,r._source.maxzoom));if(Math.floor(i.coord.x/s)===e.x&&Math.floor(i.coord.y/s)===e.y)for(n[o]=!0,a=!0;i&&i.coord.z-1>e.z;){var u=i.coord.parent(r._source.maxzoom).id;i=r._tiles[u],i&&i.hasData()&&(delete n[o],n[u]=!0)}}}return a},t.prototype.findLoadedParent=function(e,t,n){for(var r=this,a=e.z-1;a>=t;a--){e=e.parent(r._source.maxzoom);var o=r._tiles[e.id];if(o&&o.hasData())return n[e.id]=!0,o;if(r._cache.has(e.id))return r.addTile(e),n[e.id]=!0,r._tiles[e.id]}},t.prototype.updateCacheSize=function(e){var t=Math.ceil(e.width/e.tileSize)+1,n=Math.ceil(e.height/e.tileSize)+1,r=t*n,a=5;this._cache.setMaxSize(Math.floor(r*a))},t.prototype.update=function(e){var n=this;if(this._sourceLoaded){var r,a,o;this.updateCacheSize(e);var i=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),s=Math.max(i-t.maxOverzooming,this._source.minzoom),l=Math.max(i+t.maxUnderzooming,this._source.minzoom),c={};this._coveredTiles={};var p;for(p=this.used?this._source.coord?[this._source.coord]:e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}):[],r=0;r<p.length;r++)a=p[r],o=n.addTile(a),c[a.id]=!0,o.hasData()||n.findLoadedChildren(a,l,c)||n.findLoadedParent(a,s,c);for(var d={},h=Object.keys(c),m=0;m<h.length;m++){var v=h[m];a=u.fromID(v),o=n._tiles[v],o&&o.animationLoopEndTime>=Date.now()&&(n.findLoadedChildren(a,l,c)&&(c[v]=!0),n.findLoadedParent(a,s,d))}var y;for(y in d)c[y]||(n._coveredTiles[y]=!0);for(y in d)c[y]=!0;var g=f.keysDifference(this._tiles,c);for(r=0;r<g.length;r++)n.removeTile(+g[r]);this.transform=e}},t.prototype.addTile=function(e){var t=this._tiles[e.id];if(t)return t;var n=e.wrapped();if(t=this._tiles[n.id],t||(t=this._cache.get(n.id),t&&t.redoPlacement(this._source)),!t){var r=e.z,a=r>this._source.maxzoom?Math.pow(2,r-this._source.maxzoom):1;t=new i(n,this._source.tileSize*a,this._source.maxzoom),this.loadTile(t,this._tileLoaded.bind(this,t))}return t.uses++,this._tiles[e.id]=t,this._source.fire("dataloading",{tile:t,dataType:"tile"}),t},t.prototype.removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._source.fire("data",{tile:t,dataType:"tile"}),t.uses>0||(t.hasData()?this._cache.add(t.coord.wrapped().id,t):(t.aborted=!0,this.abortTile(t),this.unloadTile(t))))},t.prototype.clearTiles=function(){var e=this;for(var t in this._tiles)e.removeTile(t);this._cache.reset()},t.prototype.tilesIn=function(e){for(var t=this,n={},a=this.getIds(),o=1/0,i=1/0,s=-(1/0),l=-(1/0),f=e[0].zoom,d=0;d<e.length;d++){var h=e[d];o=Math.min(o,h.column),i=Math.min(i,h.row),s=Math.max(s,h.column),l=Math.max(l,h.row)}for(var m=0;m<a.length;m++){var v=t._tiles[a[m]],y=u.fromID(a[m]),g=[r(y,v.sourceMaxZoom,new c(o,i,f)),r(y,v.sourceMaxZoom,new c(s,l,f))];if(g[0].x<p&&g[0].y<p&&g[1].x>=0&&g[1].y>=0){for(var b=[],_=0;_<e.length;_++)b.push(r(y,v.sourceMaxZoom,e[_]));var x=n[v.coord.id];void 0===x&&(x=n[v.coord.id]={tile:v,coord:y,queryGeometry:[],scale:Math.pow(2,t.transform.zoom-v.coord.z)}),x.queryGeometry.push(b)}}var w=[];for(var E in n)w.push(n[E]);return w},t.prototype.redoPlacement=function(){for(var e=this,t=this.getIds(),n=0;n<t.length;n++){var r=e.getTileByID(t[n]);r.redoPlacement(e._source)}},t.prototype.getVisibleCoordinates=function(){for(var e=this,t=this.getRenderableIds().map(u.fromID),n=0,r=t;n<r.length;n+=1){var a=r[n];a.posMatrix=e.transform.calculatePosMatrix(a,e._source.maxzoom)}return t},t}(s);d.maxOverzooming=10,d.maxUnderzooming=3,t.exports=d},{"../data/extent":11,"../geo/coordinate":18,"../util/evented":115,"../util/lru_cache":121,"../util/util":126,"./source":47,"./tile":49,"./tile_coord":50}],49:[function(e,t,n){"use strict";var r=e("../util/util"),a=e("../data/bucket"),o=e("../data/feature_index"),i=e("vector-tile"),s=e("pbf"),u=e("../util/vectortile_to_geojson"),l=e("feature-filter"),c=e("../symbol/collision_tile"),f=e("../symbol/collision_box"),p=e("../symbol/symbol_instances"),d=e("../symbol/symbol_quads"),h=function(e,t,n){this.coord=e,this.uid=r.uniqueId(),this.uses=0,this.tileSize=t,this.sourceMaxZoom=n,this.buckets={},this.state="loading"};h.prototype.setAnimationLoop=function(e,t){this.animationLoopEndTime=t+Date.now(),void 0!==this.animationLoopId&&e.cancel(this.animationLoopId),this.animationLoopId=e.set(t)},h.prototype.loadVectorData=function(e,t){this.hasData()&&this.unloadVectorData(t),this.state="loaded",e&&(e.rawTileData&&(this.rawTileData=e.rawTileData),this.collisionBoxArray=new f(e.collisionBoxArray),this.collisionTile=new c(e.collisionTile,this.collisionBoxArray),this.symbolInstancesArray=new p(e.symbolInstancesArray),this.symbolQuadsArray=new d(e.symbolQuadsArray),this.featureIndex=new o(e.featureIndex,this.rawTileData,this.collisionTile),this.buckets=a.deserialize(e.buckets,t.style))},h.prototype.reloadSymbolData=function(e,t){var n=this;if("unloaded"!==this.state){this.collisionTile=new c(e.collisionTile,this.collisionBoxArray),this.featureIndex.setCollisionTile(this.collisionTile);for(var o in this.buckets){var i=n.buckets[o];"symbol"===i.type&&(i.destroy(),delete n.buckets[o])}r.extend(this.buckets,a.deserialize(e.buckets,t))}},h.prototype.unloadVectorData=function(){var e=this;for(var t in this.buckets)e.buckets[t].destroy();this.buckets={},this.collisionBoxArray=null,this.symbolQuadsArray=null,this.symbolInstancesArray=null,this.collisionTile=null,this.featureIndex=null,this.state="unloaded"},h.prototype.redoPlacement=function(e){function t(t,n){this.reloadSymbolData(n,e.map.style),e.fire("data",{tile:this,dataType:"tile"}),e.map&&(e.map.painter.tileExtentVAO.vao=null),this.state="loaded",this.redoWhenDone&&(this.redoPlacement(e),this.redoWhenDone=!1)}if("vector"===e.type||"geojson"===e.type){if("loaded"!==this.state||"reloading"===this.state)return void(this.redoWhenDone=!0);this.state="reloading",e.dispatcher.send("redoPlacement",{type:e.type,uid:this.uid,source:e.id,angle:e.map.transform.angle,pitch:e.map.transform.pitch,showCollisionBoxes:e.map.showCollisionBoxes},t.bind(this),this.workerID)}},h.prototype.getBucket=function(e){return this.buckets[e.id]},h.prototype.querySourceFeatures=function(e,t){var n=this;if(this.rawTileData){this.vtLayers||(this.vtLayers=new i.VectorTile(new s(this.rawTileData)).layers);var r=this.vtLayers._geojsonTileLayer||this.vtLayers[t.sourceLayer];if(r)for(var a=l(t&&t.filter),o={z:this.coord.z,x:this.coord.x,y:this.coord.y},c=0;c<r.length;c++){var f=r.feature(c);if(a(f)){var p=new u(f,n.coord.z,n.coord.x,n.coord.y);p.tile=o,e.push(p)}}}},h.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state},t.exports=h},{"../data/bucket":2,"../data/feature_index":12,"../symbol/collision_box":75,"../symbol/collision_tile":77,"../symbol/symbol_instances":86,"../symbol/symbol_quads":87,"../util/util":126,"../util/vectortile_to_geojson":127,"feature-filter":137,pbf:193,"vector-tile":205}],50:[function(e,t,n){"use strict";function r(e,t){if(e.row>t.row){var n=e;e=t,t=n}return{x0:e.column,y0:e.row,x1:t.column,y1:t.row,dx:t.column-e.column,dy:t.row-e.row}}function a(e,t,n,r,a){var o=Math.max(n,Math.floor(t.y0)),i=Math.min(r,Math.ceil(t.y1));if(e.x0===t.x0&&e.y0===t.y0?e.x0+t.dy/e.dy*e.dx<t.x1:e.x1-t.dy/e.dy*e.dx<t.x0){var s=e;e=t,t=s}for(var u=e.dx/e.dy,l=t.dx/t.dy,c=e.dx>0,f=t.dx<0,p=o;p<i;p++){var d=u*Math.max(0,Math.min(e.dy,p+c-e.y0))+e.x0,h=l*Math.max(0,Math.min(t.dy,p+f-t.y0))+t.x0;a(Math.floor(h),Math.ceil(d),p)}}function o(e,t,n,o,i,s){var u,l=r(e,t),c=r(t,n),f=r(n,e);l.dy>c.dy&&(u=l,l=c,c=u),l.dy>f.dy&&(u=l,l=f,f=u),c.dy>f.dy&&(u=c,c=f,f=u),l.dy&&a(f,l,o,i,s),c.dy&&a(f,c,o,i,s)}function i(e,t,n){for(var r,a="",o=e;o>0;o--)r=1<<o-1,a+=(t&r?1:0)+(n&r?2:0);return a}var s=e("whoots-js"),u=e("../geo/coordinate"),l=function(e,t,n,r){isNaN(r)&&(r=0),this.z=+e,this.x=+t,this.y=+n,this.w=+r,r*=2,r<0&&(r=r*-1-1);var a=1<<this.z;this.id=32*(a*a*r+a*this.y+this.x)+this.z,this.posMatrix=null};l.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},l.prototype.toCoordinate=function(e){var t=Math.min(this.z,e),n=Math.pow(2,t),r=this.y,a=this.x+n*this.w;return new u(a,r,t)},l.prototype.url=function(e,t,n){var r=s.getTileBBox(this.x,this.y,this.z),a=i(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",Math.min(this.z,t||this.z)).replace("{x}",this.x).replace("{y}","tms"===n?Math.pow(2,this.z)-this.y-1:this.y).replace("{quadkey}",a).replace("{bbox-epsg-3857}",r)},l.prototype.parent=function(e){return 0===this.z?null:this.z>e?new l(this.z-1,this.x,this.y,this.w):new l(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},l.prototype.wrapped=function(){return new l(this.z,this.x,this.y,0)},l.prototype.children=function(e){if(this.z>=e)return[new l(this.z+1,this.x,this.y,this.w)];var t=this.z+1,n=2*this.x,r=2*this.y;return[new l(t,n,r,this.w),new l(t,n+1,r,this.w),new l(t,n,r+1,this.w),new l(t,n+1,r+1,this.w)]},l.cover=function(e,t,n){function r(e,t,r){var o,s,u;if(r>=0&&r<=a)for(o=e;o<t;o++)s=(o%a+a)%a,u=new l(n,s,r,Math.floor(o/a)),i[u.id]=u}var a=1<<e,i={};return o(t[0],t[1],t[2],0,a,r),o(t[2],t[3],t[0],0,a,r),Object.keys(i).map(function(e){return i[e]})},l.fromID=function(e){var t=e%32,n=1<<t,r=(e-t)/32,a=r%n,o=(r-a)/n%n,i=Math.floor(r/(n*n));return i%2!==0&&(i=i*-1-1),i/=2,new l(t,a,o,i)},t.exports=l},{"../geo/coordinate":18,"whoots-js":213}],51:[function(e,t,n){"use strict";var r=e("../util/evented"),a=e("../util/util"),o=e("./load_tilejson"),i=e("../util/mapbox").normalizeTileURL,s=function(e){function t(t,n,r,i){var s=this;if(e.call(this),this.id=t,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,a.extend(this,a.pick(n,["url","scheme","tileSize"])),this._options=a.extend({type:"vector"},n),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i),this.fire("dataloading",{dataType:"source"}),o(n,function(e,t){return e?void s.fire("error",e):(a.extend(s,t),s.fire("data",{dataType:"source"}),void s.fire("source.load"))})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onAdd=function(e){this.map=e},t.prototype.serialize=function(){return a.extend({},this._options)},t.prototype.loadTile=function(e,t){function n(n,r){if(!e.aborted){if(n)return t(n);e.loadVectorData(r,this.map.painter),e.redoWhenDone&&(e.redoWhenDone=!1,e.redoPlacement(this)),t(null),e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)}}var r=e.coord.z>this.maxzoom?Math.pow(2,e.coord.z-this.maxzoom):1,a={url:i(e.coord.url(this.tiles,this.maxzoom,this.scheme),this.url),uid:e.uid,coord:e.coord,zoom:e.coord.z,tileSize:this.tileSize*r,type:this.type,source:this.id,overscaling:r,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};e.workerID?"loading"===e.state?e.reloadCallback=t:this.dispatcher.send("reloadTile",a,n.bind(this),e.workerID):e.workerID=this.dispatcher.send("loadTile",a,n.bind(this))},t.prototype.abortTile=function(e){this.dispatcher.send("abortTile",{uid:e.uid,type:this.type,source:this.id},null,e.workerID)},t.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},null,e.workerID)},t}(r);t.exports=s},{"../util/evented":115,"../util/mapbox":122,"../util/util":126,"./load_tilejson":43}],52:[function(e,t,n){"use strict";var r=e("../util/ajax"),a=e("vector-tile"),o=e("pbf"),i=e("./worker_tile"),s=e("../util/util"),u=function(e,t,n){this.actor=e,this.layerIndex=t,n&&(this.loadVectorData=n),this.loading={},this.loaded={}};u.prototype.loadTile=function(e,t){function n(e,n){return delete this.loading[r][a],e?t(e):n?(o.vectorTile=n,o.parse(n,this.layerIndex,this.actor,function(e,r,a){return e?t(e):void t(null,s.extend({rawTileData:n.rawData},r),a)}),this.loaded[r]=this.loaded[r]||{},void(this.loaded[r][a]=o)):t(null,null)}var r=e.source,a=e.uid;this.loading[r]||(this.loading[r]={});var o=this.loading[r][a]=new i(e);o.abort=this.loadVectorData(e,n.bind(this))},u.prototype.reloadTile=function(e,t){var n=this.loaded[e.source],r=e.uid;if(n&&n[r]){var a=n[r];a.parse(a.vectorTile,this.layerIndex,this.actor,t)}},u.prototype.abortTile=function(e){var t=this.loading[e.source],n=e.uid;t&&t[n]&&t[n].abort&&(t[n].abort(),delete t[n])},u.prototype.removeTile=function(e){var t=this.loaded[e.source],n=e.uid;t&&t[n]&&delete t[n]},u.prototype.loadVectorData=function(e,t){function n(e,n){if(e)return t(e);var r=new a.VectorTile(new o(n));r.rawData=n,t(e,r)}var i=r.getArrayBuffer(e.url,n.bind(this));return function(){i.abort()}},u.prototype.redoPlacement=function(e,t){var n=this.loaded[e.source],r=this.loading[e.source],a=e.uid;if(n&&n[a]){var o=n[a],i=o.redoPlacement(e.angle,e.pitch,e.showCollisionBoxes);i.result&&t(null,i.result,i.transferables)}else r&&r[a]&&(r[a].angle=e.angle)},t.exports=u},{"../util/ajax":106,"../util/util":126,"./worker_tile":55,pbf:193,"vector-tile":205}],53:[function(e,t,n){"use strict";var r=e("../util/ajax"),a=e("./image_source"),o=function(e){function t(t,n,r,a){e.call(this,t,n,r,a),this.roundZoom=!0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._load=function(e){var t=this;this.urls=e.urls,r.getVideo(e.urls,function(e,n){if(e)return t.fire("error",{error:e});t.video=n,t.video.loop=!0;var r;t.video.addEventListener("playing",function(){r=t.map.style.animationLoop.set(1/0),t.map._rerender()}),t.video.addEventListener("pause",function(){t.map.style.animationLoop.cancel(r)}),t.map&&t.video.play(),t._finishLoading()})},t.prototype.getVideo=function(){return this.video},t.prototype.onAdd=function(e){this.map||(this.map=e,this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},t.prototype.prepare=function(){!this.tile||this.video.readyState<2||this._prepareImage(this.map.painter.gl,this.video)},t.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},t}(a);t.exports=o},{"../util/ajax":106,"./image_source":42}],54:[function(e,t,n){"use strict";var r=e("../util/actor"),a=e("../style/style_layer_index"),o=e("./vector_tile_worker_source"),i=e("./geojson_worker_source"),s=function(e){var t=this;this.self=e,this.actor=new r(e,this),this.layerIndexes={},this.workerSourceTypes={vector:o,geojson:i},this.workerSources={},this.self.registerWorkerSource=function(e,n){if(t.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');t.workerSourceTypes[e]=n}};s.prototype.setLayers=function(e,t){this.getLayerIndex(e).replace(t)},s.prototype.updateLayers=function(e,t){this.getLayerIndex(e).update(t.layers,t.removedIds,t.symbolOrder)},s.prototype.loadTile=function(e,t,n){this.getWorkerSource(e,t.type).loadTile(t,n)},s.prototype.reloadTile=function(e,t,n){this.getWorkerSource(e,t.type).reloadTile(t,n)},s.prototype.abortTile=function(e,t){this.getWorkerSource(e,t.type).abortTile(t)},s.prototype.removeTile=function(e,t){this.getWorkerSource(e,t.type).removeTile(t)},s.prototype.redoPlacement=function(e,t,n){this.getWorkerSource(e,t.type).redoPlacement(t,n)},s.prototype.loadWorkerSource=function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e)}},s.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new a),t},s.prototype.getWorkerSource=function(e,t){var n=this;if(this.workerSources[e]||(this.workerSources[e]={}),!this.workerSources[e][t]){var r={send:function(t,r,a,o){n.actor.send(t,r,a,o,e)}};this.workerSources[e][t]=new this.workerSourceTypes[t](r,this.getLayerIndex(e))}return this.workerSources[e][t]},t.exports=function(e){return new s(e)}},{"../style/style_layer_index":68,"../util/actor":105,"./geojson_worker_source":40,"./vector_tile_worker_source":52}],55:[function(e,t,n){"use strict";function r(e,t){return e.filter(function(e){return!e.isEmpty()}).map(function(e){return e.serialize(t)})}var a=e("../data/feature_index"),o=e("../symbol/collision_tile"),i=e("../symbol/collision_box"),s=e("../util/dictionary_coder"),u=e("../util/util"),l=e("../symbol/symbol_instances"),c=e("../symbol/symbol_quads"),f=function(e){this.coord=e.coord,this.uid=e.uid,this.zoom=e.zoom,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=e.overscaling,this.angle=e.angle,this.pitch=e.pitch,this.showCollisionBoxes=e.showCollisionBoxes};f.prototype.parse=function(e,t,n,f){var p=this;e.layers||(e={layers:{_geojsonTileLayer:e}}),this.status="parsing",this.data=e,this.collisionBoxArray=new i,this.symbolInstancesArray=new l,this.symbolQuadsArray=new c;var d=new o(this.angle,this.pitch,this.collisionBoxArray),h=new s(Object.keys(e.layers).sort()),m=new a(this.coord,this.overscaling,d,e.layers);m.bucketLayerIDs={};var v={},y=0,g={featureIndex:m,iconDependencies:{},glyphDependencies:{}},b=t.familiesBySource[this.source];for(var _ in b){var x=e.layers[_];if(x){1===x.version&&u.warnOnce('Vector tile source "'+p.source+'" layer "'+_+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var w=h.encode(_),E=[],S=0;S<x.length;S++){var T=x.feature(S);T.index=S,T.sourceLayerIndex=w,E.push(T)}for(var M=0,C=b[_];M<C.length;M+=1){var k=C[M],I=k[0];if(!(I.minzoom&&p.zoom<I.minzoom||I.maxzoom&&p.zoom>=I.maxzoom||I.layout&&"none"===I.layout.visibility)){for(var P=0,D=k;P<D.length;P+=1){var N=D[P];N.recalculate(p.zoom)}var A=v[I.id]=I.createBucket({index:y,layers:k,zoom:p.zoom,overscaling:p.overscaling,collisionBoxArray:p.collisionBoxArray,symbolQuadsArray:p.symbolQuadsArray,symbolInstancesArray:p.symbolInstancesArray});A.populate(E,g),m.bucketLayerIDs[y]=k.map(function(e){return e.id}),y++}}}}var O=function(){p.status="done",p.redoPlacementAfterDone&&(p.redoPlacement(p.angle,p.pitch,null),p.redoPlacementAfterDone=!1);var e=[];f(null,{buckets:r(u.values(v),e),featureIndex:m.serialize(e),collisionTile:d.serialize(e),collisionBoxArray:p.collisionBoxArray.serialize(),symbolInstancesArray:p.symbolInstancesArray.serialize(),symbolQuadsArray:p.symbolQuadsArray.serialize()},e)};this.symbolBuckets=[];for(var R=t.symbolOrder.length-1;R>=0;R--){var j=v[t.symbolOrder[R]];j&&p.symbolBuckets.push(j)}if(0===this.symbolBuckets.length)return O();var L=0,F=Object.keys(g.iconDependencies),z=u.mapObject(g.glyphDependencies,function(e){return Object.keys(e).map(Number)}),U=function(e){if(e)return f(e);if(L++,2===L){for(var t=0,n=p.symbolBuckets;t<n.length;t+=1){for(var r=n[t],a=0,o=r.layers;a<o.length;a+=1){var i=o[a];i.recalculate(p.zoom)}r.prepare(z,F),r.place(d,p.showCollisionBoxes)}O()}};Object.keys(z).length?n.send("getGlyphs",{uid:this.uid,stacks:z},function(e,t){z=t,U(e)}):U(),F.length?n.send("getIcons",{icons:F},function(e,t){F=t,U(e)}):U()},f.prototype.redoPlacement=function(e,t,n){var a=this;if("done"!==this.status)return this.redoPlacementAfterDone=!0,this.angle=e,{};for(var i=new o(e,t,this.collisionBoxArray),s=0,u=this.symbolBuckets;s<u.length;s+=1){for(var l=u[s],c=0,f=l.layers;c<f.length;c+=1){var p=f[c];p.recalculate(a.zoom)}l.place(i,n)}var d=[];return{result:{buckets:r(this.symbolBuckets,d),collisionTile:i.serialize(d)},transferables:d}},t.exports=f},{"../data/feature_index":12,"../symbol/collision_box":75,"../symbol/collision_tile":77,"../symbol/symbol_instances":86,"../symbol/symbol_quads":87,"../util/dictionary_coder":112,"../util/util":126}],56:[function(e,t,n){"use strict";var r=function(){this.n=0,this.times=[]};r.prototype.stopped=function(){return this.times=this.times.filter(function(e){return e.time>=(new Date).getTime()}),!this.times.length},r.prototype.set=function(e){return this.times.push({id:this.n,time:e+(new Date).getTime()}),this.n++},r.prototype.cancel=function(e){this.times=this.times.filter(function(t){return t.id!==e})},t.exports=r},{}],57:[function(e,t,n){"use strict";var r=e("../util/evented"),a=e("../util/ajax"),o=e("../util/browser"),i=e("../util/mapbox").normalizeSpriteURL,s=function(){this.x=0,this.y=0,this.width=0,this.height=0,this.pixelRatio=1,this.sdf=!1},u=function(e){function t(t){var n=this;e.call(this),this.base=t,this.retina=o.devicePixelRatio>1;var r=this.retina?"@2x":"";a.getJSON(i(t,r,".json"),function(e,t){return e?void n.fire("error",{error:e}):(n.data=t,void(n.imgData&&n.fire("data",{dataType:"style"})))}),a.getImage(i(t,r,".png"),function(e,t){if(e)return void n.fire("error",{error:e});n.imgData=o.getImageData(t);for(var r=0;r<n.imgData.length;r+=4){var a=n.imgData[r+3]/255;n.imgData[r+0]*=a,n.imgData[r+1]*=a,n.imgData[r+2]*=a}n.width=t.width,n.data&&n.fire("data",{dataType:"style"})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toJSON=function(){return this.base},t.prototype.loaded=function(){return!(!this.data||!this.imgData)},t.prototype.resize=function(){var e=this;if(o.devicePixelRatio>1!==this.retina){var n=new t(this.base);n.on("data",function(){e.data=n.data,e.imgData=n.imgData,e.width=n.width,e.retina=n.retina})}},t.prototype.getSpritePosition=function(e){if(!this.loaded())return new s;var t=this.data&&this.data[e];return t&&this.imgData?t:new s},t}(r);t.exports=u},{"../util/ajax":106,"../util/browser":107,"../util/evented":115,"../util/mapbox":122}],58:[function(e,t,n){"use strict";var r=e("./style_spec"),a=e("../util/util"),o=e("../util/evented"),i=e("./validate_style"),s=e("./style_declaration"),u=e("./style_transition"),l="-transition",c=function(e){function t(t){e.call(this),this.properties=["anchor","color","position","intensity"],this._specifications=r.light,this.set(t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){var t=this;if(!this._validate(i.light,e)){this._declarations={},this._transitions={},this._transitionOptions={},this.calculated={},e=a.extend({anchor:this._specifications.anchor.default,color:this._specifications.color.default,position:this._specifications.position.default,intensity:this._specifications.intensity.default},e);for(var n=0,r=this.properties;n<r.length;n+=1){var o=r[n];t._declarations[o]=new s(t._specifications[o],e[o])}return this}},t.prototype.getLight=function(){return{anchor:this.getLightProperty("anchor"),color:this.getLightProperty("color"),position:this.getLightProperty("position"),intensity:this.getLightProperty("intensity")}},t.prototype.getLightProperty=function(e){return a.endsWith(e,l)?this._transitionOptions[e]:this._declarations[e]&&this._declarations[e].value},t.prototype.getLightValue=function(e,t){if("position"===e){var n=this._transitions[e].calculate(t),r=a.sphericalToCartesian(n);return{x:r[0],y:r[1],z:r[2]}}return this._transitions[e].calculate(t)},t.prototype.setLight=function(e){var t=this;if(!this._validate(i.light,e))for(var n in e){var r=e[n];a.endsWith(n,l)?t._transitionOptions[n]=r:null===r||void 0===r?delete t._declarations[n]:t._declarations[n]=new s(t._specifications[n],r)}},t.prototype.recalculate=function(e){var t=this;for(var n in this._declarations)t.calculated[n]=t.getLightValue(n,{zoom:e})},t.prototype._applyLightDeclaration=function(e,t,n,r,o){var i=n.transition?this._transitions[e]:void 0,c=this._specifications[e];if(null!==t&&void 0!==t||(t=new s(c,c.default)),!i||i.declaration.json!==t.json){var f=a.extend({duration:300,delay:0},r,this.getLightProperty(e+l)),p=this._transitions[e]=new u(c,t,i,f);p.instant()||(p.loopID=o.set(p.endTime-Date.now())),i&&o.cancel(i.loopID)}},t.prototype.updateLightTransitions=function(e,t,n){var r,a=this;for(r in this._declarations)a._applyLightDeclaration(r,a._declarations[r],e,t,n)},t.prototype._validate=function(e,t){return i.emitErrors(this,e.call(i,a.extend({value:t,style:{glyphs:!0,sprite:!0},styleSpec:r})))},t}(o);t.exports=c},{"../util/evented":115,"../util/util":126,"./style_declaration":61,"./style_spec":69,"./style_transition":70,"./validate_style":71}],59:[function(e,t,n){"use strict";var r=e("csscolorparser").parseCSSColor,a=e("../util/util"),o=e("mapbox-gl-function"),i={};t.exports=function e(t){if(t&&o.isFunctionDefinition(t))return t.stops?a.extend({},t,{stops:t.stops.map(function(t){return[t[0],e(t[1])]})}):t;if("string"==typeof t){if(!i[t]){var n=r(t);if(!n)throw new Error("Invalid color "+t);i[t]=[n[0]/255*n[3],n[1]/255*n[3],n[2]/255*n[3],n[3]]}return i[t]}if(Array.isArray(t))return t;throw new Error("Invalid color "+t)}},{"../util/util":126,csscolorparser:135,"mapbox-gl-function":161}],60:[function(e,t,n){"use strict";var r=e("../util/evented"),a=e("./style_layer"),o=e("./image_sprite"),i=e("./light"),s=e("../symbol/glyph_source"),u=e("../symbol/sprite_atlas"),l=e("../render/line_atlas"),c=e("../util/util"),f=e("../util/ajax"),p=e("../util/mapbox"),d=e("../util/browser"),h=e("../util/dispatcher"),m=e("./animation_loop"),v=e("./validate_style"),y=e("../source/source"),g=e("../source/query_features"),b=e("../source/source_cache"),_=e("./style_spec"),x=e("mapbox-gl-function"),w=e("../global_worker_pool"),E=e("mapbox-gl-style-spec/lib/deref"),S=function(e){function t(t,n,r){var a=this;e.call(this),this.map=n,this.animationLoop=n&&n.animationLoop||new m,this.dispatcher=new h(w(),this),this.spriteAtlas=new u(1024,1024),this.lineAtlas=new l(256,512),this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory={},this._loaded=!1,c.bindAll(["_redoPlacement"],this),this._resetUpdates(),r=c.extend({validate:"string"!=typeof t||!p.isMapboxURL(t)},r),this.setEventedParent(n),this.fire("dataloading",{dataType:"style"});var i=function(e,t){if(e)return void a.fire("error",{error:e});if(!r.validate||!v.emitErrors(a,v(t))){a._loaded=!0,a.stylesheet=t,a.updateClasses();for(var n in t.sources)a.addSource(n,t.sources[n],r);t.sprite&&(a.sprite=new o(t.sprite),a.sprite.setEventedParent(a)),a.glyphSource=new s(t.glyphs),a._resolve(),a.fire("data",{dataType:"style"}),a.fire("style.load")}};"string"==typeof t?f.getJSON(p.normalizeStyleURL(t),i):d.frame(i.bind(this,null,t)),this.on("source.load",function(e){var t=e.source;if(t&&t.vectorLayerIds)for(var n in a._layers){var r=a._layers[n];r.source===t.id&&a._validateLayer(r)}})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._validateLayer=function(e){var t=this.sourceCaches[e.source];if(e.sourceLayer&&t){var n=t.getSource();n.vectorLayerIds&&n.vectorLayerIds.indexOf(e.sourceLayer)===-1&&this.fire("error",{error:new Error('Source layer "'+e.sourceLayer+'" does not exist on source "'+n.id+'" as specified by style layer "'+e.id+'"')})}},t.prototype.loaded=function(){var e=this;if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!e.sourceCaches[t].loaded())return!1;return!(this.sprite&&!this.sprite.loaded())},t.prototype._resolve=function(){var e=this,t=E(this.stylesheet.layers);this._order=t.map(function(e){return e.id}),this._layers={};for(var n=0,r=t;n<r.length;n+=1){var o=r[n];o=a.create(o),o.setEventedParent(e,{layer:{id:o.id}}),e._layers[o.id]=o}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new i(this.stylesheet.light)},t.prototype._serializeLayers=function(e){var t=this;return e.map(function(e){return t._layers[e].serialize()})},t.prototype._applyClasses=function(e,t){var n=this;if(this._loaded){e=e||[],t=t||{transition:!0};var r=this.stylesheet.transition||{},a=this._updatedAllPaintProps?this._layers:this._updatedPaintProps;for(var o in a){var i=n._layers[o],s=n._updatedPaintProps[o];if(n._updatedAllPaintProps||s.all)i.updatePaintTransitions(e,t,r,n.animationLoop,n.zoomHistory);else for(var u in s)n._layers[o].updatePaintTransition(u,e,t,r,n.animationLoop,n.zoomHistory)}this.light.updateLightTransitions(t,r,this.animationLoop)}},t.prototype._recalculate=function(e){var t=this;if(this._loaded){for(var n in this.sourceCaches)t.sourceCaches[n].used=!1;this._updateZoomHistory(e);for(var r=0,a=this._order;r<a.length;r+=1){var o=a[r],i=t._layers[o];i.recalculate(e),!i.isHidden(e)&&i.source&&(t.sourceCaches[i.source].used=!0)}this.light.recalculate(e);var s=300;Math.floor(this.z)!==Math.floor(e)&&this.animationLoop.set(s),this.z=e}},t.prototype._updateZoomHistory=function(e){var t=this.zoomHistory;void 0===t.lastIntegerZoom&&(t.lastIntegerZoom=Math.floor(e),t.lastIntegerZoomTime=0,t.lastZoom=e),Math.floor(t.lastZoom)<Math.floor(e)?(t.lastIntegerZoom=Math.floor(e),t.lastIntegerZoomTime=Date.now()):Math.floor(t.lastZoom)>Math.floor(e)&&(t.lastIntegerZoom=Math.floor(e+1),t.lastIntegerZoomTime=Date.now()),t.lastZoom=e},t.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},t.prototype.update=function(e,t){var n=this;if(this._changed){var r=Object.keys(this._updatedLayers),a=Object.keys(this._removedLayers);(r.length||a.length||this._updatedSymbolOrder)&&this._updateWorkerLayers(r,a);for(var o in this._updatedSources)n._reloadSource(o);this._applyClasses(e,t),this._resetUpdates(),this.fire("data",{dataType:"style"})}},t.prototype._updateWorkerLayers=function(e,t){var n=this,r=this._updatedSymbolOrder?this._order.filter(function(e){return"symbol"===n._layers[e].type}):null;this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t,symbolOrder:r})},t.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSymbolOrder=!1,this._updatedSources={},this._updatedPaintProps={},this._updatedAllPaintProps=!1},t.prototype.addSource=function(e,t,n){if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!t.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(t)+".");var r=["vector","raster","geojson","video","image"],a=r.indexOf(t.type)>=0;if(!a||!this._validate(v.source,"sources."+e,t,null,n)){var o=this.sourceCaches[e]=new b(e,t,this.dispatcher);o.style=this,o.setEventedParent(this,{source:o.getSource()}),o.onAdd&&o.onAdd(this.map),this._changed=!0}},t.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");var t=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],t.setEventedParent(null),t.clearTiles(),t.onRemove&&t.onRemove(this.map),this._changed=!0},t.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},t.prototype.addLayer=function(e,t,n){this._checkLoaded();var r=e.id;if(!this._validate(v.layer,"layers."+r,e,{arrayIndex:-1},n)){var o=a.create(e);this._validateLayer(o),o.setEventedParent(this,{layer:{id:r}});var i=t?this._order.indexOf(t):this._order.length;this._order.splice(i,0,r),this._layers[r]=o,delete this._removedLayers[r],this._updateLayer(o),"symbol"===o.type&&(this._updatedSymbolOrder=!0),this.updateClasses(r)}},t.prototype.moveLayer=function(e,t){this._checkLoaded(),this._changed=!0;var n=this._layers[e];if(!n)throw new Error("Layer not found: "+e);var r=this._order.indexOf(e);this._order.splice(r,1);var a=t?this._order.indexOf(t):this._order.length;this._order.splice(a,0,e),"symbol"===n.type&&(this._updatedSymbolOrder=!0,n.source&&(this._updatedSources[n.source]=!0))},t.prototype.removeLayer=function(e){this._checkLoaded();var t=this._layers[e];if(!t)throw new Error("Layer not found: "+e);t.setEventedParent(null);var n=this._order.indexOf(e);this._order.splice(n,1),"symbol"===t.type&&(this._updatedSymbolOrder=!0),this._changed=!0,this._removedLayers[e]=!0,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e]},t.prototype.getLayer=function(e){return this._layers[e]},t.prototype.setLayerZoomRange=function(e,t,n){this._checkLoaded();var r=this.getLayer(e);r.minzoom===t&&r.maxzoom===n||(null!=t&&(r.minzoom=t),null!=n&&(r.maxzoom=n),this._updateLayer(r))},t.prototype.setFilter=function(e,t){this._checkLoaded();var n=this.getLayer(e);null!==t&&this._validate(v.filter,"layers."+n.id+".filter",t)||c.deepEqual(n.filter,t)||(n.filter=c.clone(t),this._updateLayer(n))},t.prototype.getFilter=function(e){return c.clone(this.getLayer(e).filter)},t.prototype.setLayoutProperty=function(e,t,n){this._checkLoaded();var r=this.getLayer(e);c.deepEqual(r.getLayoutProperty(t),n)||(r.setLayoutProperty(t,n),this._updateLayer(r))},t.prototype.getLayoutProperty=function(e,t){return this.getLayer(e).getLayoutProperty(t)},t.prototype.setPaintProperty=function(e,t,n,r){this._checkLoaded();var a=this.getLayer(e);if(!c.deepEqual(a.getPaintProperty(t,r),n)){var o=a.isPaintValueFeatureConstant(t);a.setPaintProperty(t,n,r);var i=!(n&&x.isFunctionDefinition(n)&&"$zoom"!==n.property&&void 0!==n.property);i&&o||this._updateLayer(a),this.updateClasses(e,t)}},t.prototype.getPaintProperty=function(e,t,n){return this.getLayer(e).getPaintProperty(t,n)},t.prototype.getTransition=function(){return c.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},t.prototype.updateClasses=function(e,t){if(this._changed=!0,e){var n=this._updatedPaintProps;n[e]||(n[e]={}),n[e][t||"all"]=!0}else this._updatedAllPaintProps=!0},t.prototype.serialize=function(){var e=this;return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sourceCaches,function(e){return e.serialize()}),layers:this._order.map(function(t){return e._layers[t].serialize()})},function(e){return void 0!==e})},t.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&(this._updatedSources[e.source]=!0),this._changed=!0},t.prototype._flattenRenderedFeatures=function(e){for(var t=this,n=[],r=this._order.length-1;r>=0;r--)for(var a=t._order[r],o=0,i=e;o<i.length;o+=1){var s=i[o],u=s[a];if(u)for(var l=0,c=u;l<c.length;l+=1){var f=c[l];n.push(f)}}return n},t.prototype.queryRenderedFeatures=function(e,t,n,r){var a=this;t&&t.filter&&this._validate(v.filter,"queryRenderedFeatures.filter",t.filter);var o={};if(t&&t.layers)for(var i=0,s=t.layers;i<s.length;i+=1){var u=s[i],l=a._layers[u];if(!l)return void a.fire("error",{error:"The layer '"+u+"' does not exist in the map's style and cannot be queried for features."});o[l.source]=!0}var c=[];for(var f in this.sourceCaches)if(!t.layers||o[f]){var p=g.rendered(a.sourceCaches[f],a._layers,e,t,n,r);c.push(p)}return this._flattenRenderedFeatures(c)},t.prototype.querySourceFeatures=function(e,t){t&&t.filter&&this._validate(v.filter,"querySourceFeatures.filter",t.filter);var n=this.sourceCaches[e];return n?g.source(n,t):[]},t.prototype.addSourceType=function(e,t,n){return y.getType(e)?n(new Error('A source type called "'+e+'" already exists.')):(y.setType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))},t.prototype.getLight=function(){return this.light.getLight()},t.prototype.setLight=function(e,t){this._checkLoaded();var n=this.light.getLight(),r=!1;for(var a in e)if(!c.deepEqual(e[a],n[a])){r=!0;break}if(r){var o=this.stylesheet.transition||{};this.light.setLight(e),this.light.updateLightTransitions(t||{transition:!0},o,this.animationLoop)}},t.prototype._validate=function(e,t,n,r,a){return(!a||a.validate!==!1)&&v.emitErrors(this,e.call(v,c.extend({key:t,style:this.serialize(),value:n,styleSpec:_},r)))},t.prototype._remove=function(){var e=this;for(var t in this.sourceCaches)e.sourceCaches[t].clearTiles();this.dispatcher.remove()},t.prototype._reloadSource=function(e){this.sourceCaches[e].reload()},t.prototype._updateSources=function(e){var t=this;for(var n in this.sourceCaches)t.sourceCaches[n].update(e)},t.prototype._redoPlacement=function(){var e=this;for(var t in this.sourceCaches)e.sourceCaches[t].redoPlacement()},t.prototype.getIcons=function(e,t,n){var r=this,a=function(){r.spriteAtlas.setSprite(r.sprite),r.spriteAtlas.addIcons(t.icons,n)};this.sprite.loaded()?a():this.sprite.on("data",a)},t.prototype.getGlyphs=function(e,t,n){function r(e,t,r){e&&console.error(e),s[r]=t,i--,0===i&&n(null,s)}var a=this,o=t.stacks,i=Object.keys(o).length,s={};for(var u in o)a.glyphSource.getSimpleGlyphs(u,o[u],t.uid,r)},t}(r);t.exports=S},{"../global_worker_pool":22,"../render/line_atlas":35,"../source/query_features":45,"../source/source":47,"../source/source_cache":48,"../symbol/glyph_source":80,"../symbol/sprite_atlas":85,"../util/ajax":106,"../util/browser":107,"../util/dispatcher":113,"../util/evented":115,"../util/mapbox":122,"../util/util":126,"./animation_loop":56,"./image_sprite":57,"./light":58,"./style_layer":62,"./style_spec":69,"./validate_style":71,"mapbox-gl-function":161,"mapbox-gl-style-spec/lib/deref":163}],61:[function(e,t,n){"use strict";var r=e("mapbox-gl-function"),a=e("./parse_color"),o=e("../util/util"),i=function(e,t){var n=this;this.value=o.clone(t),this.isFunction=r.isFunctionDefinition(t),this.json=JSON.stringify(this.value),this.minimum=e.minimum,this.isColor="color"===e.type;var i=this.isColor&&this.value?a(this.value):t,s=e.default;if(s&&"color"===e.type&&(s=a(s)),this.function=r[e.function||"piecewise-constant"](i,s),this.isFeatureConstant=this.function.isFeatureConstant,this.isZoomConstant=this.function.isZoomConstant,!this.isFeatureConstant&&!this.isZoomConstant){this.stopZoomLevels=[];for(var u=[],l=0,c=this.value.stops;l<c.length;l+=1){var f=c[l],p=f[0].zoom;n.stopZoomLevels.indexOf(p)<0&&(n.stopZoomLevels.push(p),u.push([p,u.length]))}this.functionInterpolationT=r.interpolated({stops:u,base:t.base,colorSpace:t.colorSpace})}};i.prototype.calculate=function(e,t){var n=this.function(e&&e.zoom,t||{});return this.isColor&&n?a(n):void 0!==this.minimum&&n<this.minimum?this.minimum:n},i.prototype.calculateInterpolationT=function(e,t){return this.functionInterpolationT(e&&e.zoom,t||{})},t.exports=i},{"../util/util":126,"./parse_color":59,"mapbox-gl-function":161}],62:[function(e,t,n){"use strict";function r(e){return e.value}var a=e("../util/util"),o=e("./style_transition"),i=e("./style_declaration"),s=e("./style_spec"),u=e("./validate_style"),l=e("./parse_color"),c=e("../util/evented"),f="-transition",p=function(e){function t(t){var n=this;e.call(this),this.id=t.id,this.metadata=t.metadata,this.type=t.type,this.source=t.source,this.sourceLayer=t["source-layer"],this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,this.filter=t.filter,this.paint={},this.layout={},this._paintSpecifications=s["paint_"+this.type],this._layoutSpecifications=s["layout_"+this.type],this._paintTransitions={},this._paintTransitionOptions={},this._paintDeclarations={},this._layoutDeclarations={},this._layoutFunctions={};var r,a,o={validate:!1};for(var i in t){var u=i.match(/^paint(?:\.(.*))?$/);if(u){var l=u[1]||"";for(r in t[i])n.setPaintProperty(r,t[i][r],l,o)}}for(a in t.layout)n.setLayoutProperty(a,t.layout[a],o);for(r in this._paintSpecifications)n.paint[r]=n.getPaintValue(r);for(a in this._layoutSpecifications)n._updateLayoutValue(a)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setLayoutProperty=function(e,t,n){if(null==t)delete this._layoutDeclarations[e];else{var r="layers."+this.id+".layout."+e;if(this._validate(u.layoutProperty,r,e,t,n))return;this._layoutDeclarations[e]=new i(this._layoutSpecifications[e],t)}this._updateLayoutValue(e)},t.prototype.getLayoutProperty=function(e){return this._layoutDeclarations[e]&&this._layoutDeclarations[e].value},t.prototype.getLayoutValue=function(e,t,n){var r=this._layoutSpecifications[e],a=this._layoutDeclarations[e];return a?a.calculate(t,n):r.default},t.prototype.setPaintProperty=function(e,t,n,r){var o="layers."+this.id+(n?'["paint.'+n+'"].':".paint.")+e;if(a.endsWith(e,f))if(this._paintTransitionOptions[n||""]||(this._paintTransitionOptions[n||""]={}),null===t||void 0===t)delete this._paintTransitionOptions[n||""][e];else{if(this._validate(u.paintProperty,o,e,t,r))return;this._paintTransitionOptions[n||""][e]=t}else if(this._paintDeclarations[n||""]||(this._paintDeclarations[n||""]={}),null===t||void 0===t)delete this._paintDeclarations[n||""][e];else{if(this._validate(u.paintProperty,o,e,t,r))return;this._paintDeclarations[n||""][e]=new i(this._paintSpecifications[e],t)}},t.prototype.getPaintProperty=function(e,t){return t=t||"",a.endsWith(e,f)?this._paintTransitionOptions[t]&&this._paintTransitionOptions[t][e]:this._paintDeclarations[t]&&this._paintDeclarations[t][e]&&this._paintDeclarations[t][e].value},t.prototype.getPaintValue=function(e,t,n){var r=this._paintSpecifications[e],a=this._paintTransitions[e];return a?a.calculate(t,n):"color"===r.type&&r.default?l(r.default):r.default},t.prototype.getPaintValueStopZoomLevels=function(e){var t=this._paintTransitions[e];return t?t.declaration.stopZoomLevels:[]},t.prototype.getPaintInterpolationT=function(e,t){var n=this._paintTransitions[e];return n.declaration.calculateInterpolationT(t)},t.prototype.isPaintValueFeatureConstant=function(e){var t=this._paintTransitions[e];return!t||t.declaration.isFeatureConstant},t.prototype.isLayoutValueFeatureConstant=function(e){var t=this._layoutDeclarations[e];return!t||t.isFeatureConstant},t.prototype.isPaintValueZoomConstant=function(e){var t=this._paintTransitions[e];return!t||t.declaration.isZoomConstant},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||(!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.layout.visibility)},t.prototype.updatePaintTransitions=function(e,t,n,r,o){for(var i=this,s=a.extend({},this._paintDeclarations[""]),u=0;u<e.length;u++)a.extend(s,i._paintDeclarations[e[u]]);var l;for(l in s)i._applyPaintDeclaration(l,s[l],t,n,r,o);for(l in this._paintTransitions)l in s||i._applyPaintDeclaration(l,null,t,n,r,o)},t.prototype.updatePaintTransition=function(e,t,n,r,a,o){for(var i=this,s=this._paintDeclarations[""][e],u=0;u<t.length;u++){var l=i._paintDeclarations[t[u]];l&&l[e]&&(s=l[e])}this._applyPaintDeclaration(e,s,n,r,a,o)},t.prototype.recalculate=function(e){var t=this;for(var n in this._paintTransitions)t.paint[n]=t.getPaintValue(n,{zoom:e});for(var r in this._layoutFunctions)t.layout[r]=t.getLayoutValue(r,{zoom:e})},t.prototype.serialize=function(){var e=this,t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:a.mapObject(this._layoutDeclarations,r)};for(var n in this._paintDeclarations){var o=""===n?"paint":"paint."+n;t[o]=a.mapObject(e._paintDeclarations[n],r)}return a.filterObject(t,function(e,t){return void 0!==e&&!("layout"===t&&!Object.keys(e).length)})},t.prototype._applyPaintDeclaration=function(e,t,n,r,s,u){var l=n.transition?this._paintTransitions[e]:void 0,c=this._paintSpecifications[e];if(null!==t&&void 0!==t||(t=new i(c,c.default)),!l||l.declaration.json!==t.json){var p=a.extend({duration:300,delay:0},r,this.getPaintProperty(e+f)),d=this._paintTransitions[e]=new o(c,t,l,p,u);d.instant()||(d.loopID=s.set(d.endTime-Date.now())),l&&s.cancel(l.loopID)}},t.prototype._updateLayoutValue=function(e){var t=this._layoutDeclarations[e];t&&t.isFunction?this._layoutFunctions[e]=!0:(delete this._layoutFunctions[e],this.layout[e]=this.getLayoutValue(e))},t.prototype._validate=function(e,t,n,r,a){return(!a||a.validate!==!1)&&u.emitErrors(this,e.call(u,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:s,style:{glyphs:!0,sprite:!0}}))},t}(c);t.exports=p;var d={circle:e("./style_layer/circle_style_layer"),fill:e("./style_layer/fill_style_layer"),"fill-extrusion":e("./style_layer/fill_extrusion_style_layer"),line:e("./style_layer/line_style_layer"),symbol:e("./style_layer/symbol_style_layer")};p.create=function(e){var t=d[e.type]||p;return new t(e)}},{"../util/evented":115,"../util/util":126,"./parse_color":59,"./style_declaration":61,"./style_layer/circle_style_layer":63,"./style_layer/fill_extrusion_style_layer":64,"./style_layer/fill_style_layer":65,"./style_layer/line_style_layer":66,"./style_layer/symbol_style_layer":67,"./style_spec":69,"./style_transition":70,"./validate_style":71}],63:[function(e,t,n){"use strict";var r=e("../style_layer"),a=e("../../data/bucket/circle_bucket"),o=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new a(e)},t}(r);t.exports=o},{"../../data/bucket/circle_bucket":3,"../style_layer":62}],64:[function(e,t,n){"use strict";var r=e("../style_layer"),a=e("../../data/bucket/fill_extrusion_bucket"),o=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getPaintValue=function(t,n,r){var a=e.prototype.getPaintValue.call(this,t,n,r);return"fill-extrusion-color"===t&&a&&(a[3]=1),a},t.prototype.createBucket=function(e){return new a(e)},t}(r);t.exports=o},{"../../data/bucket/fill_extrusion_bucket":5,"../style_layer":62}],65:[function(e,t,n){"use strict";var r=e("../style_layer"),a=e("../../data/bucket/fill_bucket"),o=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getPaintValue=function(t,n,r){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?e.prototype.getPaintValue.call(this,"fill-color",n,r):e.prototype.getPaintValue.call(this,t,n,r)},t.prototype.getPaintValueStopZoomLevels=function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?e.prototype.getPaintValueStopZoomLevels.call(this,"fill-color"):e.prototype.getPaintValueStopZoomLevels.call(this,t)},t.prototype.getPaintInterpolationT=function(t,n){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?e.prototype.getPaintInterpolationT.call(this,"fill-color",n):e.prototype.getPaintInterpolationT.call(this,t,n)},t.prototype.isPaintValueFeatureConstant=function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?e.prototype.isPaintValueFeatureConstant.call(this,"fill-color"):e.prototype.isPaintValueFeatureConstant.call(this,t)},t.prototype.isPaintValueZoomConstant=function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?e.prototype.isPaintValueZoomConstant.call(this,"fill-color"):e.prototype.isPaintValueZoomConstant.call(this,t)},t.prototype.createBucket=function(e){return new a(e)},t}(r);t.exports=o},{"../../data/bucket/fill_bucket":4,"../style_layer":62}],66:[function(e,t,n){"use strict";var r=e("../style_layer"),a=e("../../data/bucket/line_bucket"),o=e("../../util/util"),i=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getPaintValue=function(t,n,r){var a=e.prototype.getPaintValue.call(this,t,n,r);if(a&&"line-dasharray"===t){var i=this.getPaintValue("line-width",o.extend({},n,{zoom:Math.floor(n.zoom)}),r);a.fromScale*=i,a.toScale*=i}return a},t.prototype.createBucket=function(e){return new a(e)},t}(r);t.exports=i},{"../../data/bucket/line_bucket":6,"../../util/util":126,"../style_layer":62}],67:[function(e,t,n){"use strict";var r=e("../style_layer"),a=e("../../data/bucket/symbol_bucket"),o=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getLayoutValue=function(t,n,r){var a=e.prototype.getLayoutValue.call(this,t,n,r);if("auto"!==a)return a;switch(t){case"text-rotation-alignment":case"icon-rotation-alignment":return"line"===this.getLayoutValue("symbol-placement",n,r)?"map":"viewport";case"text-pitch-alignment":return this.getLayoutValue("text-rotation-alignment",n,r);default:return a}},t.prototype.createBucket=function(e){return new a(e)},t}(r);t.exports=o},{"../../data/bucket/symbol_bucket":7,"../style_layer":62}],68:[function(e,t,n){"use strict";var r=e("./style_layer"),a=e("../util/util"),o=e("feature-filter"),i=e("mapbox-gl-style-spec/lib/group_by_layout"),s=function(e){e&&this.replace(e)};s.prototype.replace=function(e){var t=this;this.symbolOrder=[];for(var n=0,r=e;n<r.length;n+=1){var a=r[n];"symbol"===a.type&&t.symbolOrder.push(a.id)}this._layers={},this.update(e,[])},s.prototype.update=function(e,t,n){for(var s=this,u=0,l=e;u<l.length;u+=1){var c=l[u];s._layers[c.id]=c}for(var f=0,p=t;f<p.length;f+=1){var d=p[f];delete s._layers[d]}n&&(this.symbolOrder=n),this.familiesBySource={};for(var h=i(a.values(this._layers)),m=0,v=h;m<v.length;m+=1){var y=v[m];y=y.map(function(e){return e=r.create(e),e.updatePaintTransitions({},{transition:!1}),e.filter=o(e.filter),e});var g=y[0];if(!g.layout||"none"!==g.layout.visibility){var b=g.source||"",_=s.familiesBySource[b];_||(_=s.familiesBySource[b]={});var x=g.sourceLayer||"_geojsonTileLayer",w=_[x];w||(w=_[x]=[]),w.push(y)}}},t.exports=s},{"../util/util":126,"./style_layer":62,"feature-filter":137,"mapbox-gl-style-spec/lib/group_by_layout":165}],69:[function(e,t,n){"use strict";t.exports=e("mapbox-gl-style-spec/reference/latest.min")},{"mapbox-gl-style-spec/reference/latest.min":189}],70:[function(e,t,n){"use strict";function r(e,t,n){if(void 0!==e&&void 0!==t)return{from:e.to,fromScale:e.toScale,to:t.to,toScale:t.toScale,t:n}}var a=e("../util/util"),o=e("../util/interpolate"),i={lastIntegerZoom:0,lastIntegerZoomTime:0,lastZoom:0},s=function(e,t,n,a,s){this.declaration=t,this.startTime=this.endTime=(new Date).getTime(),this.oldTransition=n,this.duration=a.duration||0,this.delay=a.delay||0,this.zoomTransitioned="piecewise-constant"===e.function&&e.transition,this.interp=this.zoomTransitioned?r:o[e.type],this.zoomHistory=s||i,this.instant()||(this.endTime=this.startTime+this.duration+this.delay),n&&n.endTime<=this.startTime&&delete n.oldTransition};s.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},s.prototype.calculate=function(e,t,n){var r=this._calculateTargetValue(e,t);if(this.instant())return r;if(n=n||Date.now(),n>=this.endTime)return r;var o=this.oldTransition.calculate(e,t,this.startTime),i=a.easeCubicInOut((n-this.startTime-this.delay)/this.duration);return this.interp(o,r,i)},s.prototype._calculateTargetValue=function(e,t){if(!this.zoomTransitioned)return this.declaration.calculate(e,t);var n=e.zoom,r=this.zoomHistory.lastIntegerZoom,a=n>r?2:.5,i=this.declaration.calculate({zoom:n>r?n-1:n+1},t),s=this.declaration.calculate({zoom:n},t),u=Math.min((Date.now()-this.zoomHistory.lastIntegerZoomTime)/this.duration,1),l=Math.abs(n-r),c=o(u,1,l);return void 0!==i&&void 0!==s?{from:i,fromScale:a,to:s,toScale:1,t:c}:void 0},t.exports=s},{"../util/interpolate":118,"../util/util":126}],71:[function(e,t,n){"use strict";t.exports=e("mapbox-gl-style-spec/lib/validate_style.min"),t.exports.emitErrors=function(e,t){if(t&&t.length){for(var n=0;n<t.length;n++)e.fire("error",{error:new Error(t[n].message)});return!0}return!1}},{"mapbox-gl-style-spec/lib/validate_style.min":187}],72:[function(e,t,n){"use strict";var r=e("point-geometry"),a=function(e){function t(t,n,r,a){e.call(this,t,n),this.angle=r,void 0!==a&&(this.segment=a)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(r);t.exports=a},{"point-geometry":195}],73:[function(e,t,n){"use strict";function r(e,t,n,r,a){if(void 0===t.segment)return!0;for(var o=t,i=t.segment+1,s=0;s>-n/2;){if(i--,i<0)return!1;s-=e[i].dist(o),o=e[i]}s+=e[i].dist(e[i+1]),i++;for(var u=[],l=0;s<n/2;){var c=e[i-1],f=e[i],p=e[i+1];if(!p)return!1;var d=c.angleTo(f)-f.angleTo(p);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:d}),l+=d;s-u[0].distance>r;)l-=u.shift().angleDelta;if(l>a)return!1;i++,s+=f.dist(p)}return!0}t.exports=r},{}],74:[function(e,t,n){"use strict";function r(e,t,n,r,o){for(var i=[],s=0;s<e.length;s++)for(var u,l=e[s],c=0;c<l.length-1;c++){var f=l[c],p=l[c+1];f.x<t&&p.x<t||(f.x<t?f=new a(t,f.y+(p.y-f.y)*((t-f.x)/(p.x-f.x)))._round():p.x<t&&(p=new a(t,f.y+(p.y-f.y)*((t-f.x)/(p.x-f.x)))._round()),f.y<n&&p.y<n||(f.y<n?f=new a(f.x+(p.x-f.x)*((n-f.y)/(p.y-f.y)),n)._round():p.y<n&&(p=new a(f.x+(p.x-f.x)*((n-f.y)/(p.y-f.y)),n)._round()),f.x>=r&&p.x>=r||(f.x>=r?f=new a(r,f.y+(p.y-f.y)*((r-f.x)/(p.x-f.x)))._round():p.x>=r&&(p=new a(r,f.y+(p.y-f.y)*((r-f.x)/(p.x-f.x)))._round()),f.y>=o&&p.y>=o||(f.y>=o?f=new a(f.x+(p.x-f.x)*((o-f.y)/(p.y-f.y)),o)._round():p.y>=o&&(p=new a(f.x+(p.x-f.x)*((o-f.y)/(p.y-f.y)),o)._round()),u&&f.equals(u[u.length-1])||(u=[f],i.push(u)),u.push(p)))))}return i}var a=e("point-geometry");t.exports=r},{"point-geometry":195}],75:[function(e,t,n){"use strict";var r=e("../util/struct_array"),a=e("point-geometry"),o=r({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Float32",name:"maxScale"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"bbox0"},{type:"Int16",name:"bbox1"},{type:"Int16",name:"bbox2"},{type:"Int16",name:"bbox3"},{type:"Float32",name:"placementScale"}]});Object.defineProperty(o.prototype.StructType.prototype,"anchorPoint",{get:function(){return new a(this.anchorPointX,this.anchorPointY)}}),t.exports=o},{"../util/struct_array":124,"point-geometry":195}],76:[function(e,t,n){"use strict";var r=function(e,t,n,r,a,o,i,s,u,l,c){var f=i.top*s-u,p=i.bottom*s+u,d=i.left*s-u,h=i.right*s+u;if(this.boxStartIndex=e.length,l){var m=p-f,v=h-d;if(m>0)if(m=Math.max(10*s,m),c){var y=t[n.segment+1].sub(t[n.segment])._unit()._mult(v),g=[n.sub(y),n.add(y)];this._addLineCollisionBoxes(e,g,n,0,v,m,r,a,o)}else this._addLineCollisionBoxes(e,t,n,n.segment,v,m,r,a,o)}else e.emplaceBack(n.x,n.y,d,f,h,p,1/0,r,a,o,0,0,0,0,0);this.boxEndIndex=e.length};r.prototype._addLineCollisionBoxes=function(e,t,n,r,a,o,i,s,u){var l=o/2,c=Math.floor(a/l),f=-o/2,p=this.boxes,d=n,h=r+1,m=f;do{if(h--,h<0)return p;m-=t[h].dist(d),d=t[h]}while(m>-a/2);for(var v=t[h].dist(t[h+1]),y=0;y<c;y++){for(var g=-a/2+y*l;m+v<g;){if(m+=v,h++,h+1>=t.length)return p;v=t[h].dist(t[h+1])}var b=g-m,_=t[h],x=t[h+1],w=x.sub(_)._unit()._mult(b)._add(_)._round(),E=Math.max(Math.abs(g-f)-l/2,0),S=a/2/E;e.emplaceBack(w.x,w.y,-o/2,-o/2,o/2,o/2,S,i,s,u,0,0,0,0,0)}return p},t.exports=r},{}],77:[function(e,t,n){"use strict";var r=e("point-geometry"),a=e("../data/extent"),o=e("grid-index"),i=e("../util/intersection_tests"),s=function(e,t,n){if("object"==typeof e){var r=e;n=t,e=r.angle,t=r.pitch,this.grid=new o(r.grid),this.ignoredGrid=new o(r.ignoredGrid)}else this.grid=new o(a,12,6),this.ignoredGrid=new o(a,12,0);this.minScale=.5,this.maxScale=2,this.angle=e,this.pitch=t;var i=Math.sin(e),s=Math.cos(e);if(this.rotationMatrix=[s,-i,i,s],this.reverseRotationMatrix=[s,i,-i,s],this.yStretch=1/Math.cos(t/180*Math.PI),this.yStretch=Math.pow(this.yStretch,1.3),this.collisionBoxArray=n,0===n.length){n.emplaceBack();var u=32767;n.emplaceBack(0,0,0,-u,0,u,u,0,0,0,0,0,0,0,0,0),n.emplaceBack(a,0,0,-u,0,u,u,0,0,0,0,0,0,0,0,0),n.emplaceBack(0,0,-u,0,u,0,u,0,0,0,0,0,0,0,0,0),n.emplaceBack(0,a,-u,0,u,0,u,0,0,0,0,0,0,0,0,0)}this.tempCollisionBox=n.get(0),this.edges=[n.get(1),n.get(2),n.get(3),n.get(4)]};s.prototype.serialize=function(e){var t=this.grid.toArrayBuffer(),n=this.ignoredGrid.toArrayBuffer();return e&&(e.push(t),e.push(n)),{angle:this.angle,pitch:this.pitch,grid:t,ignoredGrid:n}},s.prototype.placeCollisionFeature=function(e,t,n){for(var a=this,o=this.collisionBoxArray,i=this.minScale,s=this.rotationMatrix,u=this.yStretch,l=e.boxStartIndex;l<e.boxEndIndex;l++){var c=o.get(l),f=c.anchorPoint._matMult(s),p=f.x,d=f.y,h=p+c.x1,m=d+c.y1*u,v=p+c.x2,y=d+c.y2*u;if(c.bbox0=h,c.bbox1=m,c.bbox2=v,c.bbox3=y,!t)for(var g=a.grid.query(h,m,v,y),b=0;b<g.length;b++){var _=o.get(g[b]),x=_.anchorPoint._matMult(s);if(i=a.getPlacementScale(i,f,c,x,_),i>=a.maxScale)return i}if(n){var w;if(a.angle){var E=a.reverseRotationMatrix,S=new r(c.x1,c.y1).matMult(E),T=new r(c.x2,c.y1).matMult(E),M=new r(c.x1,c.y2).matMult(E),C=new r(c.x2,c.y2).matMult(E);w=a.tempCollisionBox,w.anchorPointX=c.anchorPoint.x,w.anchorPointY=c.anchorPoint.y,w.x1=Math.min(S.x,T.x,M.x,C.x),w.y1=Math.min(S.y,T.x,M.x,C.x),w.x2=Math.max(S.x,T.x,M.x,C.x),w.y2=Math.max(S.y,T.x,M.x,C.x),w.maxScale=c.maxScale}else w=c;for(var k=0;k<this.edges.length;k++){var I=a.edges[k];if(i=a.getPlacementScale(i,c.anchorPoint,w,I.anchorPoint,I),i>=a.maxScale)return i}}}return i},s.prototype.queryRenderedSymbols=function(e,t){var n={},a=[];if(0===e.length||0===this.grid.length&&0===this.ignoredGrid.length)return a;for(var o=this.collisionBoxArray,s=this.rotationMatrix,u=this.yStretch,l=[],c=1/0,f=1/0,p=-(1/0),d=-(1/0),h=0;h<e.length;h++)for(var m=e[h],v=0;v<m.length;v++){var y=m[v].matMult(s);c=Math.min(c,y.x),f=Math.min(f,y.y),p=Math.max(p,y.x),d=Math.max(d,y.y),l.push(y)}for(var g=this.grid.query(c,f,p,d),b=this.ignoredGrid.query(c,f,p,d),_=0;_<b.length;_++)g.push(b[_]);for(var x=Math.pow(2,Math.ceil(Math.log(t)/Math.LN2*10)/10),w=0;w<g.length;w++){var E=o.get(g[w]),S=E.sourceLayerIndex,T=E.featureIndex;if(void 0===n[S]&&(n[S]={}),!n[S][T]&&!(x<E.placementScale||x>E.maxScale)){var M=E.anchorPoint.matMult(s),C=M.x+E.x1/t,k=M.y+E.y1/t*u,I=M.x+E.x2/t,P=M.y+E.y2/t*u,D=[new r(C,k),new r(I,k),new r(I,P),new r(C,P)];i.polygonIntersectsPolygon(l,D)&&(n[S][T]=!0,a.push(g[w]))}}return a},s.prototype.getPlacementScale=function(e,t,n,r,a){var o=t.x-r.x,i=t.y-r.y,s=(a.x1-n.x2)/o,u=(a.x2-n.x1)/o,l=(a.y1-n.y2)*this.yStretch/i,c=(a.y2-n.y1)*this.yStretch/i;(isNaN(s)||isNaN(u))&&(s=u=1),(isNaN(l)||isNaN(c))&&(l=c=1);var f=Math.min(Math.max(s,u),Math.max(l,c)),p=a.maxScale,d=n.maxScale;return f>p&&(f=p),f>d&&(f=d),f>e&&f>=a.placementScale&&(e=f),e},s.prototype.insertCollisionFeature=function(e,t,n){for(var r=this,a=n?this.ignoredGrid:this.grid,o=this.collisionBoxArray,i=e.boxStartIndex;i<e.boxEndIndex;i++){var s=o.get(i);s.placementScale=t,t<r.maxScale&&a.insert(i,s.bbox0,s.bbox1,s.bbox2,s.bbox3)}},t.exports=s},{"../data/extent":11,"../util/intersection_tests":119,"grid-index":159,"point-geometry":195}],78:[function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,u,l){var c=r?.6*i*s:0,f=Math.max(r?r.right-r.left:0,o?o.right-o.left:0),p=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;t-f*s<t/4&&(t=f*s+t/4);var d=2*i,h=p?t/2*u%t:(f/2+d)*s*u%t;return a(e,h,t,c,n,f*s,p,!1,l)}function a(e,t,n,r,u,l,c,f,p){for(var d=l/2,h=0,m=0;m<e.length-1;m++)h+=e[m].dist(e[m+1]);for(var v=0,y=t-n,g=[],b=0;b<e.length-1;b++){for(var _=e[b],x=e[b+1],w=_.dist(x),E=x.angleTo(_);y+n<v+w;){y+=n;var S=(y-v)/w,T=o(_.x,x.x,S),M=o(_.y,x.y,S);if(T>=0&&T<p&&M>=0&&M<p&&y-d>=0&&y+d<=h){var C=new i(T,M,E,b)._round();r&&!s(e,C,l,r,u)||g.push(C)}}v+=w}return f||g.length||c||(g=a(e,v/2,n,r,u,l,c,!0,p)),g}var o=e("../util/interpolate"),i=e("../symbol/anchor"),s=e("./check_max_angle");t.exports=r},{"../symbol/anchor":72,"../util/interpolate":118,"./check_max_angle":73}],79:[function(e,t,n){"use strict";var r=e("shelf-pack"),a=e("../util/util"),o=4,i=128,s=2048,u=function(){this.width=i,this.height=i,this.bin=new r(this.width,this.height),this.index={},this.ids={},this.data=new Uint8Array(this.width*this.height)};u.prototype.getGlyphs=function(){var e,t,n,r={};for(var a in this.ids)e=a.split("#"),t=e[0],n=e[1],r[t]||(r[t]=[]),r[t].push(n);return r},u.prototype.getRects=function(){var e,t,n,r=this,a={};for(var o in this.ids)e=o.split("#"),t=e[0],n=e[1],a[t]||(a[t]={}),a[t][n]=r.index[o];return a},u.prototype.addGlyph=function(e,t,n,r){var o=this;if(!n)return null;var i=t+"#"+n.id;if(this.index[i])return this.ids[i].indexOf(e)<0&&this.ids[i].push(e),this.index[i];if(!n.bitmap)return null;var s=n.width+2*r,u=n.height+2*r,l=1,c=s+2*l,f=u+2*l;c+=4-c%4,f+=4-f%4;var p=this.bin.packOne(c,f);if(p||(this.resize(),p=this.bin.packOne(c,f)),!p)return a.warnOnce("glyph bitmap overflow"),null;this.index[i]=p,this.ids[i]=[e];for(var d=this.data,h=n.bitmap,m=0;m<u;m++)for(var v=o.width*(p.y+m+l)+p.x+l,y=s*m,g=0;g<s;g++)d[v+g]=h[y+g];return this.dirty=!0,p},u.prototype.resize=function(){var e=this,t=this.width,n=this.height;if(!(t>=s||n>=s)){this.texture&&(this.gl&&this.gl.deleteTexture(this.texture),this.texture=null),this.width*=o,this.height*=o,this.bin.resize(this.width,this.height);for(var r=new ArrayBuffer(this.width*this.height),a=0;a<n;a++){var i=new Uint8Array(e.data.buffer,n*a,t),u=new Uint8Array(r,n*a*o,t);u.set(i)}this.data=new Uint8Array(r)}},u.prototype.bind=function(e){this.gl=e,this.texture?e.bindTexture(e.TEXTURE_2D,this.texture):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,null))},u.prototype.updateTexture=function(e){this.bind(e),this.dirty&&(e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data),this.dirty=!1)},t.exports=u},{"../util/util":126,"shelf-pack":197}],80:[function(e,t,n){"use strict";function r(e,t,n,r){return r=r||"abc",n.replace("{s}",r[e.length%r.length]).replace("{fontstack}",e).replace("{range}",t)}var a=e("../util/mapbox").normalizeGlyphsURL,o=e("../util/ajax"),i=e("../util/verticalize_punctuation"),s=e("../util/glyphs"),u=e("../symbol/glyph_atlas"),l=e("pbf"),c=function(e,t,n){var r=1;this.advance=e.advance,this.left=e.left-n-r,this.top=e.top+n+r,this.rect=t},f=function(e){this.url=e&&a(e),this.atlases={},this.stacks={},this.loading={}};f.prototype.getSimpleGlyphs=function(e,t,n,r){var a=this;void 0===this.stacks[e]&&(this.stacks[e]={}),void 0===this.atlases[e]&&(this.atlases[e]=new u);for(var o={},s=this.stacks[e],l=this.atlases[e],f=3,p={},d=0,h=function(t){var r=Math.floor(t/256);if(s[r]){var a=s[r].glyphs[t],i=l.addGlyph(n,e,a,f);a&&(o[t]=new c(a,i,f))}else void 0===p[r]&&(p[r]=[],d++),p[r].push(t)},m=0;m<t.length;m++){var v=t[m],y=String.fromCharCode(v);h(v),i.lookup[y]&&h(i.lookup[y].charCodeAt(0))}d||r(void 0,o,e);var g=function(t,i,s){if(!t)for(var u=a.stacks[e][i]=s.stacks[0],h=0;h<p[i].length;h++){var m=p[i][h],v=u.glyphs[m],y=l.addGlyph(n,e,v,f);v&&(o[m]=new c(v,y,f))}d--,d||r(void 0,o,e)};for(var b in p)a.loadRange(e,b,g)},f.prototype.loadRange=function(e,t,n){if(256*t>65535)return n("glyphs > 65535 not supported");void 0===this.loading[e]&&(this.loading[e]={});var a=this.loading[e];if(a[t])a[t].push(n);else{a[t]=[n];var i=256*t+"-"+(256*t+255),u=r(e,i,this.url);o.getArrayBuffer(u,function(e,n){for(var r=!e&&new s(new l(n)),o=0;o<a[t].length;o++)a[t][o](e,t,r);delete a[t]})}},f.prototype.getGlyphAtlas=function(e){return this.atlases[e]},t.exports=f},{"../symbol/glyph_atlas":79,"../util/ajax":106,"../util/glyphs":117,"../util/mapbox":122,"../util/verticalize_punctuation":128,pbf:193}],81:[function(e,t,n){"use strict";t.exports=function(e){function t(t){s.push(e[t]),u++}function n(e,t,n){var r=i[e];return delete i[e],i[t]=r,s[r].geometry[0].pop(),s[r].geometry[0]=s[r].geometry[0].concat(n[0]),r}function r(e,t,n){var r=o[t];return delete o[t],o[e]=r,s[r].geometry[0].shift(),s[r].geometry[0]=n[0].concat(s[r].geometry[0]),r}function a(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return e+":"+r.x+":"+r.y}for(var o={},i={},s=[],u=0,l=0;l<e.length;l++){var c=e[l],f=c.geometry,p=c.text;if(p){var d=a(p,f),h=a(p,f,!0);if(d in i&&h in o&&i[d]!==o[h]){var m=r(d,h,f),v=n(d,h,s[m].geometry);delete o[d],delete i[h],i[a(p,s[v].geometry,!0)]=v,s[m].geometry=null}else d in i?n(d,h,f):h in o?r(d,h,f):(t(l),o[d]=u-1,i[h]=u-1)}else t(l)}return s.filter(function(e){return e.geometry})}},{}],82:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,i,s,u,l,c){this.anchorPoint=e,this.tl=t,this.tr=n,this.bl=r,this.br=a,this.tex=o,this.anchorAngle=i,this.glyphAngle=s,this.minScale=u,this.maxScale=l,this.writingMode=c}function a(e,t,n,a,o,i,l,c,f){var p,d,h,m,v=t.image.rect,y=o.layout,g=1,b=t.left-g,_=b+v.w/t.image.pixelRatio,x=t.top-g,w=x+v.h/t.image.pixelRatio;if("none"!==y["icon-text-fit"]&&l){var E=_-b,S=w-x,T=y["text-size"]/24,M=l.left*T,C=l.right*T,k=l.top*T,I=l.bottom*T,P=C-M,D=I-k,N=y["icon-text-fit-padding"][0],A=y["icon-text-fit-padding"][1],O=y["icon-text-fit-padding"][2],R=y["icon-text-fit-padding"][3],j="width"===y["icon-text-fit"]?.5*(D-S):0,L="height"===y["icon-text-fit"]?.5*(P-E):0,F="width"===y["icon-text-fit"]||"both"===y["icon-text-fit"]?P:E,z="height"===y["icon-text-fit"]||"both"===y["icon-text-fit"]?D:S;p=new s(M+L-R,k+j-N),d=new s(M+L+A+F,k+j-N),h=new s(M+L+A+F,k+j+O+z),m=new s(M+L-R,k+j+O+z)}else p=new s(b,x),d=new s(_,x),h=new s(_,w),m=new s(b,w);var U=o.getLayoutValue("icon-rotate",c,f)*Math.PI/180;if(i){var B=a[e.segment];if(e.y===B.y&&e.x===B.x&&e.segment+1<a.length){var q=a[e.segment+1];U+=Math.atan2(e.y-q.y,e.x-q.x)+Math.PI}else U+=Math.atan2(e.y-B.y,e.x-B.x)}if(U){var V=Math.sin(U),$=Math.cos(U),H=[$,-V,V,$];p=p.matMult(H),d=d.matMult(H),m=m.matMult(H),h=h.matMult(H)}return[new r(new s(e.x,e.y),p,d,m,h,t.image.rect,0,0,u,1/0)]}function o(e,t,n,a,o,l){for(var c=o.layout["text-rotate"]*Math.PI/180,f=o.layout["text-keep-upright"],p=t.positionedGlyphs,d=[],h=0;h<p.length;h++){var m=p[h],v=m.glyph;if(v){var y=v.rect;if(y){var g,b=(m.x+v.advance/2)*n,_=u;l?(g=[],_=i(g,e,b,a,e.segment,!0),f&&(_=Math.min(_,i(g,e,b,a,e.segment,!1)))):g=[{anchorPoint:new s(e.x,e.y),offset:0,angle:0,maxScale:1/0,minScale:u}];var x=m.x+v.left,w=m.y-v.top,E=x+y.w,S=w+y.h,T=new s(m.x,v.advance/2),M=new s(x,w),C=new s(E,w),k=new s(x,S),I=new s(E,S);0!==m.angle&&(M._sub(T)._rotate(m.angle)._add(T),C._sub(T)._rotate(m.angle)._add(T),k._sub(T)._rotate(m.angle)._add(T),I._sub(T)._rotate(m.angle)._add(T));for(var P=0;P<g.length;P++){var D=g[P],N=M,A=C,O=k,R=I;if(c){var j=Math.sin(c),L=Math.cos(c),F=[L,-j,j,L];N=N.matMult(F),A=A.matMult(F),O=O.matMult(F),R=R.matMult(F)}var z=Math.max(D.minScale,_),U=(e.angle+D.offset+2*Math.PI)%(2*Math.PI),B=(D.angle+D.offset+2*Math.PI)%(2*Math.PI);d.push(new r(D.anchorPoint,N,A,O,R,y,U,B,z,D.maxScale,t.writingMode))}}}}return d}function i(e,t,n,r,a,o){var i=!o;n<0&&(o=!o),o&&a++;var l=new s(t.x,t.y),c=r[a],f=1/0;n=Math.abs(n);for(var p=u;;){var d=l.dist(c),h=n/d,m=Math.atan2(c.y-l.y,c.x-l.x);if(o||(m+=Math.PI),e.push({anchorPoint:l,offset:i?Math.PI:0,minScale:h,maxScale:f,angle:(m+2*Math.PI)%(2*Math.PI)}),h<=p)break;for(l=c;l.equals(c);)if(a+=o?1:-1,c=r[a],!c)return h;var v=c.sub(l)._unit();l=l.sub(v._mult(d)),f=h}return p}var s=e("point-geometry");t.exports={getIconQuads:a,getGlyphQuads:o,SymbolQuad:r};var u=.5},{"point-geometry":195}],83:[function(e,t,n){"use strict";var r=e("../util/token");t.exports=function(e,t){var n=r(e.properties,t["text-field"]);if(n){n=n.toString();var a=t["text-transform"];return"uppercase"===a?n=n.toLocaleUpperCase():"lowercase"===a&&(n=n.toLocaleLowerCase()),n}}},{"../util/token":125}],84:[function(e,t,n){"use strict";function r(e,t,n,r,a){this.codePoint=e,this.x=t,this.y=n,this.glyph=r||null,this.angle=a}function a(e,t,n,r,a,o,i){this.positionedGlyphs=e,this.text=t,this.top=n,this.bottom=r,this.left=a,this.right=o,this.writingMode=i}function o(e,t,n,o,s,u,l,c,m,v,y){e=e.trim(),y===d.vertical&&(e=p(e));for(var g=[],b=new a(g,e,m[1],m[1],m[0],m[0],y),_=-17,x=0,w=0;w<e.length;w++){var E=e.charCodeAt(w),S=t[E];(S||E===h)&&(f.charHasUprightVerticalOrientation(E)&&y!==d.horizontal?(g.push(new r(E,x,0,S,-Math.PI/2)),S&&(x+=v+c)):(g.push(new r(E,x,_,S,0)),S&&(x+=S.advance+c)))}return!!g.length&&(i(b,t,o,n,s,u,l,m,f.allowsIdeographicBreaking(e),y),b)}function i(e,t,n,r,a,o,i,l,c,p){var y=null,g=0,b=0,_=0,x=0,w=e.positionedGlyphs;if(p===d.horizontal&&r){if(c){var E=w[w.length-1],S=Math.max(1,Math.ceil(E.x/r));r=E.x/S}for(var T=0;T<w.length;T++){var M=w[T];if(M.x-=g,M.y+=n*_,null!==y&&(M.x>r||w[y].codePoint===h)){var C=w[y+1].x;x=Math.max(C,x);for(var k=y+1;k<=T;k++)w[k].y+=n,w[k].x-=C;if(i&&y>b){var I=y;m[w[y].codePoint]&&I--,s(w,t,b,I,i)}b=y+1,y=null,g+=C,_++}(c||v[M.codePoint]||f.charAllowsIdeographicBreaking(M.codePoint))&&(y=T)}}var P=w[w.length-1],D=P.x+t[P.codePoint].advance;x=Math.max(x,D);var N=(_+1)*n;s(w,t,b,w.length-1,i),u(w,i,a,o,x,n,_,l),e.top+=-o*N,e.bottom=e.top+N,e.left+=-a*x,e.right=e.left+x}function s(e,t,n,r,a){for(var o=t[e[r].codePoint].advance,i=(e[r].x+o)*a,s=n;s<=r;s++)e[s].x-=i}function u(e,t,n,r,a,o,i,s){for(var u=(t-n)*a+s[0],l=(-r*(i+1)+.5)*o+s[1],c=0;c<e.length;c++)e[c].x+=u,e[c].y+=l}function l(e,t){if(!e||!e.rect)return null;var n=t["icon-offset"][0],r=t["icon-offset"][1],a=n-e.width/2,o=a+e.width,i=r-e.height/2,s=i+e.height;return new c(e,i,s,a,o)}function c(e,t,n,r,a){this.image=e,this.top=t,this.bottom=n,this.left=r,this.right=a}var f=e("../util/script_detection"),p=e("../util/verticalize_punctuation"),d={horizontal:1,vertical:2};t.exports={shapeText:o,shapeIcon:l,WritingMode:d};var h=10,m={32:!0,8203:!0},v={32:!0,38:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0};m[h]=v[h]=!0},{"../util/script_detection":123,"../util/verticalize_punctuation":128}],85:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,i,s,u,l,c){var f,p,d=r*t+n,h=s*o+i;if(c)for(h-=o,p=-1;p<=l;p++,d=((p+l)%l+r)*t+n,h+=o)for(f=-1;f<=u;f++)a[h+f]=e[d+(f+u)%u];else for(p=0;p<l;p++,d+=t,h+=o)for(f=0;f<u;f++)a[h+f]=e[d+f]}var a=e("shelf-pack"),o=e("../util/browser"),i=e("../util/util"),s=function(e,t,n,r,a){this.rect=e,this.width=t,this.height=n,this.sdf=r,this.pixelRatio=a},u=function(e,t){this.width=e,this.height=t,this.bin=new a(e,t),this.images={},this.data=!1,this.texture=0,this.filter=0,this.pixelRatio=1,this.dirty=!0};u.prototype.allocateImage=function(e,t){e/=this.pixelRatio,t/=this.pixelRatio;var n=2,r=e+n+(4-(e+n)%4),a=t+n+(4-(t+n)%4),o=this.bin.packOne(r,a);return o?o:(i.warnOnce("SpriteAtlas out of space."),null)},u.prototype.getImage=function(e,t){if(this.images[e])return this.images[e];if(!this.sprite)return null;var n=this.sprite.getSpritePosition(e);if(!n.width||!n.height)return null;var r=this.allocateImage(n.width,n.height);if(!r)return null;var a=new s(r,n.width/n.pixelRatio,n.height/n.pixelRatio,n.sdf,n.pixelRatio/this.pixelRatio);return this.images[e]=a,this.copy(r,n,t),a},u.prototype.getPosition=function(e,t){var n=this.getImage(e,t),r=n&&n.rect;if(!r)return null;var a=n.width*n.pixelRatio,o=n.height*n.pixelRatio,i=1;return{size:[n.width,n.height],tl:[(r.x+i)/this.width,(r.y+i)/this.height],br:[(r.x+i+a)/this.width,(r.y+i+o)/this.height]}},u.prototype.allocate=function(){var e=this;if(!this.data){var t=Math.floor(this.width*this.pixelRatio),n=Math.floor(this.height*this.pixelRatio);this.data=new Uint32Array(t*n);for(var r=0;r<this.data.length;r++)e.data[r]=0}},u.prototype.copy=function(e,t,n){if(this.sprite.imgData){var a=new Uint32Array(this.sprite.imgData.buffer);this.allocate();var o=this.data,i=1;r(a,this.sprite.width,t.x,t.y,o,this.width*this.pixelRatio,(e.x+i)*this.pixelRatio,(e.y+i)*this.pixelRatio,t.width,t.height,n),this.dirty=!0}},u.prototype.setSprite=function(e){e&&(this.pixelRatio=o.devicePixelRatio>1?2:1,this.canvas&&(this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio)),this.sprite=e},u.prototype.addIcons=function(e,t){for(var n=this,r=0;r<e.length;r++)n.getImage(e[r]);t(null,this.images)},u.prototype.bind=function(e,t){var n=!1;this.texture?e.bindTexture(e.TEXTURE_2D,this.texture):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n=!0);var r=t?e.LINEAR:e.NEAREST;r!==this.filter&&(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r),this.filter=r),this.dirty&&(this.allocate(),n?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width*this.pixelRatio,this.height*this.pixelRatio,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width*this.pixelRatio,this.height*this.pixelRatio,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)),this.dirty=!1)},t.exports=u},{"../util/browser":107,"../util/util":126,"shelf-pack":197}],86:[function(e,t,n){"use strict";var r=e("../util/struct_array"),a=e("point-geometry"),o=r({members:[{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"glyphQuadStartIndex"},{type:"Uint16",name:"glyphQuadEndIndex"},{type:"Uint16",name:"iconQuadStartIndex"},{type:"Uint16",name:"iconQuadEndIndex"},{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int8",name:"index"},{type:"Uint8",name:"writingModes"}]});Object.defineProperty(o.prototype.StructType.prototype,"anchorPoint",{get:function(){return new a(this.anchorPointX,this.anchorPointY)}}),t.exports=o},{"../util/struct_array":124,"point-geometry":195}],87:[function(e,t,n){"use strict";var r=e("../util/struct_array"),a=e("point-geometry"),o=e("./quads").SymbolQuad,i=r({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Float32",name:"tlX"},{type:"Float32",name:"tlY"},{type:"Float32",name:"trX"},{type:"Float32",name:"trY"},{type:"Float32",name:"blX"},{type:"Float32",name:"blY"},{type:"Float32",name:"brX"},{type:"Float32",name:"brY"},{type:"Int16",name:"texH"},{type:"Int16",name:"texW"},{type:"Int16",name:"texX"},{type:"Int16",name:"texY"},{type:"Float32",name:"anchorAngle"},{type:"Float32",name:"glyphAngle"},{type:"Float32",name:"maxScale"},{type:"Float32",name:"minScale"},{type:"Uint8",name:"writingMode"}]});Object.defineProperty(i.prototype.StructType.prototype,"anchorPoint",{get:function(){return new a(this.anchorPointX,this.anchorPointY)}}),Object.defineProperty(i.prototype.StructType.prototype,"SymbolQuad",{get:function(){return new o(this.anchorPoint,new a(this.tlX,this.tlY),new a(this.trX,this.trY),new a(this.blX,this.blY),new a(this.brX,this.brY),{x:this.texX,y:this.texY,h:this.texH,w:this.texW,height:this.texH,width:this.texW},this.anchorAngle,this.glyphAngle,this.minScale,this.maxScale,this.writingMode)}}),t.exports=i},{"../util/struct_array":124,"./quads":82,"point-geometry":195}],88:[function(e,t,n){"use strict";var r=e("../util/dom"),a=e("point-geometry"),o={scrollZoom:e("./handler/scroll_zoom"),boxZoom:e("./handler/box_zoom"),dragRotate:e("./handler/drag_rotate"),dragPan:e("./handler/drag_pan"),keyboard:e("./handler/keyboard"),doubleClickZoom:e("./handler/dblclick_zoom"),touchZoomRotate:e("./handler/touch_zoom_rotate")};t.exports=function(e,t){function n(e){y("mouseout",e)}function i(t){e.stop(),x=r.mousePos(b,t),y("mousedown",t)}function s(t){var n=e.dragRotate&&e.dragRotate.isActive();_&&!n&&y("contextmenu",_),_=null,y("mouseup",t)}function u(t){if(!(e.dragPan&&e.dragPan.isActive()||e.dragRotate&&e.dragRotate.isActive())){for(var n=t.toElement||t.target;n&&n!==b;)n=n.parentNode;n===b&&y("mousemove",t)}}function l(t){e.stop(),g("touchstart",t),!t.touches||t.touches.length>1||(w?(clearTimeout(w),w=null,y("dblclick",t)):w=setTimeout(d,300))}function c(e){g("touchmove",e)}function f(e){g("touchend",e)}function p(e){g("touchcancel",e)}function d(){w=null}function h(e){var t=r.mousePos(b,e);t.equals(x)&&y("click",e)}function m(e){y("dblclick",e),e.preventDefault()}function v(e){_=e,e.preventDefault()}function y(t,n){var a=r.mousePos(b,n);return e.fire(t,{lngLat:e.unproject(a),point:a,originalEvent:n})}function g(t,n){var o=r.touchPos(b,n),i=o.reduce(function(e,t,n,r){return e.add(t.div(r.length))},new a(0,0));return e.fire(t,{lngLat:e.unproject(i),point:i,lngLats:o.map(function(t){return e.unproject(t)},this),points:o,originalEvent:n})}var b=e.getCanvasContainer(),_=null,x=null,w=null;for(var E in o)e[E]=new o[E](e,t),t.interactive&&t[E]&&e[E].enable();b.addEventListener("mouseout",n,!1),b.addEventListener("mousedown",i,!1),b.addEventListener("mouseup",s,!1),b.addEventListener("mousemove",u,!1),b.addEventListener("touchstart",l,!1),b.addEventListener("touchend",f,!1),b.addEventListener("touchmove",c,!1),b.addEventListener("touchcancel",p,!1),b.addEventListener("click",h,!1),b.addEventListener("dblclick",m,!1),b.addEventListener("contextmenu",v,!1)}},{"../util/dom":114,"./handler/box_zoom":94,"./handler/dblclick_zoom":95,"./handler/drag_pan":96,"./handler/drag_rotate":97,"./handler/keyboard":98,"./handler/scroll_zoom":99,"./handler/touch_zoom_rotate":100,"point-geometry":195}],89:[function(e,t,n){"use strict";var r=e("../util/util"),a=e("../util/interpolate"),o=e("../util/browser"),i=e("../geo/lng_lat"),s=e("../geo/lng_lat_bounds"),u=e("point-geometry"),l=e("../util/evented"),c=function(e){function t(t,n){e.call(this),this.transform=t,this._bearingSnap=n.bearingSnap}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCenter=function(){return this.transform.center},t.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t),this},t.prototype.panBy=function(e,t,n){return this.panTo(this.transform.center,r.extend({offset:u.convert(e).mult(-1)},t),n),this},t.prototype.panTo=function(e,t,n){return this.easeTo(r.extend({center:e},t),n)},t.prototype.getZoom=function(){return this.transform.zoom},t.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},t.prototype.zoomTo=function(e,t,n){return this.easeTo(r.extend({zoom:e},t),n)},t.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},t.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},t.prototype.getBearing=function(){return this.transform.bearing},t.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},t.prototype.rotateTo=function(e,t,n){return this.easeTo(r.extend({bearing:e},t),n)},t.prototype.resetNorth=function(e,t){return this.rotateTo(0,r.extend({duration:1e3},e),t),this},t.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},t.prototype.getPitch=function(){return this.transform.pitch},t.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},t.prototype.fitBounds=function(e,t,n){t=r.extend({padding:0,offset:[0,0],maxZoom:1/0},t),e=s.convert(e);var a=u.convert(t.offset),o=this.transform,i=o.project(e.getNorthWest()),l=o.project(e.getSouthEast()),c=l.sub(i),f=(o.width-2*t.padding-2*Math.abs(a.x))/c.x,p=(o.height-2*t.padding-2*Math.abs(a.y))/c.y;return t.center=o.unproject(i.add(l).div(2)),t.zoom=Math.min(o.scaleZoom(o.scale*Math.min(f,p)),t.maxZoom),t.bearing=0,t.linear?this.easeTo(t,n):this.flyTo(t,n)},t.prototype.jumpTo=function(e,t){this.stop();var n=this.transform,r=!1,a=!1,o=!1;return"zoom"in e&&n.zoom!==+e.zoom&&(r=!0,n.zoom=+e.zoom),"center"in e&&(n.center=i.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(a=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(o=!0,n.pitch=+e.pitch),this.fire("movestart",t).fire("move",t),r&&this.fire("zoomstart",t).fire("zoom",t).fire("zoomend",t),a&&this.fire("rotate",t),o&&this.fire("pitch",t),this.fire("moveend",t)},t.prototype.easeTo=function(e,t){var n=this;this.stop(),e=r.extend({offset:[0,0],duration:500,easing:r.ease},e);var o,s,l=this.transform,c=u.convert(e.offset),f=this.getZoom(),p=this.getBearing(),d=this.getPitch(),h="zoom"in e?+e.zoom:f,m="bearing"in e?this._normalizeBearing(e.bearing,p):p,v="pitch"in e?+e.pitch:d;"center"in e?(o=i.convert(e.center),s=l.centerPoint.add(c)):"around"in e?(o=i.convert(e.around),s=l.locationPoint(o)):(s=l.centerPoint.add(c),o=l.pointLocation(s));var y=l.locationPoint(o);return e.animate===!1&&(e.duration=0),this.zooming=h!==f,this.rotating=p!==m,this.pitching=v!==d,e.smoothEasing&&0!==e.duration&&(e.easing=this._smoothOutEasing(e.duration)),e.noMoveStart||this.fire("movestart",t),this.zooming&&this.fire("zoomstart",t),clearTimeout(this._onEaseEnd),this._ease(function(e){this.zooming&&(l.zoom=a(f,h,e)),this.rotating&&(l.bearing=a(p,m,e)),this.pitching&&(l.pitch=a(d,v,e)),l.setLocationAtPoint(o,y.add(s.sub(y)._mult(e))),this.fire("move",t),this.zooming&&this.fire("zoom",t),this.rotating&&this.fire("rotate",t),this.pitching&&this.fire("pitch",t)},function(){e.delayEndEvents?n._onEaseEnd=setTimeout(n._easeToEnd.bind(n,t),e.delayEndEvents):n._easeToEnd(t)},e),this},t.prototype._easeToEnd=function(e){var t=this.zooming;this.zooming=!1,this.rotating=!1,this.pitching=!1,t&&this.fire("zoomend",e),this.fire("moveend",e)},t.prototype.flyTo=function(e,t){function n(e){var t=(T*T-S*S+(e?-1:1)*I*I*M*M)/(2*(e?T:S)*I*M);return Math.log(Math.sqrt(t*t+1)-t)}function o(e){return(Math.exp(e)-Math.exp(-e))/2}function s(e){return(Math.exp(e)+Math.exp(-e))/2}function l(e){return o(e)/s(e)}this.stop(),e=r.extend({offset:[0,0],speed:1.2,curve:1.42,easing:r.ease},e);var c=this.transform,f=u.convert(e.offset),p=this.getZoom(),d=this.getBearing(),h=this.getPitch(),m="center"in e?i.convert(e.center):this.getCenter(),v="zoom"in e?+e.zoom:p,y="bearing"in e?this._normalizeBearing(e.bearing,d):d,g="pitch"in e?+e.pitch:h;Math.abs(c.center.lng)+Math.abs(m.lng)>180&&(c.center.lng>0&&m.lng<0?m.lng+=360:c.center.lng<0&&m.lng>0&&(m.lng-=360));var b=c.zoomScale(v-p),_=c.point,x="center"in e?c.project(m).sub(f.div(b)):_,w=c.worldSize,E=e.curve,S=Math.max(c.width,c.height),T=S/b,M=x.sub(_).mag();if("minZoom"in e){var C=r.clamp(Math.min(e.minZoom,p,v),c.minZoom,c.maxZoom),k=S/c.zoomScale(C-p);E=Math.sqrt(k/M*2)}var I=E*E,P=n(0),D=function(e){return s(P)/s(P+E*e)},N=function(e){return S*((s(P)*l(P+E*e)-o(P))/I)/M},A=(n(1)-P)/E;if(Math.abs(M)<1e-6){if(Math.abs(S-T)<1e-6)return this.easeTo(e);var O=T<S?-1:1;A=Math.abs(Math.log(T/S))/E,N=function(){return 0},D=function(e){return Math.exp(O*E*e)}}if("duration"in e)e.duration=+e.duration;else{var R="screenSpeed"in e?+e.screenSpeed/E:+e.speed;e.duration=1e3*A/R}return this.zooming=!0,d!==y&&(this.rotating=!0),h!==g&&(this.pitching=!0),this.fire("movestart",t),this.fire("zoomstart",t),this._ease(function(e){var n=e*A,r=N(n);c.zoom=p+c.scaleZoom(1/D(n)),c.center=c.unproject(_.add(x.sub(_).mult(r)),w),this.rotating&&(c.bearing=a(d,y,e)),this.pitching&&(c.pitch=a(h,g,e)),this.fire("move",t),this.fire("zoom",t),this.rotating&&this.fire("rotate",t),this.pitching&&this.fire("pitch",t)},function(){this.zooming=!1,this.rotating=!1,this.pitching=!1,this.fire("zoomend",t),this.fire("moveend",t)},e),this},t.prototype.isEasing=function(){return!!this._abortFn},t.prototype.stop=function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},t.prototype._ease=function(e,t,n){this._finishFn=t,this._abortFn=o.timed(function(t){e.call(this,n.easing(t)),1===t&&this._finishEase()},n.animate===!1?0:n.duration,this)},t.prototype._finishEase=function(){delete this._abortFn;var e=this._finishFn;delete this._finishFn,e.call(this)},t.prototype._normalizeBearing=function(e,t){e=r.wrap(e,-180,180);var n=Math.abs(e-t);return Math.abs(e-360-t)<n&&(e-=360),Math.abs(e+360-t)<n&&(e+=360),e},t.prototype._smoothOutEasing=function(e){var t=r.ease;if(this._prevEase){var n=this._prevEase,a=(Date.now()-n.start)/n.duration,o=n.easing(a+.01)-n.easing(a),i=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-i*i);t=r.bezier(i,s,.25,1)}return this._prevEase={start:(new Date).getTime(),duration:e,easing:t},t},t}(l);t.exports=c},{"../geo/lng_lat":19,"../geo/lng_lat_bounds":20,"../util/browser":107,"../util/evented":115,"../util/interpolate":118,"../util/util":126,"point-geometry":195}],90:[function(e,t,n){"use strict";var r=e("../../util/dom"),a=e("../../util/util"),o=function(){a.bindAll(["_updateEditLink","_updateData"],this)};o.prototype.getDefaultPosition=function(){return"bottom-right"},o.prototype.onAdd=function(e){return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._updateAttributions(),this._updateEditLink(),this._map.on("data",this._updateData),this._map.on("moveend",this._updateEditLink),this._container},o.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("data",this._updateData),this._map.off("moveend",this._updateEditLink),this._map=void 0},o.prototype._updateEditLink=function(){if(this._editLink||(this._editLink=this._container.querySelector(".mapbox-improve-map")),this._editLink){var e=this._map.getCenter();this._editLink.href="https://www.mapbox.com/map-feedback/#/"+e.lng+"/"+e.lat+"/"+Math.round(this._map.getZoom()+1)}},o.prototype._updateData=function(e){"source"===e.dataType&&(this._updateAttributions(),this._updateEditLink())},o.prototype._updateAttributions=function(){if(this._map.style){var e=[],t=this._map.style.sourceCaches;for(var n in t){var r=t[n].getSource();r.attribution&&e.indexOf(r.attribution)<0&&e.push(r.attribution)}e.sort(function(e,t){return e.length-t.length}),e=e.filter(function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0}),this._container.innerHTML=e.join(" | "),this._editLink=null}},t.exports=o},{"../../util/dom":114,"../../util/util":126}],91:[function(e,t,n){"use strict";function r(e){void 0!==c?e(c):void 0!==i.navigator.permissions?i.navigator.permissions.query({name:"geolocation"}).then(function(t){c="denied"!==t.state,e(c)}):(c=!!i.navigator.geolocation,e(c))}var a=e("../../util/evented"),o=e("../../util/dom"),i=e("../../util/window"),s=e("../../util/util"),u={enableHighAccuracy:!1,timeout:6e3},l="mapboxgl-ctrl",c,f=function(e){function t(){e.call(this),s.bindAll(["_onSuccess","_onError","_finish","_setupUI"],this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onAdd=function(e){return this._map=e,this._container=o.create("div",l+" "+l+"-group"),r(this._setupUI),this._container},t.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map=void 0},t.prototype._onSuccess=function(e){this._map.jumpTo({center:[e.coords.longitude,e.coords.latitude],zoom:17,bearing:0,pitch:0}),this.fire("geolocate",e),this._finish()},t.prototype._onError=function(e){this.fire("error",e),this._finish()},t.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},t.prototype._setupUI=function(e){e!==!1&&(this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this._geolocateButton=o.create("button",l+"-icon "+l+"-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)))},t.prototype._onClickGeolocate=function(){i.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,u),this._timeoutId=setTimeout(this._finish,1e4)},t}(a);t.exports=f},{"../../util/dom":114,"../../util/evented":115,"../../util/util":126,"../../util/window":109}],92:[function(e,t,n){"use strict";function r(e){return new o.MouseEvent(e.type,{button:2,buttons:2,bubbles:!0,cancelable:!0,detail:e.detail,view:e.view,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,movementX:e.movementX,movementY:e.movementY,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey})}var a=e("../../util/dom"),o=e("../../util/window"),i=e("../../util/util"),s="mapboxgl-ctrl",u=function(){i.bindAll(["_rotateCompassArrow"],this)};u.prototype._rotateCompassArrow=function(){var e="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=e},u.prototype.onAdd=function(e){return this._map=e,this._container=a.create("div",s+" "+s+"-group",e.getContainer()),this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._zoomInButton=this._createButton(s+"-icon "+s+"-zoom-in","Zoom In",e.zoomIn.bind(e)),this._zoomOutButton=this._createButton(s+"-icon "+s+"-zoom-out","Zoom Out",e.zoomOut.bind(e)),this._compass=this._createButton(s+"-icon "+s+"-compass","Reset North",e.resetNorth.bind(e)),this._compassArrow=a.create("span","arrow",this._compass),this._compass.addEventListener("mousedown",this._onCompassDown.bind(this)),this._onCompassMove=this._onCompassMove.bind(this),this._onCompassUp=this._onCompassUp.bind(this),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._container},u.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("rotate",this._rotateCompassArrow),this._map=void 0},u.prototype._onContextMenu=function(e){e.preventDefault()},u.prototype._onCompassDown=function(e){0===e.button&&(a.disableDrag(),o.document.addEventListener("mousemove",this._onCompassMove),o.document.addEventListener("mouseup",this._onCompassUp),this._map.getCanvasContainer().dispatchEvent(r(e)),e.stopPropagation())},u.prototype._onCompassMove=function(e){0===e.button&&(this._map.getCanvasContainer().dispatchEvent(r(e)),e.stopPropagation())},u.prototype._onCompassUp=function(e){0===e.button&&(o.document.removeEventListener("mousemove",this._onCompassMove),o.document.removeEventListener("mouseup",this._onCompassUp),a.enableDrag(),this._map.getCanvasContainer().dispatchEvent(r(e)),e.stopPropagation())},u.prototype._createButton=function(e,t,n){var r=a.create("button",e,this._container);return r.type="button",r.setAttribute("aria-label",t),r.addEventListener("click",function(){n()}),r},t.exports=u},{"../../util/dom":114,"../../util/util":126,"../../util/window":109}],93:[function(e,t,n){"use strict";function r(e,t,n){var r=n&&n.maxWidth||100,i=e._container.clientHeight/2,s=o(e.unproject([0,i]),e.unproject([r,i]));if(n&&"imperial"===n.unit){var u=3.2808*s;if(u>5280){var l=u/5280;a(t,r,l,"mi")}else a(t,r,u,"ft")}else a(t,r,s,"m")}function a(e,t,n,r){var a=i(n),o=a/n;"m"===r&&a>=1e3&&(a/=1e3,r="km"),e.style.width=t*o+"px",e.innerHTML=a+r}function o(e,t){var n=6371e3,r=Math.PI/180,a=e.lat*r,o=t.lat*r,i=Math.sin(a)*Math.sin(o)+Math.cos(a)*Math.cos(o)*Math.cos((t.lng-e.lng)*r),s=n*Math.acos(Math.min(i,1));return s}function i(e){var t=Math.pow(10,(""+Math.floor(e)).length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}var s=e("../../util/dom"),u=e("../../util/util"),l=function(e){this.options=e,u.bindAll(["_onMove"],this)};l.prototype.getDefaultPosition=function(){return"bottom-left"},l.prototype._onMove=function(){r(this._map,this._container,this.options)},l.prototype.onAdd=function(e){return this._map=e,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},l.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("move",this._onMove),this._map=void 0},t.exports=l},{"../../util/dom":114,"../../util/util":126}],94:[function(e,t,n){"use strict";var r=e("../../util/dom"),a=e("../../geo/lng_lat_bounds"),o=e("../../util/util"),i=e("../../util/window"),s=function(e){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),o.bindAll(["_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown"],this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.isActive=function(){return!!this._active},s.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onMouseDown,!1),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},s.prototype._onMouseDown=function(e){e.shiftKey&&0===e.button&&(i.document.addEventListener("mousemove",this._onMouseMove,!1),i.document.addEventListener("keydown",this._onKeyDown,!1),i.document.addEventListener("mouseup",this._onMouseUp,!1),r.disableDrag(),this._startPos=r.mousePos(this._el,e),this._active=!0)},s.prototype._onMouseMove=function(e){var t=this._startPos,n=r.mousePos(this._el,e);this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var a=Math.min(t.x,n.x),o=Math.max(t.x,n.x),i=Math.min(t.y,n.y),s=Math.max(t.y,n.y);r.setTransform(this._box,"translate("+a+"px,"+i+"px)"),this._box.style.width=o-a+"px",this._box.style.height=s-i+"px"},s.prototype._onMouseUp=function(e){if(0===e.button){var t=this._startPos,n=r.mousePos(this._el,e),o=(new a).extend(this._map.unproject(t)).extend(this._map.unproject(n));this._finish(),t.x===n.x&&t.y===n.y?this._fireEvent("boxzoomcancel",e):this._map.fitBounds(o,{linear:!0}).fire("boxzoomend",{originalEvent:e,boxZoomBounds:o})}},s.prototype._onKeyDown=function(e){27===e.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",e))},s.prototype._finish=function(){this._active=!1,i.document.removeEventListener("mousemove",this._onMouseMove,!1),i.document.removeEventListener("keydown",this._onKeyDown,!1),i.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.parentNode.removeChild(this._box),this._box=null),r.enableDrag()},s.prototype._fireEvent=function(e,t){return this._map.fire(e,{originalEvent:t})},t.exports=s},{"../../geo/lng_lat_bounds":20,"../../util/dom":114,"../../util/util":126,"../../util/window":109}],95:[function(e,t,n){"use strict";var r=function(e){this._map=e,this._onDblClick=this._onDblClick.bind(this)};r.prototype.isEnabled=function(){return!!this._enabled},r.prototype.enable=function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},r.prototype.disable=function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},r.prototype._onDblClick=function(e){this._map.zoomTo(this._map.getZoom()+(e.originalEvent.shiftKey?-1:1),{around:e.lngLat},e)},t.exports=r},{}],96:[function(e,t,n){"use strict";var r=e("../../util/dom"),a=e("../../util/util"),o=e("../../util/window"),i=.3,s=a.bezier(0,0,i,1),u=1400,l=2500,c=function(e){this._map=e,this._el=e.getCanvasContainer(),a.bindAll(["_onDown","_onMove","_onUp","_onTouchEnd","_onMouseUp"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.isActive=function(){return!!this._active},c.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown),this._enabled=!0)},c.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown),this._enabled=!1)},c.prototype._onDown=function(e){this._ignoreEvent(e)||this.isActive()||(e.touches?(o.document.addEventListener("touchmove",this._onMove),o.document.addEventListener("touchend",this._onTouchEnd)):(o.document.addEventListener("mousemove",this._onMove),o.document.addEventListener("mouseup",this._onMouseUp)),this._active=!1,this._startPos=this._pos=r.mousePos(this._el,e),this._inertia=[[Date.now(),this._pos]])},c.prototype._onMove=function(e){if(!this._ignoreEvent(e)){this.isActive()||(this._active=!0,this._fireEvent("dragstart",e),this._fireEvent("movestart",e));var t=r.mousePos(this._el,e),n=this._map;n.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),t]),n.transform.setLocationAtPoint(n.transform.pointLocation(this._pos),t),this._fireEvent("drag",e),this._fireEvent("move",e),this._pos=t,e.preventDefault()}},c.prototype._onUp=function(e){var t=this;if(this.isActive()){this._active=!1,this._fireEvent("dragend",e),this._drainInertiaBuffer();var n=function(){return t._fireEvent("moveend",e)},r=this._inertia;if(r.length<2)return void n();var a=r[r.length-1],o=r[0],c=a[1].sub(o[1]),f=(a[0]-o[0])/1e3;if(0===f||a[1].equals(o[1]))return void n();var p=c.mult(i/f),d=p.mag();d>u&&(d=u,p._unit()._mult(d));var h=d/(l*i),m=p.mult(-h/2);this._map.panBy(m,{duration:1e3*h,easing:s,noMoveStart:!0},{originalEvent:e})}},c.prototype._onMouseUp=function(e){this._ignoreEvent(e)||(this._onUp(e),o.document.removeEventListener("mousemove",this._onMove),o.document.removeEventListener("mouseup",this._onMouseUp))},c.prototype._onTouchEnd=function(e){this._ignoreEvent(e)||(this._onUp(e),o.document.removeEventListener("touchmove",this._onMove),o.document.removeEventListener("touchend",this._onTouchEnd))},c.prototype._fireEvent=function(e,t){return this._map.fire(e,{originalEvent:t})},c.prototype._ignoreEvent=function(e){var t=this._map;if(t.boxZoom&&t.boxZoom.isActive())return!0;if(t.dragRotate&&t.dragRotate.isActive())return!0;if(e.touches)return e.touches.length>1;if(e.ctrlKey)return!0;var n=1,r=0;return"mousemove"===e.type?e.buttons&0===n:e.button!==r},c.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,t=Date.now(),n=160;e.length>0&&t-e[0][0]>n;)e.shift()},t.exports=c},{"../../util/dom":114,"../../util/util":126,"../../util/window":109}],97:[function(e,t,n){"use strict";var r=e("../../util/dom"),a=e("../../util/util"),o=e("../../util/window"),i=.25,s=a.bezier(0,0,i,1),u=180,l=720,c=function(e,t){this._map=e,this._el=e.getCanvasContainer(),this._bearingSnap=t.bearingSnap,this._pitchWithRotate=t.pitchWithRotate!==!1,a.bindAll(["_onDown","_onMove","_onUp"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.isActive=function(){return!!this._active},c.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},c.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},c.prototype._onDown=function(e){this._ignoreEvent(e)||this.isActive()||(o.document.addEventListener("mousemove",this._onMove),o.document.addEventListener("mouseup",this._onUp),this._active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=r.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault())},c.prototype._onMove=function(e){if(!this._ignoreEvent(e)){this.isActive()||(this._active=!0,this._fireEvent("rotatestart",e),this._fireEvent("movestart",e));var t=this._map;t.stop();var n=this._pos,a=r.mousePos(this._el,e),o=.8*(n.x-a.x),i=(n.y-a.y)*-.5,s=t.getBearing()-o,u=t.getPitch()-i,l=this._inertia,c=l[l.length-1];this._drainInertiaBuffer(),l.push([Date.now(),t._normalizeBearing(s,c[1])]),t.transform.bearing=s,this._pitchWithRotate&&(t.transform.pitch=u),this._fireEvent("rotate",e),this._fireEvent("move",e),this._pos=a}},c.prototype._onUp=function(e){var t=this;if(!this._ignoreEvent(e)&&(o.document.removeEventListener("mousemove",this._onMove),o.document.removeEventListener("mouseup",this._onUp),this.isActive())){this._active=!1,this._fireEvent("rotateend",e),this._drainInertiaBuffer();var n=this._map,r=n.getBearing(),a=this._inertia,c=function(){Math.abs(r)<t._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:e}):t._fireEvent("moveend",e)};if(a.length<2)return void c();var f=a[0],p=a[a.length-1],d=a[a.length-2],h=n._normalizeBearing(r,d[1]),m=p[1]-f[1],v=m<0?-1:1,y=(p[0]-f[0])/1e3;if(0===m||0===y)return void c();var g=Math.abs(m*(i/y));g>u&&(g=u);var b=g/(l*i),_=v*g*(b/2);h+=_,Math.abs(n._normalizeBearing(h,0))<this._bearingSnap&&(h=n._normalizeBearing(0,h)),n.rotateTo(h,{duration:1e3*b,easing:s,noMoveStart:!0},{originalEvent:e})}},c.prototype._fireEvent=function(e,t){return this._map.fire(e,{originalEvent:t})},c.prototype._ignoreEvent=function(e){var t=this._map;if(t.boxZoom&&t.boxZoom.isActive())return!0;if(t.dragPan&&t.dragPan.isActive())return!0;if(e.touches)return e.touches.length>1;var n=e.ctrlKey?1:2,r=e.ctrlKey?0:2;return"mousemove"===e.type?e.buttons&0===n:e.button!==r},c.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,t=Date.now(),n=160;e.length>0&&t-e[0][0]>n;)e.shift()},t.exports=c},{"../../util/dom":114,"../../util/util":126,"../../util/window":109}],98:[function(e,t,n){"use strict";function r(e){return e*(2-e)}var a=100,o=15,i=10,s=function(e){this._map=e,this._el=e.getCanvasContainer(),this._onKeyDown=this._onKeyDown.bind(this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},s.prototype._onKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=0,n=0,s=0,u=0,l=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),u=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),u=1);break;case 38:e.shiftKey?s=1:(e.preventDefault(),l=-1);break;case 40:e.shiftKey?s=-1:(l=1,e.preventDefault())}var c=this._map,f=c.getZoom(),p={duration:300,delayEndEvents:500,easing:r,zoom:t?Math.round(f)+t*(e.shiftKey?2:1):f,bearing:c.getBearing()+n*o,pitch:c.getPitch()+s*i,offset:[-u*a,-l*a],center:c.getCenter()};c.easeTo(p,{originalEvent:e})}},t.exports=s},{}],99:[function(e,t,n){"use strict";var r=e("../../util/dom"),a=e("../../util/util"),o=e("../../util/browser"),i=e("../../util/window"),s=i.navigator.userAgent.toLowerCase(),u=s.indexOf("firefox")!==-1,l=s.indexOf("safari")!==-1&&s.indexOf("chrom")===-1,c=function(e){this._map=e,this._el=e.getCanvasContainer(),a.bindAll(["_onWheel","_onTimeout"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0)},c.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},c.prototype._onWheel=function(e){var t;"wheel"===e.type?(t=e.deltaY,u&&e.deltaMode===i.WheelEvent.DOM_DELTA_PIXEL&&(t/=o.devicePixelRatio),e.deltaMode===i.WheelEvent.DOM_DELTA_LINE&&(t*=40)):"mousewheel"===e.type&&(t=-e.wheelDeltaY,l&&(t/=3));var n=o.now(),a=n-(this._time||0);this._pos=r.mousePos(this._el,e),this._time=n,0!==t&&t%4.000244140625===0?this._type="wheel":0!==t&&Math.abs(t)<4?this._type="trackpad":a>400?(this._type=null,this._lastValue=t,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(a*t)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,t+=this._lastValue)),e.shiftKey&&t&&(t/=4),this._type&&this._zoom(-t,e),e.preventDefault()},c.prototype._onTimeout=function(){this._type="wheel",this._zoom(-this._lastValue)},c.prototype._zoom=function(e,t){if(0!==e){var n=this._map,r=2/(1+Math.exp(-Math.abs(e/100)));e<0&&0!==r&&(r=1/r);var a=n.ease?n.ease.to:n.transform.scale,o=n.transform.scaleZoom(a*r);n.zoomTo(o,{duration:"wheel"===this._type?200:0,around:n.unproject(this._pos),delayEndEvents:200,smoothEasing:!0},{originalEvent:t})}},t.exports=c},{"../../util/browser":107,"../../util/dom":114,"../../util/util":126,"../../util/window":109}],100:[function(e,t,n){"use strict";var r=e("../../util/dom"),a=e("../../util/util"),o=e("../../util/window"),i=.15,s=a.bezier(0,0,i,1),u=12,l=2.5,c=.15,f=4,p=function(e){this._map=e,this._el=e.getCanvasContainer(),a.bindAll(["_onStart","_onMove","_onEnd"],this)};p.prototype.isEnabled=function(){return!!this._enabled},p.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("touchstart",this._onStart,!1),this._enabled=!0)},p.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("touchstart",this._onStart),this._enabled=!1)},p.prototype.disableRotation=function(){this._rotationDisabled=!0},p.prototype.enableRotation=function(){this._rotationDisabled=!1},p.prototype._onStart=function(e){if(2===e.touches.length){var t=r.mousePos(this._el,e.touches[0]),n=r.mousePos(this._el,e.touches[1]);this._startVec=t.sub(n),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],o.document.addEventListener("touchmove",this._onMove,!1),o.document.addEventListener("touchend",this._onEnd,!1)}},p.prototype._onMove=function(e){if(2===e.touches.length){var t=r.mousePos(this._el,e.touches[0]),n=r.mousePos(this._el,e.touches[1]),a=t.add(n).div(2),o=t.sub(n),i=o.mag()/this._startVec.mag(),s=this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI,u=this._map;if(this._gestureIntent){var l={duration:0,around:u.unproject(a)};"rotate"===this._gestureIntent&&(l.bearing=this._startBearing+s),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(l.zoom=u.transform.scaleZoom(this._startScale*i)),u.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),i,a]),u.easeTo(l,{originalEvent:e})}else{var p=Math.abs(1-i)>c,d=Math.abs(s)>f;d?this._gestureIntent="rotate":p&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=o,this._startScale=u.transform.scale,this._startBearing=u.transform.bearing)}e.preventDefault()}},p.prototype._onEnd=function(e){o.document.removeEventListener("touchmove",this._onMove),o.document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var t=this._inertia,n=this._map;if(t.length<2)return void n.snapToNorth({},{originalEvent:e});var r=t[t.length-1],a=t[0],c=n.transform.scaleZoom(this._startScale*r[1]),f=n.transform.scaleZoom(this._startScale*a[1]),p=c-f,d=(r[0]-a[0])/1e3,h=r[2];if(0===d||c===f)return void n.snapToNorth({},{originalEvent:e});var m=p*i/d;Math.abs(m)>l&&(m=m>0?l:-l);var v=1e3*Math.abs(m/(u*i)),y=c+m*v/2e3;y<0&&(y=0),n.easeTo({zoom:y,duration:v,easing:s,around:n.unproject(h)},{originalEvent:e})},p.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,t=Date.now(),n=160;e.length>2&&t-e[0][0]>n;)e.shift()},t.exports=p},{"../../util/dom":114,"../../util/util":126,"../../util/window":109}],101:[function(e,t,n){"use strict";var r=e("../util/util"),a=e("../util/window"),o=function(){r.bindAll(["_onHashChange","_updateHash"],this)};o.prototype.addTo=function(e){return this._map=e,a.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},o.prototype.remove=function(){return a.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},o.prototype._onHashChange=function(){var e=a.location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},o.prototype._updateHash=function(){var e=this._map.getCenter(),t=this._map.getZoom(),n=this._map.getBearing(),r=this._map.getPitch(),o=Math.max(0,Math.ceil(Math.log(t)/Math.LN2)),i="#"+Math.round(100*t)/100+"/"+e.lat.toFixed(o)+"/"+e.lng.toFixed(o);(n||r)&&(i+="/"+Math.round(10*n)/10),r&&(i+="/"+Math.round(r)),a.history.replaceState("","",i)},t.exports=o},{"../util/util":126,"../util/window":109}],102:[function(e,t,n){"use strict";function r(e){e.parentNode&&e.parentNode.removeChild(e)}var a=e("../util/util"),o=e("../util/browser"),i=e("../util/window"),s=e("../util/dom"),u=e("../style/style"),l=e("../style/animation_loop"),c=e("../render/painter"),f=e("../geo/transform"),p=e("./hash"),d=e("./bind_handlers"),h=e("./camera"),m=e("../geo/lng_lat"),v=e("../geo/lng_lat_bounds"),y=e("point-geometry"),g=e("./control/attribution_control"),b=e("mapbox-gl-supported"),_=0,x=20,w={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:_,maxZoom:x,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0},E=function(e){function t(t){var n=this;t=a.extend({},w,t);var r=new f(t.minZoom,t.maxZoom);e.call(this,r,t),this._interactive=t.interactive,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,"string"==typeof t.container?this._container=i.document.getElementById(t.container):this._container=t.container,this.animationLoop=new l,t.maxBounds&&this.setMaxBounds(t.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),this.on("moveend",function(){n.animationLoop.set(300),n._rerender()}),"undefined"!=typeof i&&(i.addEventListener("online",this._onWindowOnline,!1),i.addEventListener("resize",this._onWindowResize,!1)),d(this,t),this._hash=t.hash&&(new p).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),this._classes=[],this.resize(),t.classes&&this.setClasses(t.classes),t.style&&this.setStyle(t.style),t.attributionControl&&this.addControl(new g),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style.update(this._classes,{transition:!1})}),this.on("data",function(e){"style"===e.dataType?this._update(!0):this._update()})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={showTileBoundaries:{},showCollisionBoxes:{},showOverdrawInspector:{},repaint:{},vertices:{}};return t.prototype.addControl=function(e,t){void 0===t&&e.getDefaultPosition&&(t=e.getDefaultPosition()),void 0===t&&(t="top-right");var n=e.onAdd(this),r=this._controlPositions[t];return t.indexOf("bottom")!==-1?r.insertBefore(n,r.firstChild):r.appendChild(n),this},t.prototype.removeControl=function(e){return e.onRemove(this),this},t.prototype.addClass=function(e,t){return this._classes.indexOf(e)>=0||""===e?this:(this._classes.push(e),this._classOptions=t,this.style&&this.style.updateClasses(),this._update(!0))},t.prototype.removeClass=function(e,t){var n=this._classes.indexOf(e);return n<0||""===e?this:(this._classes.splice(n,1),this._classOptions=t,this.style&&this.style.updateClasses(),this._update(!0))},t.prototype.setClasses=function(e,t){for(var n={},r=0;r<e.length;r++)""!==e[r]&&(n[e[r]]=!0);return this._classes=Object.keys(n),this._classOptions=t,this.style&&this.style.updateClasses(),this._update(!0)},t.prototype.hasClass=function(e){return this._classes.indexOf(e)>=0},t.prototype.getClasses=function(){return this._classes},t.prototype.resize=function(){var e=this._containerDimensions(),t=e[0],n=e[1];return this._resizeCanvas(t,n),this.transform.resize(t,n),this.painter.resize(t,n),this.fire("movestart").fire("move").fire("resize").fire("moveend")},t.prototype.getBounds=function(){var e=new v(this.transform.pointLocation(new y(0,this.transform.height)),this.transform.pointLocation(new y(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(e.extend(this.transform.pointLocation(new y(this.transform.size.x,0))),e.extend(this.transform.pointLocation(new y(0,this.transform.size.y)))),e},t.prototype.setMaxBounds=function(e){if(e){var t=v.convert(e);this.transform.lngRange=[t.getWest(),t.getEast()],this.transform.latRange=[t.getSouth(),t.getNorth()],this.transform._constrain(),this._update()}else null!==e&&void 0!==e||(this.transform.lngRange=[],this.transform.latRange=[],this._update());return this},t.prototype.setMinZoom=function(e){if(e=null===e||void 0===e?_:e,e>=_&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between "+_+" and the current maxZoom, inclusive")},t.prototype.getMinZoom=function(){return this.transform.minZoom},t.prototype.setMaxZoom=function(e){if(e=null===e||void 0===e?x:e,e>=this.transform.minZoom&&e<=x)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be between the current minZoom and "+x+", inclusive")},t.prototype.getMaxZoom=function(){return this.transform.maxZoom},t.prototype.project=function(e){return this.transform.locationPoint(m.convert(e))},t.prototype.unproject=function(e){return this.transform.pointLocation(y.convert(e))},t.prototype.queryRenderedFeatures=function(){function e(e){return e instanceof y||Array.isArray(e)}var t,n={};return 2===arguments.length?(t=arguments[0],n=arguments[1]):1===arguments.length&&e(arguments[0])?t=arguments[0]:1===arguments.length&&(n=arguments[0]),this.style.queryRenderedFeatures(this._makeQueryGeometry(t),n,this.transform.zoom,this.transform.angle)},t.prototype._makeQueryGeometry=function(e){var t=this;void 0===e&&(e=[y.convert([0,0]),y.convert([this.transform.width,this.transform.height])]);var n,r=e instanceof y||"number"==typeof e[0];if(r){var a=y.convert(e);n=[a]}else{var o=[y.convert(e[0]),y.convert(e[1])];n=[o[0],new y(o[1].x,o[0].y),o[1],new y(o[0].x,o[1].y),o[0]]}return n=n.map(function(e){return t.transform.pointCoordinate(e)})},t.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},t.prototype.setStyle=function(e){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.off("rotate",this.style._redoPlacement),this.off("pitch",this.style._redoPlacement)),e?(e instanceof u?this.style=e:this.style=new u(e,this),this.style.setEventedParent(this,{style:this.style}),this.on("rotate",this.style._redoPlacement),this.on("pitch",this.style._redoPlacement),this):(this.style=null,this)},t.prototype.getStyle=function(){if(this.style)return this.style.serialize()},t.prototype.addSource=function(e,t){return this.style.addSource(e,t),this._update(!0),this},t.prototype.addSourceType=function(e,t,n){return this.style.addSourceType(e,t,n)},t.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0),this},t.prototype.getSource=function(e){return this.style.getSource(e)},t.prototype.addLayer=function(e,t){return this.style.addLayer(e,t),this._update(!0),this},t.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0),this},t.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0),this},t.prototype.getLayer=function(e){return this.style.getLayer(e)},t.prototype.setFilter=function(e,t){return this.style.setFilter(e,t),this._update(!0),this},t.prototype.setLayerZoomRange=function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0),this},t.prototype.getFilter=function(e){return this.style.getFilter(e)},t.prototype.setPaintProperty=function(e,t,n,r){return this.style.setPaintProperty(e,t,n,r),this._update(!0),this},t.prototype.getPaintProperty=function(e,t,n){return this.style.getPaintProperty(e,t,n)},t.prototype.setLayoutProperty=function(e,t,n){return this.style.setLayoutProperty(e,t,n),this._update(!0),this},t.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},t.prototype.setLight=function(e){return this.style.setLight(e),this._update(!0),this},t.prototype.getLight=function(){return this.style.getLight()},t.prototype.getContainer=function(){return this._container},t.prototype.getCanvasContainer=function(){return this._canvasContainer},t.prototype.getCanvas=function(){return this._canvas},t.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.offsetWidth||400,t=this._container.offsetHeight||300),[e,t]},t.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map");var t=this._canvasContainer=s.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=s.create("canvas","mapboxgl-canvas",t),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",0);var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var r=this._controlContainer=s.create("div","mapboxgl-control-container",e),a=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(e){a[e]=s.create("div","mapboxgl-ctrl-"+e,r)})},t.prototype._resizeCanvas=function(e,t){var n=i.devicePixelRatio||1;this._canvas.width=n*e,this._canvas.height=n*t,this._canvas.style.width=e+"px",this._canvas.style.height=t+"px"},t.prototype._setupPainter=function(){var e=a.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},b.webGLContextAttributes),t=this._canvas.getContext("webgl",e)||this._canvas.getContext("experimental-webgl",e);return t?void(this.painter=new c(t,this.transform)):void this.fire("error",{error:new Error("Failed to initialize WebGL")})},t.prototype._contextLost=function(e){e.preventDefault(),this._frameId&&o.cancelFrame(this._frameId),this.fire("webglcontextlost",{originalEvent:e})},t.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:e})},t.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},t.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this._rerender(),this):this},t.prototype._render=function(){return this.style&&this._styleDirty&&(this._styleDirty=!1,this.style.update(this._classes,this._classOptions),this._classOptions=null,this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.rotating,zooming:this.zooming}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty)&&this._rerender(),this},t.prototype.remove=function(){this._hash&&this._hash.remove(),o.cancelFrame(this._frameId),this.setStyle(null),"undefined"!=typeof i&&i.removeEventListener("resize",this._onWindowResize,!1);var e=this.painter.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),r(this._canvasContainer),r(this._controlContainer),this._container.classList.remove("mapboxgl-map"),this.fire("remove")},t.prototype._rerender=function(){this.style&&!this._frameId&&(this._frameId=o.frame(this._render))},t.prototype._onWindowOnline=function(){this._update()},t.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},n.showTileBoundaries.get=function(){return!!this._showTileBoundaries},n.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},n.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},n.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,this.style._redoPlacement())},n.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},n.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},n.repaint.get=function(){return!!this._repaint},n.repaint.set=function(e){this._repaint=e,this._update()},n.vertices.get=function(){return!!this._vertices},n.vertices.set=function(e){this._vertices=e,this._update()},Object.defineProperties(t.prototype,n),t}(h);t.exports=E},{"../geo/lng_lat":19,"../geo/lng_lat_bounds":20,"../geo/transform":21,"../render/painter":36,"../style/animation_loop":56,"../style/style":60,"../util/browser":107,"../util/dom":114,"../util/util":126,"../util/window":109,"./bind_handlers":88,"./camera":89,"./control/attribution_control":90,"./hash":101,"mapbox-gl-supported":191,"point-geometry":195}],103:[function(e,t,n){"use strict";var r=e("../util/dom"),a=e("../util/util"),o=e("../geo/lng_lat"),i=e("point-geometry"),s=e("./popup"),u=function(e,t){this._offset=i.convert(t&&t.offset||[0,0]),this._update=this._update.bind(this),this._onMapClick=this._onMapClick.bind(this),e||(e=r.create("div")),e.classList.add("mapboxgl-marker"),this._element=e,this._popup=null};u.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},u.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map=null),r.remove(this._element),this._popup&&this._popup.remove(),this},u.prototype.getLngLat=function(){return this._lngLat},u.prototype.setLngLat=function(e){return this._lngLat=o.convert(e),this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},u.prototype.getElement=function(){return this._element},u.prototype.setPopup=function(e){return this._popup&&(this._popup.remove(),this._popup=null),e&&(this._popup=e,this._popup.setLngLat(this._lngLat)),this},u.prototype._onMapClick=function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()},u.prototype.getPopup=function(){return this._popup},u.prototype.togglePopup=function(){var e=this._popup;e&&(e.isOpen()?e.remove():e.addTo(this._map))},u.prototype._update=function(e){if(this._map){var t=this._map.project(this._lngLat)._add(this._offset);e&&"moveend"!==e.type||(t=t.round()),r.setTransform(this._element,"translate("+t.x+"px,"+t.y+"px)")}},t.exports=u},{"../geo/lng_lat":19,"../util/dom":114,"../util/util":126,"./popup":104,"point-geometry":195}],104:[function(e,t,n){"use strict";function r(e){if(e){if("number"==typeof e){var t=Math.round(Math.sqrt(.5*Math.pow(e,2)));return{top:new l(0,e),"top-left":new l(t,t),"top-right":new l(-t,t),bottom:new l(0,-e),"bottom-left":new l(t,-t),"bottom-right":new l(-t,-t),left:new l(e,0),right:new l(-e,0)}}if(a(e)){var n=l.convert(e);return{top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{top:l.convert(e.top),"top-left":l.convert(e["top-left"]),"top-right":l.convert(e["top-right"]),bottom:l.convert(e.bottom),"bottom-left":l.convert(e["bottom-left"]),"bottom-right":l.convert(e["bottom-right"]),left:l.convert(e.left),right:l.convert(e.right)}}return r(new l(0,0))}function a(e){return e instanceof l||Array.isArray(e)}var o=e("../util/util"),i=e("../util/evented"),s=e("../util/dom"),u=e("../geo/lng_lat"),l=e("point-geometry"),c=e("../util/window"),f={closeButton:!0,closeOnClick:!0},p=function(e){function t(t){e.call(this),this.options=o.extend(Object.create(f),t),o.bindAll(["_update","_onClickClose"],this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addTo=function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},t.prototype.isOpen=function(){return!!this._map},t.prototype.remove=function(){return this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._container&&(this._container.parentNode.removeChild(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},t.prototype.getLngLat=function(){return this._lngLat},t.prototype.setLngLat=function(e){return this._lngLat=u.convert(e),this._update(),this},t.prototype.setText=function(e){return this.setDOMContent(c.document.createTextNode(e))},t.prototype.setHTML=function(e){var t,n=c.document.createDocumentFragment(),r=c.document.createElement("body");for(r.innerHTML=e;;){if(t=r.firstChild,!t)break;n.appendChild(t)}return this.setDOMContent(n)},t.prototype.setDOMContent=function(e){return this._createContent(),this._content.appendChild(e),this._update(),this},t.prototype._createContent=function(){this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._content=s.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=s.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},t.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=s.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=s.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content));var e=this.options.anchor,t=r(this.options.offset),n=this._map.project(this._lngLat).round();if(!e){var a=this._container.offsetWidth,o=this._container.offsetHeight;e=n.y+t.bottom.y<o?["top"]:n.y>this._map.transform.height-o?["bottom"]:[],n.x<a/2?e.push("left"):n.x>this._map.transform.width-a/2&&e.push("right"),e=0===e.length?"bottom":e.join("-")}var i=n.add(t[e]),u={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},l=this._container.classList;for(var c in u)l.remove("mapboxgl-popup-anchor-"+c);l.add("mapboxgl-popup-anchor-"+e),s.setTransform(this._container,u[e]+" translate("+i.x+"px,"+i.y+"px)")}},t.prototype._onClickClose=function(){this.remove()},t}(i);t.exports=p},{"../geo/lng_lat":19,"../util/dom":114,"../util/evented":115,"../util/util":126,"../util/window":109,"point-geometry":195}],105:[function(e,t,n){"use strict";var r=function(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.callbackID=0,this.receive=this.receive.bind(this),this.target.addEventListener("message",this.receive,!1)};r.prototype.send=function(e,t,n,r,a){var o=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[o]=n),this.target.postMessage({targetMapId:a,sourceMapId:this.mapId,type:e,id:String(o),data:t},r)},r.prototype.receive=function(e){var t,n=this,r=e.data,a=r.id;if(!r.targetMapId||this.mapId===r.targetMapId){var o=function(e,t,r){n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(a),error:e?String(e):null,data:t},r)};if("<response>"===r.type)t=this.callbacks[r.id],delete this.callbacks[r.id],t&&t(r.error||null,r.data);else if("undefined"!=typeof r.id&&this.parent[r.type])this.parent[r.type](r.sourceMapId,r.data,o);else if("undefined"!=typeof r.id&&this.parent.getWorkerSource){var i=r.type.split("."),s=this.parent.getWorkerSource(r.sourceMapId,i[0]);s[i[1]](r.data,o)}else this.parent[r.type](r.data)}},r.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)},t.exports=r},{}],106:[function(e,t,n){"use strict";function r(e){var t=a.document.createElement("a");return t.href=e,t.protocol===a.document.location.protocol&&t.host===a.document.location.host}var a=e("./window");n.getJSON=function(e,t){var n=new a.XMLHttpRequest;return n.open("GET",e,!0),n.setRequestHeader("Accept","application/json"),n.onerror=function(e){t(e)},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var e;try{e=JSON.parse(n.response)}catch(e){return t(e)}t(null,e)}else t(new Error(n.statusText))},n.send(),n},n.getArrayBuffer=function(e,t){var n=new a.XMLHttpRequest;return n.open("GET",e,!0),n.responseType="arraybuffer",n.onerror=function(e){t(e)},n.onload=function(){return 0===n.response.byteLength&&200===n.status?t(new Error("http status 200 returned without content.")):void(n.status>=200&&n.status<300&&n.response?t(null,n.response):t(new Error(n.statusText)))},n.send(),n};var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";n.getImage=function(e,t){return n.getArrayBuffer(e,function(n,i){if(n)return t(n);var s=new a.Image;s.onload=function(){return t(null,s)},r(e)||(s.crossOrigin="Anonymous"),s.src=i.byteLength?e:o})},n.getVideo=function(e,t){var n=a.document.createElement("video");n.onloadstart=function(){t(null,n)};for(var o=0;o<e.length;o++){var i=a.document.createElement("source");r(e[o])||(n.crossOrigin="Anonymous"),i.src=e[o],n.appendChild(i)}return n}},{"./window":109}],107:[function(e,t,n){"use strict";var r=e("./window");t.exports.now=function(){return r.performance&&r.performance.now?r.performance.now.bind(r.performance):Date.now.bind(Date)}();var a=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||r.msRequestAnimationFrame;n.frame=function(e){return a(e)};var o=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.msCancelAnimationFrame;n.cancelFrame=function(e){o(e)},n.timed=function(e,r,a){function o(u){i||(u=t.exports.now(),u>=s+r?e.call(a,1):(e.call(a,(u-s)/r),n.frame(o)))}if(!r)return e.call(a,1),null;var i=!1,s=t.exports.now();return n.frame(o),function(){i=!0}},n.getImageData=function(e){var t=r.document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height).data},n.supported=e("mapbox-gl-supported"),n.hardwareConcurrency=r.navigator.hardwareConcurrency||4,Object.defineProperty(n,"devicePixelRatio",{get:function(){return r.devicePixelRatio}}),n.supportsWebp=!1;var i=r.document.createElement("img");i.onload=function(){n.supportsWebp=!0},i.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./window":109,"mapbox-gl-supported":191}],108:[function(e,t,n){"use strict";var r=e("webworkify"),a=e("../window"),o=a.URL.createObjectURL(new r(e("../../source/worker"),{bare:!0}));t.exports=function(){return new a.Worker(o)}},{"../../source/worker":54,"../window":109,webworkify:212}],109:[function(e,t,n){"use strict";t.exports=self},{}],110:[function(e,t,n){"use strict";function r(e,t){return t.area-e.area}var a=e("quickselect"),o=e("./util").calculateSignedArea;t.exports=function(e,t){var n=e.length;if(n<=1)return[e];for(var i,s,u=[],l=0;l<n;l++){var c=o(e[l]);0!==c&&(e[l].area=Math.abs(c),void 0===s&&(s=c<0),s===c<0?(i&&u.push(i),i=[e[l]]):i.push(e[l]))}if(i&&u.push(i),t>1)for(var f=0;f<u.length;f++)u[f].length<=t||(a(u[f],t,1,u[f].length-1,r),u[f]=u[f].slice(0,t));return u}},{"./util":126,quickselect:196}],111:[function(e,t,n){"use strict";t.exports={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0}},{}],112:[function(e,t,n){"use strict";var r=function(e){var t=this;this._stringToNumber={},this._numberToString=[];for(var n=0;n<e.length;n++){var r=e[n];t._stringToNumber[r]=n,t._numberToString[n]=r}};r.prototype.encode=function(e){return this._stringToNumber[e]},r.prototype.decode=function(e){return this._numberToString[e]},t.exports=r},{}],113:[function(e,t,n){"use strict";var r=e("./util"),a=e("./actor"),o=function(e,t){var n=this;this.workerPool=e,this.actors=[],this.currentActor=0,this.id=r.uniqueId();for(var o=this.workerPool.acquire(this.id),i=0;i<o.length;i++){var s=o[i],u=new a(s,t,n.id);u.name="Worker "+i,n.actors.push(u)}};o.prototype.broadcast=function(e,t,n){n=n||function(){},r.asyncAll(this.actors,function(n,r){n.send(e,t,r)},n)},o.prototype.send=function(e,t,n,r,a){return("number"!=typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(e,t,n,a),r},o.prototype.remove=function(){this.actors.forEach(function(e){e.remove()}),this.actors=[],this.workerPool.release(this.id)},t.exports=o},{"./actor":105,"./util":126}],114:[function(e,t,n){"use strict";function r(e){for(var t=0;t<e.length;t++)if(e[t]in s)return e[t];return e[0]}function a(e){e.preventDefault(),e.stopPropagation(),i.removeEventListener("click",a,!0)}var o=e("point-geometry"),i=e("./window");n.create=function(e,t,n){var r=i.document.createElement(e);return t&&(r.className=t),n&&n.appendChild(r),r};var s=i.document.documentElement.style,u=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),l;n.disableDrag=function(){u&&(l=s[u],s[u]="none")},n.enableDrag=function(){u&&(s[u]=l)};var c=r(["transform","WebkitTransform"]);n.setTransform=function(e,t){e.style[c]=t},n.suppressClick=function(){i.addEventListener("click",a,!0),i.setTimeout(function(){i.removeEventListener("click",a,!0)},0)},n.mousePos=function(e,t){var n=e.getBoundingClientRect();return t=t.touches?t.touches[0]:t,new o(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},n.touchPos=function(e,t){for(var n=e.getBoundingClientRect(),r=[],a="touchend"===t.type?t.changedTouches:t.touches,i=0;i<a.length;i++)r.push(new o(a[i].clientX-n.left-e.clientLeft,a[i].clientY-n.top-e.clientTop));return r},n.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)}},{"./window":109,"point-geometry":195}],115:[function(e,t,n){"use strict";var r=e("./util"),a=function(){};a.prototype.on=function(e,t){return this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],this._listeners[e].push(t),this},a.prototype.off=function(e,t){if(this._listeners&&this._listeners[e]){var n=this._listeners[e].indexOf(t);n!==-1&&this._listeners[e].splice(n,1)}return this},a.prototype.once=function(e,t){var n=this,r=function(a){n.off(e,r),t.call(n,a)};return this.on(e,r),this},a.prototype.fire=function(e,t){var n=this;if(this.listens(e)){t=r.extend({},t,{type:e,target:this});for(var a=this._listeners&&this._listeners[e]?this._listeners[e].slice():[],o=0;o<a.length;o++)a[o].call(n,t);this._eventedParent&&this._eventedParent.fire(e,r.extend({},t,this._eventedParentData))}else r.endsWith(e,"error")&&console.error(t&&t.error||t||"Empty error event");return this},a.prototype.listens=function(e){return this._listeners&&this._listeners[e]||this._eventedParent&&this._eventedParent.listens(e)},a.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this},t.exports=a},{"./util":126}],116:[function(e,t,n){"use strict";function r(e,t){return t.max-e.max}function a(e,t,n,r){this.p=new u(e,t),this.h=n,this.d=o(this.p,r),this.max=this.d+this.h*Math.SQRT2}function o(e,t){for(var n=!1,r=1/0,a=0;a<t.length;a++)for(var o=t[a],i=0,s=o.length,u=s-1;i<s;u=i++){var c=o[i],f=o[u];c.y>e.y!=f.y>e.y&&e.x<(f.x-c.x)*(e.y-c.y)/(f.y-c.y)+c.x&&(n=!n),r=Math.min(r,l(e,c,f))}return(n?1:-1)*Math.sqrt(r)}function i(e){for(var t=0,n=0,r=0,o=e[0],i=0,s=o.length,u=s-1;i<s;u=i++){var l=o[i],c=o[u],f=l.x*c.y-c.x*l.y;n+=(l.x+c.x)*f,r+=(l.y+c.y)*f,t+=3*f}return new a(n/t,r/t,0,e)}var s=e("tinyqueue"),u=e("point-geometry"),l=e("./intersection_tests").distToSegmentSquared;t.exports=function(e,t,n){t=t||1;for(var o,u,l,c,f=e[0],p=0;p<f.length;p++){var d=f[p];(!p||d.x<o)&&(o=d.x),(!p||d.y<u)&&(u=d.y),(!p||d.x>l)&&(l=d.x),(!p||d.y>c)&&(c=d.y)}for(var h=l-o,m=c-u,v=Math.min(h,m),y=v/2,g=new s(null,r),b=o;b<l;b+=v)for(var _=u;_<c;_+=v)g.push(new a(b+y,_+y,y,e));for(var x=i(e),w=g.length;g.length;){var E=g.pop();E.d>x.d&&(x=E,n&&console.log("found best %d after %d probes",Math.round(1e4*E.d)/1e4,w)),E.max-x.d<=t||(y=E.h/2,g.push(new a(E.p.x-y,E.p.y-y,y,e)),g.push(new a(E.p.x+y,E.p.y-y,y,e)),g.push(new a(E.p.x-y,E.p.y+y,y,e)),g.push(new a(E.p.x+y,E.p.y+y,y,e)),w+=4)}return n&&(console.log("num probes: "+w),console.log("best distance: "+x.d)),x.p}},{"./intersection_tests":119,"point-geometry":195,tinyqueue:203}],117:[function(e,t,n){"use strict";function r(e,t){this.stacks=e.readFields(a,[],t)}function a(e,t,n){if(1===e){var r=n.readMessage(o,{glyphs:{}});t.push(r)}}function o(e,t,n){if(1===e)t.name=n.readString();else if(2===e)t.range=n.readString();else if(3===e){var r=n.readMessage(i,{});t.glyphs[r.id]=r}}function i(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}t.exports=r},{}],118:[function(e,t,n){"use strict";function r(e,t,n){return e*(1-n)+t*n}t.exports=r,r.number=r,r.vec2=function(e,t,n){return[r(e[0],t[0],n),r(e[1],t[1],n)]},r.color=function(e,t,n){return[r(e[0],t[0],n),r(e[1],t[1],n),r(e[2],t[2],n),r(e[3],t[3],n)]},r.array=function(e,t,n){return e.map(function(e,a){return r(e,t[a],n)})}},{}],119:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e.length;n++)if(d(t,e[n]))return!0;for(var r=0;r<t.length;r++)if(d(e,t[r]))return!0;return!!u(e,t)}function a(e,t,n){for(var r=0;r<e.length;r++)for(var a=e[r],o=0;o<t.length;o++)for(var i=t[o],s=0;s<i.length;s++){var u=i[s];if(d(a,u))return!0;if(c(u,a,n))return!0}return!1}function o(e,t){if(1===e.length&&1===e[0].length)return p(t,e[0][0]);for(var n=0;n<t.length;n++)for(var r=t[n],a=0;a<r.length;a++)if(p(e,r[a]))return!0;for(var o=0;o<e.length;o++){for(var i=e[o],s=0;s<i.length;s++)if(p(t,i[s]))return!0;for(var l=0;l<t.length;l++)if(u(i,t[l]))return!0}return!1}function i(e,t,n){for(var r=0;r<t.length;r++)for(var a=t[r],o=0;o<e.length;o++){var i=e[o];if(i.length>=3)for(var u=0;u<a.length;u++)if(d(i,a[u]))return!0;if(s(i,a,n))return!0}return!1}function s(e,t,n){if(e.length>1){if(u(e,t))return!0;for(var r=0;r<t.length;r++)if(c(t[r],e,n))return!0}for(var a=0;a<e.length;a++)if(c(e[a],t,n))return!0;return!1}function u(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],a=e[n+1],o=0;o<t.length-1;o++){var i=t[o],s=t[o+1];if(l(r,a,i,s))return!0}return!1}function l(e,t,n,r){return h(e,n,r)!==h(t,n,r)&&h(e,t,n)!==h(e,t,r)}function c(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var a=1;a<t.length;a++){var o=t[a-1],i=t[a];if(f(e,o,i)<r)return!0}return!1}function f(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var a=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return a<0?e.distSqr(t):a>1?e.distSqr(n):e.distSqr(n.sub(t)._mult(a)._add(t))}function p(e,t){for(var n,r,a,o=!1,i=0;i<e.length;i++){n=e[i];for(var s=0,u=n.length-1;s<n.length;u=s++)r=n[s],a=n[u],r.y>t.y!=a.y>t.y&&t.x<(a.x-r.x)*(t.y-r.y)/(a.y-r.y)+r.x&&(o=!o)}return o}function d(e,t){for(var n=!1,r=0,a=e.length-1;r<e.length;a=r++){var o=e[r],i=e[a];o.y>t.y!=i.y>t.y&&t.x<(i.x-o.x)*(t.y-o.y)/(i.y-o.y)+o.x&&(n=!n)}return n}var h=e("./util").isCounterClockwise;t.exports={multiPolygonIntersectsBufferedMultiPoint:a,multiPolygonIntersectsMultiPolygon:o,multiPolygonIntersectsBufferedMultiLine:i,polygonIntersectsPolygon:r,distToSegmentSquared:f}},{"./util":126}],120:[function(e,t,n){"use strict";t.exports={"Latin-1 Supplement":function(e){return e>=128&&e<=255},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}}},{}],121:[function(e,t,n){"use strict";var r=function(e,t){this.max=e,this.onRemove=t,this.reset()};r.prototype.reset=function(){var e=this;for(var t in this.data)e.onRemove(e.data[t]);return this.data={},this.order=[],this},r.prototype.add=function(e,t){if(this.has(e))this.order.splice(this.order.indexOf(e),1),this.data[e]=t,this.order.push(e);else if(this.data[e]=t,this.order.push(e),this.order.length>this.max){var n=this.get(this.order[0]);n&&this.onRemove(n)}return this},r.prototype.has=function(e){return e in this.data},r.prototype.keys=function(){return this.order},r.prototype.get=function(e){if(!this.has(e))return null;var t=this.data[e];return delete this.data[e],this.order.splice(this.order.indexOf(e),1),t},r.prototype.setMaxSize=function(e){var t=this;for(this.max=e;this.order.length>this.max;){var n=t.get(t.order[0]);n&&t.onRemove(n)}return this},t.exports=r},{}],122:[function(e,t,n){"use strict";function r(e,t){var n=i(u.API_URL);if(e.protocol=n.protocol,e.authority=n.authority,!u.REQUIRE_ACCESS_TOKEN)return s(e);if(t=t||u.ACCESS_TOKEN,!t)throw new Error("An API access token is required to use Mapbox GL. "+c);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+c);return e.params.push("access_token="+t),s(e)}function a(e){return 0===e.indexOf("mapbox:")}function o(e){for(var t=0;t<e.length;t++)0===e[t].indexOf("access_token=tk.")&&(e[t]="access_token="+u.ACCESS_TOKEN)}function i(e){var t=e.match(p);return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function s(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}var u=e("./config"),l=e("./browser"),c="See https://www.mapbox.com/developers/api/#access-tokens";n.isMapboxURL=a,n.normalizeStyleURL=function(e,t){if(!a(e))return e;var n=i(e);return n.path="/styles/v1"+n.path,r(n,t)},n.normalizeGlyphsURL=function(e,t){if(!a(e))return e;var n=i(e);return n.path="/fonts/v1"+n.path,r(n,t)},n.normalizeSourceURL=function(e,t){if(!a(e))return e;var n=i(e);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),r(n,t)},n.normalizeSpriteURL=function(e,t,n,o){var u=i(e);return a(e)?(u.path="/styles/v1"+u.path+"/sprite"+t+n,r(u,o)):(u.path+=""+t+n,s(u))};var f=/(\.(png|jpg)\d*)(?=$)/;n.normalizeTileURL=function(e,t,n){if(!t||!a(t))return e;var r=i(e),u=l.devicePixelRatio>=2||512===n?"@2x":"",c=l.supportsWebp?".webp":"$1";return r.path=r.path.replace(f,""+u+c),o(r.params),s(r)};var p=/^(\w+):\/\/([^\/?]+)(\/[^?]+)?\??(.+)?/},{"./browser":107,"./config":111}],123:[function(e,t,n){"use strict";var r=e("./is_char_in_unicode_block");t.exports.allowsIdeographicBreaking=function(e){for(var t=0,r=e;t<r.length;t+=1){var a=r[t];if(!n.charAllowsIdeographicBreaking(a.charCodeAt(0)))return!1}return!0},t.exports.allowsVerticalWritingMode=function(e){for(var t=0,r=e;t<r.length;t+=1){var a=r[t];if(n.charHasUprightVerticalOrientation(a.charCodeAt(0)))return!0}return!1},t.exports.charAllowsIdeographicBreaking=function(e){return!(e<11904)&&(!!r["Bopomofo Extended"](e)||(!!r.Bopomofo(e)||(!!r["CJK Compatibility Forms"](e)||(!!r["CJK Compatibility Ideographs"](e)||(!!r["CJK Compatibility"](e)||(!!r["CJK Radicals Supplement"](e)||(!!r["CJK Strokes"](e)||(!!r["CJK Symbols and Punctuation"](e)||(!!r["CJK Unified Ideographs Extension A"](e)||(!!r["CJK Unified Ideographs"](e)||(!!r["Enclosed CJK Letters and Months"](e)||(!!r["Halfwidth and Fullwidth Forms"](e)||(!!r.Hiragana(e)||(!!r["Ideographic Description Characters"](e)||(!!r["Kangxi Radicals"](e)||(!!r["Katakana Phonetic Extensions"](e)||(!!r.Katakana(e)||(!!r["Vertical Forms"](e)||(!!r["Yi Radicals"](e)||!!r["Yi Syllables"](e))))))))))))))))))))},n.charHasUprightVerticalOrientation=function(e){return 746===e||747===e||!(e<4352)&&(!!r["Bopomofo Extended"](e)||(!!r.Bopomofo(e)||(!(!r["CJK Compatibility Forms"](e)||e>=65097&&e<=65103)||(!!r["CJK Compatibility Ideographs"](e)||(!!r["CJK Compatibility"](e)||(!!r["CJK Radicals Supplement"](e)||(!!r["CJK Strokes"](e)||(!(!r["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||(!!r["CJK Unified Ideographs Extension A"](e)||(!!r["CJK Unified Ideographs"](e)||(!!r["Enclosed CJK Letters and Months"](e)||(!!r["Hangul Compatibility Jamo"](e)||(!!r["Hangul Jamo Extended-A"](e)||(!!r["Hangul Jamo Extended-B"](e)||(!!r["Hangul Jamo"](e)||(!!r["Hangul Syllables"](e)||(!!r.Hiragana(e)||(!!r["Ideographic Description Characters"](e)||(!!r.Kanbun(e)||(!!r["Kangxi Radicals"](e)||(!!r["Katakana Phonetic Extensions"](e)||(!(!r.Katakana(e)||12540===e)||(!(!r["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||(!(!r["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||(!!r["Unified Canadian Aboriginal Syllabics"](e)||(!!r["Unified Canadian Aboriginal Syllabics Extended"](e)||(!!r["Vertical Forms"](e)||(!!r["Yijing Hexagram Symbols"](e)||(!!r["Yi Syllables"](e)||!!r["Yi Radicals"](e))))))))))))))))))))))))))))))},n.charHasNeutralVerticalOrientation=function(e){return!(!r["Latin-1 Supplement"](e)||167!==e&&169!==e&&174!==e&&177!==e&&188!==e&&189!==e&&190!==e&&215!==e&&247!==e)||(!(!r["General Punctuation"](e)||8214!==e&&8224!==e&&8225!==e&&8240!==e&&8241!==e&&8251!==e&&8252!==e&&8258!==e&&8263!==e&&8264!==e&&8265!==e&&8273!==e)||(!!r["Letterlike Symbols"](e)||(!!r["Number Forms"](e)||(!(!r["Miscellaneous Technical"](e)||!(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215))||(!(!r["Control Pictures"](e)||9251===e)||(!!r["Optical Character Recognition"](e)||(!!r["Enclosed Alphanumerics"](e)||(!!r["Geometric Shapes"](e)||(!(!r["Miscellaneous Symbols"](e)||e>=9754&&e<=9759)||(!(!r["Miscellaneous Symbols and Arrows"](e)||!(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243))||(!!r["CJK Symbols and Punctuation"](e)||(!!r.Katakana(e)||(!!r["Private Use Area"](e)||(!!r["CJK Compatibility Forms"](e)||(!!r["Small Form Variants"](e)||(!!r["Halfwidth and Fullwidth Forms"](e)||(8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)))))))))))))))))},n.charHasRotatedVerticalOrientation=function(e){return!(n.charHasUprightVerticalOrientation(e)||n.charHasNeutralVerticalOrientation(e))}},{"./is_char_in_unicode_block":120}],124:[function(e,t,n){"use strict";function r(e){var t=JSON.stringify(e);if(v[t])return v[t];void 0===e.alignment&&(e.alignment=1);var n=0,r=0,i=["Uint8"],u=e.members.map(function(t){i.indexOf(t.type)<0&&i.push(t.type);var s=o(t.type),u=n=a(n,Math.max(e.alignment,s)),l=t.components||1;return r=Math.max(r,s),n+=s*l,{name:t.name,type:t.type,components:l,offset:u}}),f=a(n,Math.max(r,e.alignment)),d=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(p);d.prototype.alignment=e.alignment,d.prototype.size=f;for(var h=0,y=u;h<y.length;h+=1)for(var g=y[h],b=0;b<g.components;b++){var _=g.name+(1===g.components?"":b);Object.defineProperty(d.prototype,_,{get:l(g,b),set:c(g,b)})}var x=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(m);return x.prototype.members=u,x.prototype.StructType=d,x.prototype.bytesPerElement=f,x.prototype.emplaceBack=s(u,f),x.prototype._usedTypes=i,v[t]=x,x}function a(e,t){return Math.ceil(e/t)*t}function o(e){return f[e].BYTES_PER_ELEMENT}function i(e){return e.toLowerCase()}function s(e,t){for(var n=[],r=[],a="var i = this.length;\nthis.resize(this.length + 1);\n",s=0,u=e;s<u.length;s+=1){var l=u[s],c=o(l.type);n.indexOf(c)<0&&(n.push(c),a+="var o"+c.toFixed(0)+" = i * "+(t/c).toFixed(0)+";\n");for(var f=0;f<l.components;f++){var p="v"+r.length,d="o"+c.toFixed(0)+" + "+(l.offset/c+f).toFixed(0);a+="this."+i(l.type)+"["+d+"] = "+p+";\n",r.push(p)}}return a+="return i;",new Function(r,a)}function u(e,t){var n="this._pos"+o(e.type).toFixed(0),r=(e.offset/o(e.type)+t).toFixed(0),a=n+" + "+r;return"this._structArray."+i(e.type)+"["+a+"]"}function l(e,t){return new Function([],"return "+u(e,t)+";")}function c(e,t){return new Function(["x"],u(e,t)+" = x;")}t.exports=r;var f={Int8:Int8Array,Uint8:Uint8Array,Uint8Clamped:Uint8ClampedArray,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array,Float64:Float64Array},p=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},d=128,h=5,m=function(e){this.isTransferred=!1,void 0!==e?(this.arrayBuffer=e.arrayBuffer,this.length=e.length,this.capacity=this.arrayBuffer.byteLength/this.bytesPerElement,this._refreshViews()):(this.capacity=-1,this.resize(0))};m.serialize=function(){return{members:this.prototype.members,alignment:this.prototype.StructType.prototype.alignment,bytesPerElement:this.prototype.bytesPerElement}},m.prototype.serialize=function(e){return this._trim(),e&&(this.isTransferred=!0,e.push(this.arrayBuffer)),{length:this.length,arrayBuffer:this.arrayBuffer}},m.prototype.get=function(e){return new this.StructType(this,e)},m.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},m.prototype.resize=function(e){if(this.length=e,e>this.capacity){this.capacity=Math.max(e,Math.floor(this.capacity*h),d),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},m.prototype._refreshViews=function(){for(var e=this,t=0,n=this._usedTypes;t<n.length;t+=1){var r=n[t];e[i(r)]=new f[r](e.arrayBuffer)}},m.prototype.toArray=function(e,t){for(var n=this,r=[],a=e;a<t;a++){var o=n.get(a);r.push(o)}return r};var v={}},{}],125:[function(e,t,n){"use strict";function r(e,t){return t.replace(/{([^{}]+)}/g,function(t,n){return n in e?e[n]:""})}t.exports=r},{}],126:[function(e,t,n){"use strict";var r=e("unitbezier"),a=e("../geo/coordinate"),o=e("point-geometry");n.easeCubicInOut=function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},n.bezier=function(e,t,n,a){var o=new r(e,t,n,a);return function(e){return o.solve(e)}},n.ease=n.bezier(.25,.1,.25,1),n.clamp=function(e,t,n){return Math.min(n,Math.max(t,e))},n.wrap=function(e,t,n){var r=n-t,a=((e-t)%r+r)%r+t;return a===t?n:a},n.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);var r=e.length,a=new Array(e.length),o=null;e.forEach(function(e,i){t(e,function(e,t){e&&(o=e),a[i]=t,0===--r&&n(o,a)})})},n.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},n.keysDifference=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n},n.extend=function(e,t,n,r){for(var a=arguments,o=1;o<arguments.length;o++){var i=a[o];for(var s in i)e[s]=i[s]}return e},n.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var a=t[r];a in e&&(n[a]=e[a])}return n};var i=1;n.uniqueId=function(){return i++},n.bindAll=function(e,t){e.forEach(function(e){t[e]&&(t[e]=t[e].bind(t))})},n.getCoordinatesCenter=function(e){for(var t=1/0,n=1/0,r=-(1/0),o=-(1/0),i=0;i<e.length;i++)t=Math.min(t,e[i].column),n=Math.min(n,e[i].row),r=Math.max(r,e[i].column),o=Math.max(o,e[i].row);var s=r-t,u=o-n,l=Math.max(s,u);return new a((t+r)/2,(n+o)/2,0).zoomTo(Math.floor(-Math.log(l)/Math.LN2))},n.endsWith=function(e,t){return e.indexOf(t,e.length-t.length)!==-1},n.mapObject=function(e,t,n){var r=this,a={};for(var o in e)a[o]=t.call(n||r,e[o],o,e);return a},n.filterObject=function(e,t,n){var r=this,a={};for(var o in e)t.call(n||r,e[o],o,e)&&(a[o]=e[o]);return a},n.deepEqual=function(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!n.deepEqual(e[r],t[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;var a=Object.keys(e);if(a.length!==Object.keys(t).length)return!1;for(var o in e)if(!n.deepEqual(e[o],t[o]))return!1;return!0}return e===t},n.clone=function(e){return Array.isArray(e)?e.map(n.clone):"object"==typeof e&&e?n.mapObject(e,n.clone):e},n.arraysIntersect=function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1};var s={};n.warnOnce=function(e){s[e]||("undefined"!=typeof console&&console.warn(e),s[e]=!0)},n.isCounterClockwise=function(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)},n.calculateSignedArea=function(e){for(var t,n,r=0,a=0,o=e.length,i=o-1;a<o;i=a++)t=e[a],n=e[i],r+=(n.x-t.x)*(t.y+n.y);return r},n.isClosedPolygon=function(e){if(e.length<4)return!1;var t=e[0],r=e[e.length-1];return!(Math.abs(t.x-r.x)>0||Math.abs(t.y-r.y)>0)&&Math.abs(n.calculateSignedArea(e))>.01},n.sphericalToCartesian=function(e){var t=e[0],n=e[1],r=e[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,[t*Math.cos(n)*Math.sin(r),t*Math.sin(n)*Math.sin(r),t*Math.cos(r)]}},{"../geo/coordinate":18,"point-geometry":195,unitbezier:204}],127:[function(e,t,n){"use strict";var r=function(e,t,n,r){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,null!=e.id&&(this.id=e.id)},a={geometry:{}};a.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},a.geometry.set=function(e){this._geometry=e},r.prototype.toJSON=function(){var e=this,t={geometry:this.geometry};for(var n in this)"_geometry"!==n&&"_vectorTileFeature"!==n&&(t[n]=e[n]);return t},Object.defineProperties(r.prototype,a),t.exports=r},{}],128:[function(e,t,n){"use strict";var r=e("./script_detection");t.exports=function(e){for(var n="",a=0;a<e.length;a++){var o=e.charCodeAt(a+1)||null,i=e.charCodeAt(a-1)||null,s=(!o||!r.charHasRotatedVerticalOrientation(o)||t.exports.lookup[e[a+1]])&&(!i||!r.charHasRotatedVerticalOrientation(i)||t.exports.lookup[e[a-1]]);n+=s&&t.exports.lookup[e[a]]?t.exports.lookup[e[a]]:e[a]}return n},t.exports.lookup={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}},{"./script_detection":123}],129:[function(e,t,n){"use strict";var r=e("./web_worker"),a=function(){this.active={}};a.prototype.acquire=function(t){var n=this;if(!this.workers){var a=e("../mapbox-gl").workerCount;for(this.workers=[];this.workers.length<a;)n.workers.push(new r)}return this.active[t]=!0,this.workers.slice()},a.prototype.release=function(e){delete this.active[e],0===Object.keys(this.active).length&&(this.workers.forEach(function(e){e.terminate()}),this.workers=null)},t.exports=a},{"../mapbox-gl":24,"./web_worker":108}],130:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return a.exec(e).slice(1)};n.resolve=function(){for(var n="",a=!1,o=arguments.length-1;o>=-1&&!a;o--){var i=o>=0?arguments[o]:e.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(n=i+"/"+n,a="/"===i.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!a).join("/"),(a?"/":"")+n||"."},n.normalize=function(e){var a=n.isAbsolute(e),o="/"===i(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!a).join("/"),e||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var a=r(e.split("/")),o=r(t.split("/")),i=Math.min(a.length,o.length),s=i,u=0;u<i;u++)if(a[u]!==o[u]){s=u;break}for(var l=[],u=s;u<a.length;u++)l.push("..");return l=l.concat(o.slice(s)),l.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return o(e)[3]};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:131}],131:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(p===setTimeout)return setTimeout(e,0);if((p===r||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function i(e){if(d===clearTimeout)return clearTimeout(e);if((d===a||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){m&&v&&(m=!1,v.length?h=v.concat(h):y=-1,h.length&&u())}function u(){if(!m){var e=o(s);m=!0;for(var t=h.length;t;){for(v=h,h=[];++y<t;)v&&v[y].run();y=-1,t=h.length}v=null,m=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var f=t.exports={},p,d;!function(){try{p="function"==typeof setTimeout?setTimeout:r}catch(e){p=r}try{d="function"==typeof clearTimeout?clearTimeout:a}catch(e){d=a}}();var h=[],m=!1,v,y=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new l(e,t)),1!==h.length||m||o(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],132:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],133:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],134:[function(e,t,r){(function(t,n){function a(e,t){var n={seen:[],stylize:i};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(t)?n.showHidden=t:t&&r._extend(n,t),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),u(n,e,n.depth)}function o(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function i(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,t,n){if(e.customInspect&&t&&M(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var a=t.inspect(n,e);return b(a)||(a=u(e,a,n)),a}var o=l(e,t);if(o)return o;var i=Object.keys(t),m=s(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),T(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return c(t);if(0===i.length){if(M(t)){var v=t.name?": "+t.name:"";return e.stylize("[Function"+v+"]","special")}if(w(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(S(t))return e.stylize(Date.prototype.toString.call(t),"date");if(T(t))return c(t)}var y="",g=!1,_=["{","}"];if(h(t)&&(g=!0,_=["[","]"]),M(t)){var x=t.name?": "+t.name:"";y=" [Function"+x+"]"}if(w(t)&&(y=" "+RegExp.prototype.toString.call(t)),S(t)&&(y=" "+Date.prototype.toUTCString.call(t)),T(t)&&(y=" "+c(t)),0===i.length&&(!g||0==t.length))return _[0]+y+_[1];if(n<0)return w(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var E;return E=g?f(e,t,n,m,i):i.map(function(r){return p(e,t,n,m,r,g)}),e.seen.pop(),d(E,y,_)}function l(e,t){if(x(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return g(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,a){for(var o=[],i=0,s=t.length;i<s;++i)D(t,String(i))?o.push(p(e,t,n,r,String(i),!0)):o.push("");return a.forEach(function(a){a.match(/^\d+$/)||o.push(p(e,t,n,r,a,!0))}),o}function p(e,t,n,r,a,o){var i,s,l;if(l=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]},l.get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),D(r,a)||(i="["+a+"]"),s||(e.seen.indexOf(l.value)<0?(s=v(n)?u(e,l.value,null):u(e,l.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),x(i)){if(o&&a.match(/^\d+$/))return s;i=JSON.stringify(""+a),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+s}function d(e,t,n){var r=0,a=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return a>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function v(e){return null===e}function y(e){return null==e}function g(e){return"number"==typeof e}function b(e){return"string"==typeof e}function _(e){return"symbol"==typeof e}function x(e){return void 0===e}function w(e){return E(e)&&"[object RegExp]"===k(e)}function E(e){return"object"==typeof e&&null!==e}function S(e){return E(e)&&"[object Date]"===k(e)}function T(e){return E(e)&&("[object Error]"===k(e)||e instanceof Error)}function M(e){return"function"==typeof e}function C(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function k(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}function P(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var N=/%[sdj%]/g;r.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,i=String(e).replace(N,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<o;s=r[++n])i+=v(s)||!E(s)?" "+s:" "+a(s);return i},r.deprecate=function(e,a){function o(){if(!i){if(t.throwDeprecation)throw new Error(a);t.traceDeprecation?console.trace(a):console.error(a),i=!0}return e.apply(this,arguments)}if(x(n.process))return function(){return r.deprecate(e,a).apply(this,arguments)};if(t.noDeprecation===!0)return e;var i=!1;return o};var A={},O;r.debuglog=function(e){if(x(O)&&(O=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!A[e])if(new RegExp("\\b"+e+"\\b","i").test(O)){var n=t.pid;A[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else A[e]=function(){};return A[e]},r.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=h,r.isBoolean=m,r.isNull=v,r.isNullOrUndefined=y,r.isNumber=g,r.isString=b,r.isSymbol=_,r.isUndefined=x,r.isRegExp=w,r.isObject=E,r.isDate=S,r.isError=T,r.isFunction=M,r.isPrimitive=C,r.isBuffer=e("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",P(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":133,_process:131,inherits:132}],135:[function(e,t,n){function r(e){return e=Math.round(e),e<0?0:e>255?255:e}function a(e){return e<0?0:e>1?1:e}function o(e){return r("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function i(e){return a("%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))}function s(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function u(e){var t=e.replace(/ /g,"").toLowerCase();if(t in l)return l[t].slice();if("#"===t[0]){if(4===t.length){var n=parseInt(t.substr(1),16);return n>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===t.length){var n=parseInt(t.substr(1),16);return n>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var a=t.indexOf("("),u=t.indexOf(")");if(a!==-1&&u+1===t.length){var c=t.substr(0,a),f=t.substr(a+1,u-(a+1)).split(","),p=1;switch(c){case"rgba":if(4!==f.length)return null;p=i(f.pop());case"rgb":return 3!==f.length?null:[o(f[0]),o(f[1]),o(f[2]),p];case"hsla":if(4!==f.length)return null;p=i(f.pop());case"hsl":if(3!==f.length)return null;var d=(parseFloat(f[0])%360+360)%360/360,h=i(f[1]),m=i(f[2]),v=m<=.5?m*(h+1):m+h-m*h,y=2*m-v;return[r(255*s(y,v,d+1/3)),r(255*s(y,v,d)),r(255*s(y,v,d-1/3)),p];default:return null}}return null}var l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{n.parseCSSColor=u}catch(e){}},{}],136:[function(e,t,n){"use strict";function r(e,t,n){n=n||2;var r=t&&t.length,o=r?t[0]*n:e.length,s=a(e,0,o,n,!0),u=[];if(!s)return u;var l,c,p,d,h,m,v;if(r&&(s=f(e,t,s,n)),e.length>80*n){l=p=e[0],c=d=e[1];for(var y=n;y<o;y+=n)h=e[y],m=e[y+1],h<l&&(l=h),m<c&&(c=m),h>p&&(p=h),m>d&&(d=m);v=Math.max(p-l,d-c)}return i(s,u,n,l,c,v),u}function a(e,t,n,r,a){var o,i;if(a===D(e,t,n,r)>0)for(o=t;o<n;o+=r)i=k(o,e[o],e[o+1],i);else for(o=n-r;o>=t;o-=r)i=k(o,e[o],e[o+1],i);return i&&w(i,i.next)&&(I(i),i=i.next),i}function o(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!w(r,r.next)&&0!==x(r.prev,r,r.next))r=r.next;else{if(I(r),r=t=r.prev,r===r.next)return null;n=!0}}while(n||r!==t);return t}function i(e,t,n,r,a,f,p){if(e){!p&&f&&m(e,r,a,f);for(var d,h,v=e;e.prev!==e.next;)if(d=e.prev,h=e.next,f?u(e,r,a,f):s(e))t.push(d.i/n),t.push(e.i/n),t.push(h.i/n),I(e),e=h.next,v=h.next;else if(e=h,e===v){p?1===p?(e=l(e,t,n),i(e,t,n,r,a,f,2)):2===p&&c(e,t,n,r,a,f):i(o(e),t,n,r,a,f,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(x(t,n,r)>=0)return!1;for(var a=e.next.next;a!==e.prev;){if(b(t.x,t.y,n.x,n.y,r.x,r.y,a.x,a.y)&&x(a.prev,a,a.next)>=0)return!1;a=a.next}return!0}function u(e,t,n,r){var a=e.prev,o=e,i=e.next;if(x(a,o,i)>=0)return!1;for(var s=a.x<o.x?a.x<i.x?a.x:i.x:o.x<i.x?o.x:i.x,u=a.y<o.y?a.y<i.y?a.y:i.y:o.y<i.y?o.y:i.y,l=a.x>o.x?a.x>i.x?a.x:i.x:o.x>i.x?o.x:i.x,c=a.y>o.y?a.y>i.y?a.y:i.y:o.y>i.y?o.y:i.y,f=y(s,u,t,n,r),p=y(l,c,t,n,r),d=e.nextZ;d&&d.z<=p;){if(d!==e.prev&&d!==e.next&&b(a.x,a.y,o.x,o.y,i.x,i.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=e.prevZ;d&&d.z>=f;){if(d!==e.prev&&d!==e.next&&b(a.x,a.y,o.x,o.y,i.x,i.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function l(e,t,n){var r=e;do{var a=r.prev,o=r.next.next;!w(a,o)&&E(a,r,r.next,o)&&T(a,o)&&T(o,a)&&(t.push(a.i/n),t.push(r.i/n),t.push(o.i/n),I(r),I(r.next),r=e=o),r=r.next}while(r!==e);return r}function c(e,t,n,r,a,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&_(u,l)){var c=C(u,l);return u=o(u,u.next),c=o(c,c.next),i(u,t,n,r,a,s),void i(c,t,n,r,a,s)}l=l.next}u=u.next}while(u!==e)}function f(e,t,n,r){var i,s,u,l,c,f=[];for(i=0,s=t.length;i<s;i++)u=t[i]*r,l=i<s-1?t[i+1]*r:e.length,c=a(e,u,l,r,!1),c===c.next&&(c.steiner=!0),f.push(g(c));for(f.sort(p),i=0;i<f.length;i++)d(f[i],n),n=o(n,n.next);return n}function p(e,t){return e.x-t.x}function d(e,t){if(t=h(e,t)){var n=C(t,e);o(n,n.next)}}function h(e,t){var n,r=t,a=e.x,o=e.y,i=-(1/0);do{if(o<=r.y&&o>=r.next.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>i){if(i=s,s===a){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(a===i)return n.prev;var u,l=n,c=n.x,f=n.y,p=1/0;for(r=n.next;r!==l;)a>=r.x&&r.x>=c&&b(o<f?a:i,o,c,f,o<f?i:a,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(a-r.x),(u<p||u===p&&r.x>n.x)&&T(r,e)&&(n=r,p=u)),r=r.next;return n}function m(e,t,n,r){var a=e;do{null===a.z&&(a.z=y(a.x,a.y,t,n,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next}while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,v(a)}function v(e){var t,n,r,a,o,i,s,u,l=1;do{for(n=e,e=null,o=null,i=0;n;){for(i++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ,r);t++);for(u=l;s>0||u>0&&r;)0===s?(a=r,r=r.nextZ,u--):0!==u&&r?n.z<=r.z?(a=n,n=n.nextZ,s--):(a=r,r=r.nextZ,u--):(a=n,n=n.nextZ,s--),o?o.nextZ=a:e=a,a.prevZ=o,o=a;n=r}o.nextZ=null,l*=2}while(i>1);return e}function y(e,t,n,r,a){return e=32767*(e-n)/a,t=32767*(t-r)/a,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function g(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function b(e,t,n,r,a,o,i,s){return(a-i)*(t-s)-(e-i)*(o-s)>=0&&(e-i)*(r-s)-(n-i)*(t-s)>=0&&(n-i)*(o-s)-(a-i)*(r-s)>=0}function _(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!S(e,t)&&T(e,t)&&T(t,e)&&M(e,t)}function x(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function w(e,t){return e.x===t.x&&e.y===t.y}function E(e,t,n,r){return!!(w(e,t)&&w(n,r)||w(e,r)&&w(n,t))||x(e,t,n)>0!=x(e,t,r)>0&&x(n,r,e)>0!=x(n,r,t)>0}function S(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&E(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function T(e,t){return x(e.prev,e,e.next)<0?x(e,t,e.next)>=0&&x(e,e.prev,t)>=0:x(e,t,e.prev)<0||x(e,e.next,t)<0}function M(e,t){var n=e,r=!1,a=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&a<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}function C(e,t){var n=new P(e.i,e.x,e.y),r=new P(t.i,t.x,t.y),a=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=a,a.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function k(e,t,n,r){var a=new P(e,t,n);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function I(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function P(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function D(e,t,n,r){for(var a=0,o=t,i=n-r;o<n;o+=r)a+=(e[i]-e[o])*(e[o+1]+e[i+1]),i=o;return a}t.exports=r,r.deviation=function(e,t,n,r){var a=t&&t.length,o=a?t[0]*n:e.length,i=Math.abs(D(e,0,o,n));if(a)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,c=s<u-1?t[s+1]*n:e.length;i-=Math.abs(D(e,l,c,n))}var f=0;for(s=0;s<r.length;s+=3){var p=r[s]*n,d=r[s+1]*n,h=r[s+2]*n;f+=Math.abs((e[p]-e[h])*(e[d+1]-e[p+1])-(e[p]-e[d])*(e[h+1]-e[p+1]))}return 0===i&&0===f?0:Math.abs((f-i)/i)},r.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,a=0;a<e.length;a++){for(var o=0;o<e[a].length;o++)for(var i=0;i<t;i++)n.vertices.push(e[a][o][i]);a>0&&(r+=e[a-1].length,n.holes.push(r))}return n}},{}],137:[function(e,t,n){"use strict";function r(e){return new Function("f","var p = (f && f.properties || {}); return "+a(e))}function a(e){if(!e)return"true";var t=e[0];if(e.length<=1)return"any"===t?"false":"true";var n="=="===t?i(e[1],e[2],"===",!1):"!="===t?i(e[1],e[2],"!==",!1):"<"===t||">"===t||"<="===t||">="===t?i(e[1],e[2],t,!0):"any"===t?s(e.slice(1),"||"):"all"===t?s(e.slice(1),"&&"):"none"===t?c(s(e.slice(1),"||")):"in"===t?u(e[1],e.slice(2)):"!in"===t?c(u(e[1],e.slice(2))):"has"===t?l(e[1]):"!has"===t?c(l([e[1]])):"true";return"("+n+")"}function o(e){return"$type"===e?"f.type":"$id"===e?"f.id":"p["+JSON.stringify(e)+"]"}function i(e,t,n,r){var a=o(e),i="$type"===e?p.indexOf(t):JSON.stringify(t);return(r?"typeof "+a+"=== typeof "+i+"&&":"")+a+n+i}function s(e,t){return e.map(a).join(t)}function u(e,t){"$type"===e&&(t=t.map(function(e){return p.indexOf(e)}));var n=JSON.stringify(t.sort(f)),r=o(e);return t.length<=200?n+".indexOf("+r+") !== -1":"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }("+r+", "+n+",0,"+(t.length-1)+")"}function l(e){return JSON.stringify(e)+" in p"}function c(e){return"!("+e+")"}function f(e,t){return e<t?-1:e>t?1:0}t.exports=r;var p=["Unknown","Point","LineString","Polygon"]},{}],138:[function(e,t,n){function r(e,t){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(a(r,t)),e;case"Feature":return e.geometry=r(e.geometry,t),e;case"Polygon":case"MultiPolygon":return o(e,t);default:return e}}function a(e,t){return function(n){return e(n,t)}}function o(e,t){return"Polygon"===e.type?e.coordinates=i(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(a(i,t))),e}function i(e,t){t=!!t,e[0]=s(e[0],!t);for(var n=1;n<e.length;n++)e[n]=s(e[n],t);return e}function s(e,t){return u(e)===t?e:e.reverse()}function u(e){return l.ring(e)>=0}var l=e("geojson-area");t.exports=r},{"geojson-area":139}],139:[function(e,t,n){function r(e){if("Polygon"===e.type)return a(e.coordinates);if("MultiPolygon"===e.type){for(var t=0,n=0;n<e.coordinates.length;n++)t+=a(e.coordinates[n]);return t}return null}function a(e){var t=0;if(e&&e.length>0){t+=Math.abs(o(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(o(e[n]))}return t}function o(e){var t=0;if(e.length>2){for(var n,r,a=0;a<e.length-1;a++)n=e[a],r=e[a+1],t+=i(r[0]-n[0])*(2+Math.sin(i(n[1]))+Math.sin(i(r[1])));t=t*s.RADIUS*s.RADIUS/2}return t}function i(e){return e*Math.PI/180}var s=e("wgs84");t.exports.geometry=r,t.exports.ring=o},{wgs84:140}],140:[function(e,t,n){t.exports.RADIUS=6378137,t.exports.FLATTENING=1/298.257223563,t.exports.POLAR_RADIUS=6356752.3142},{}],141:[function(e,t,n){"use strict";function r(e,t,n,r,i,u,l,c){if(n/=t,r/=t,l>=n&&c<=r)return e;if(l>r||c<n)return null;for(var f=[],p=0;p<e.length;p++){var d,h,m=e[p],v=m.geometry,y=m.type;if(d=m.min[i],h=m.max[i],d>=n&&h<=r)f.push(m);else if(!(d>r||h<n)){var g=1===y?a(v,n,r,i):o(v,n,r,i,u,3===y);g.length&&f.push(s(m.tags,y,g,m.id))}}return f.length?f:null}function a(e,t,n,r){for(var a=[],o=0;o<e.length;o++){var i=e[o],s=i[r];s>=t&&s<=n&&a.push(i)}return a}function o(e,t,n,r,a,o){for(var s=[],u=0;u<e.length;u++){var l,c,f,p=0,d=0,h=null,m=e[u],v=m.area,y=m.dist,g=m.outer,b=m.length,_=[];for(c=0;c<b-1;c++)l=h||m[c],h=m[c+1],p=d||l[r],d=h[r],p<t?d>n?(_.push(a(l,h,t),a(l,h,n)),o||(_=i(s,_,v,y,g))):d>=t&&_.push(a(l,h,t)):p>n?d<t?(_.push(a(l,h,n),a(l,h,t)),o||(_=i(s,_,v,y,g))):d<=n&&_.push(a(l,h,n)):(_.push(l),d<t?(_.push(a(l,h,t)),o||(_=i(s,_,v,y,g))):d>n&&(_.push(a(l,h,n)),o||(_=i(s,_,v,y,g))));l=m[b-1],p=l[r],p>=t&&p<=n&&_.push(l),f=_[_.length-1],o&&f&&(_[0][0]!==f[0]||_[0][1]!==f[1])&&_.push(_[0]),i(s,_,v,y,g)}return s}function i(e,t,n,r,a){return t.length&&(t.area=n,t.dist=r,void 0!==a&&(t.outer=a),e.push(t)),[]}t.exports=r;var s=e("./feature")},{"./feature":143}],142:[function(e,t,n){"use strict";function r(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)a(n,e.features[r],t);else"Feature"===e.type?a(n,e,t):a(n,{geometry:e},t);return n}function a(e,t,n){if(null!==t.geometry){var r,s,u,c,f=t.geometry,p=f.type,d=f.coordinates,h=t.properties,m=t.id;if("Point"===p)e.push(l(h,1,[i(d)],m));else if("MultiPoint"===p)e.push(l(h,1,o(d),m));else if("LineString"===p)e.push(l(h,2,[o(d,n)],m));else if("MultiLineString"===p||"Polygon"===p){for(u=[],r=0;r<d.length;r++)c=o(d[r],n),"Polygon"===p&&(c.outer=0===r),u.push(c);e.push(l(h,"Polygon"===p?3:2,u,m))}else if("MultiPolygon"===p){for(u=[],r=0;r<d.length;r++)for(s=0;s<d[r].length;s++)c=o(d[r][s],n),c.outer=0===s,u.push(c);e.push(l(h,3,u,m))}else{if("GeometryCollection"!==p)throw new Error("Input data is not a valid GeoJSON object.");for(r=0;r<f.geometries.length;r++)a(e,{geometry:f.geometries[r],properties:h},n)}}}function o(e,t){for(var n=[],r=0;r<e.length;r++)n.push(i(e[r]));return t&&(u(n,t),s(n)),n}function i(e){var t=Math.sin(e[1]*Math.PI/180),n=e[0]/360+.5,r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r=r<0?0:r>1?1:r,[n,r,0]}function s(e){for(var t,n,r=0,a=0,o=0;o<e.length-1;o++)t=n||e[o],n=e[o+1],r+=t[0]*n[1]-n[0]*t[1],a+=Math.abs(n[0]-t[0])+Math.abs(n[1]-t[1]);e.area=Math.abs(r/2),e.dist=a}t.exports=r;var u=e("./simplify"),l=e("./feature")},{"./feature":143,"./simplify":145}],143:[function(e,t,n){"use strict";function r(e,t,n,r){var o={id:r||null,type:t,geometry:n,tags:e||null,min:[1/0,1/0],max:[-(1/0),-(1/0)]};return a(o),o}function a(e){var t=e.geometry,n=e.min,r=e.max;if(1===e.type)o(n,r,t);else for(var a=0;a<t.length;a++)o(n,r,t[a]);return e}function o(e,t,n){for(var r,a=0;a<n.length;a++)r=n[a],e[0]=Math.min(r[0],e[0]),t[0]=Math.max(r[0],t[0]),e[1]=Math.min(r[1],e[1]),t[1]=Math.max(r[1],t[1])}t.exports=r},{}],144:[function(e,t,n){"use strict";function r(e,t){return new a(e,t)}function a(e,t){t=this.options=u(Object.create(this.options),t);var n=t.debug;n&&console.time("preprocess data");var r=1<<t.maxZoom,a=c(e,t.tolerance/(r*t.extent));this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),a=d(a,t.buffer/t.extent,i),a.length&&this.splitTile(a,0,0,0),n&&(a.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function o(e,t,n){return 32*((1<<e)*n+t)+e}function i(e,t,n){return[n,(n-e[0])*(t[1]-e[1])/(t[0]-e[0])+e[1],1]}function s(e,t,n){return[(n-e[1])*(t[0]-e[0])/(t[1]-e[1])+e[0],n,1]}function u(e,t){for(var n in t)e[n]=t[n];return e}function l(e,t,n){var r=e.source;if(1!==r.length)return!1;var a=r[0];if(3!==a.type||a.geometry.length>1)return!1;var o=a.geometry[0].length;if(5!==o)return!1;for(var i=0;i<o;i++){var s=f.point(a.geometry[0][i],t,e.z2,e.x,e.y);if(s[0]!==-n&&s[0]!==t+n||s[1]!==-n&&s[1]!==t+n)return!1}return!0}t.exports=r;var c=e("./convert"),f=e("./transform"),p=e("./clip"),d=e("./wrap"),h=e("./tile");a.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},a.prototype.splitTile=function(e,t,n,r,a,u,c){for(var f=[e,t,n,r],d=this.options,m=d.debug,v=null;f.length;){r=f.pop(),n=f.pop(),t=f.pop(),e=f.pop();var y=1<<t,g=o(t,n,r),b=this.tiles[g],_=t===d.maxZoom?0:d.tolerance/(y*d.extent);if(!b&&(m>1&&console.time("creation"),b=this.tiles[g]=h(e,y,n,r,_,t===d.maxZoom),this.tileCoords.push({z:t,x:n,y:r}),m)){m>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,b.numFeatures,b.numPoints,b.numSimplified),console.timeEnd("creation"));var x="z"+t;this.stats[x]=(this.stats[x]||0)+1,this.total++}if(b.source=e,a){if(t===d.maxZoom||t===a)continue;var w=1<<a-t;if(n!==Math.floor(u/w)||r!==Math.floor(c/w))continue}else if(t===d.indexMaxZoom||b.numPoints<=d.indexMaxPoints)continue;if(d.solidChildren||!l(b,d.extent,d.buffer)){b.source=null,m>1&&console.time("clipping");var E,S,T,M,C,k,I=.5*d.buffer/d.extent,P=.5-I,D=.5+I,N=1+I;E=S=T=M=null,C=p(e,y,n-I,n+D,0,i,b.min[0],b.max[0]),k=p(e,y,n+P,n+N,0,i,b.min[0],b.max[0]),C&&(E=p(C,y,r-I,r+D,1,s,b.min[1],b.max[1]),S=p(C,y,r+P,r+N,1,s,b.min[1],b.max[1])),k&&(T=p(k,y,r-I,r+D,1,s,b.min[1],b.max[1]),M=p(k,y,r+P,r+N,1,s,b.min[1],b.max[1])),m>1&&console.timeEnd("clipping"),e.length&&(f.push(E||[],t+1,2*n,2*r),f.push(S||[],t+1,2*n,2*r+1),f.push(T||[],t+1,2*n+1,2*r),f.push(M||[],t+1,2*n+1,2*r+1))}else a&&(v=t)}return v},a.prototype.getTile=function(e,t,n){var r=this.options,a=r.extent,i=r.debug,s=1<<e;t=(t%s+s)%s;var u=o(e,t,n);if(this.tiles[u])return f.tile(this.tiles[u],a);i>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var c,p=e,d=t,h=n;!c&&p>0;)p--,d=Math.floor(d/2),h=Math.floor(h/2),c=this.tiles[o(p,d,h)];if(!c||!c.source)return null;if(i>1&&console.log("found parent tile z%d-%d-%d",p,d,h),l(c,a,r.buffer))return f.tile(c,a);i>1&&console.time("drilling down");var m=this.splitTile(c.source,p,d,h,e,t,n);if(i>1&&console.timeEnd("drilling down"),null!==m){var v=1<<e-m;u=o(m,Math.floor(t/v),Math.floor(n/v))}return this.tiles[u]?f.tile(this.tiles[u],a):null}},{"./clip":141,"./convert":142,"./tile":146,"./transform":147,"./wrap":148}],145:[function(e,t,n){"use strict";function r(e,t){var n,r,o,i,s=t*t,u=e.length,l=0,c=u-1,f=[];for(e[l][2]=1,e[c][2]=1;c;){for(r=0,n=l+1;n<c;n++)o=a(e[n],e[l],e[c]),o>r&&(i=n,r=o);r>s?(e[i][2]=r,f.push(l),f.push(i),l=i):(c=f.pop(),l=f.pop())}}function a(e,t,n){var r=t[0],a=t[1],o=n[0],i=n[1],s=e[0],u=e[1],l=o-r,c=i-a;if(0!==l||0!==c){var f=((s-r)*l+(u-a)*c)/(l*l+c*c);f>1?(r=o,a=i):f>0&&(r+=l*f,a+=c*f)}return l=s-r,c=u-a,l*l+c*c}t.exports=r},{}],146:[function(e,t,n){"use strict";function r(e,t,n,r,o,i){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z2:t,transformed:!1,min:[2,1],max:[-1,0]},u=0;u<e.length;u++){s.numFeatures++,a(s,e[u],o,i);var l=e[u].min,c=e[u].max;l[0]<s.min[0]&&(s.min[0]=l[0]),l[1]<s.min[1]&&(s.min[1]=l[1]),c[0]>s.max[0]&&(s.max[0]=c[0]),c[1]>s.max[1]&&(s.max[1]=c[1])}return s}function a(e,t,n,r){var a,i,s,u,l=t.geometry,c=t.type,f=[],p=n*n;if(1===c)for(a=0;a<l.length;a++)f.push(l[a]),e.numPoints++,e.numSimplified++;else for(a=0;a<l.length;a++)if(s=l[a],r||!(2===c&&s.dist<n||3===c&&s.area<p)){var d=[];for(i=0;i<s.length;i++)u=s[i],(r||u[2]>p)&&(d.push(u),e.numSimplified++),e.numPoints++;3===c&&o(d,s.outer),f.push(d)}else e.numPoints+=s.length;if(f.length){var h={geometry:f,type:c,tags:t.tags||null};null!==t.id&&(h.id=t.id),e.features.push(h)}}function o(e,t){var n=i(e);n<0===t&&e.reverse()}function i(e){for(var t,n,r=0,a=0,o=e.length,i=o-1;a<o;i=a++)t=e[a],n=e[i],r+=(n[0]-t[0])*(t[1]+n[1]);return r}t.exports=r},{}],147:[function(e,t,n){"use strict";function r(e,t){if(e.transformed)return e;var n,r,o,i=e.z2,s=e.x,u=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],c=l.geometry,f=l.type;if(1===f)for(r=0;r<c.length;r++)c[r]=a(c[r],t,i,s,u);else for(r=0;r<c.length;r++){var p=c[r];for(o=0;o<p.length;o++)p[o]=a(p[o],t,i,s,u)}}return e.transformed=!0,e}function a(e,t,n,r,a){var o=Math.round(t*(e[0]*n-r)),i=Math.round(t*(e[1]*n-a));return[o,i]}n.tile=r,n.point=a},{}],148:[function(e,t,n){"use strict";function r(e,t,n){var r=e,o=i(e,1,-1-t,t,0,n,-1,2),s=i(e,1,1-t,2+t,0,n,-1,2);return(o||s)&&(r=i(e,1,-t,1+t,0,n,-1,2)||[],o&&(r=a(o,1).concat(r)),s&&(r=r.concat(a(s,-1)))),r}function a(e,t){for(var n=[],r=0;r<e.length;r++){var a,i=e[r],u=i.type;if(1===u)a=o(i.geometry,t);else{a=[];for(var l=0;l<i.geometry.length;l++)a.push(o(i.geometry[l],t))}n.push(s(i.tags,u,a,i.id))}return n}function o(e,t){var n=[];n.area=e.area,n.dist=e.dist;for(var r=0;r<e.length;r++)n.push([e[r][0]+t,e[r][1],e[r][2]]);return n}var i=e("./clip"),s=e("./feature");t.exports=r},{"./clip":141,"./feature":143}],149:[function(e,t,n){n.glMatrix=e("./gl-matrix/common.js"),n.mat2=e("./gl-matrix/mat2.js"),n.mat2d=e("./gl-matrix/mat2d.js"),n.mat3=e("./gl-matrix/mat3.js"),n.mat4=e("./gl-matrix/mat4.js"),n.quat=e("./gl-matrix/quat.js"),n.vec2=e("./gl-matrix/vec2.js"),n.vec3=e("./gl-matrix/vec3.js"),n.vec4=e("./gl-matrix/vec4.js")},{"./gl-matrix/common.js":150,"./gl-matrix/mat2.js":151,"./gl-matrix/mat2d.js":152,"./gl-matrix/mat3.js":153,"./gl-matrix/mat4.js":154,"./gl-matrix/quat.js":155,"./gl-matrix/vec2.js":156,"./gl-matrix/vec3.js":157,"./gl-matrix/vec4.js":158}],150:[function(e,t,n){var r={};r.EPSILON=1e-6,r.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,r.RANDOM=Math.random,r.ENABLE_SIMD=!1,r.SIMD_AVAILABLE=r.ARRAY_TYPE===Float32Array&&"SIMD"in this,r.USE_SIMD=r.ENABLE_SIMD&&r.SIMD_AVAILABLE,r.setMatrixArrayType=function(e){r.ARRAY_TYPE=e};var a=Math.PI/180;r.toRadian=function(e){return e*a},r.equals=function(e,t){return Math.abs(e-t)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))},t.exports=r},{}],151:[function(e,t,n){var r=e("./common.js"),a={};a.create=function(){var e=new r.ARRAY_TYPE(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},a.clone=function(e){var t=new r.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},a.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},a.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},a.fromValues=function(e,t,n,a){var o=new r.ARRAY_TYPE(4);return o[0]=e,o[1]=t,o[2]=n,o[3]=a,o},a.set=function(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e},a.transpose=function(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e},a.invert=function(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=n*o-a*r;return i?(i=1/i,e[0]=o*i,e[1]=-r*i,e[2]=-a*i,e[3]=n*i,e):null},a.adjoint=function(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e},a.determinant=function(e){return e[0]*e[3]-e[2]*e[1]},a.multiply=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*s+o*u,e[1]=a*s+i*u,e[2]=r*l+o*c,e[3]=a*l+i*c,e},a.mul=a.multiply,a.rotate=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*s,e[1]=a*u+i*s,e[2]=r*-s+o*u,e[3]=a*-s+i*u,e},a.scale=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=n[0],u=n[1];return e[0]=r*s,e[1]=a*s,e[2]=o*u,e[3]=i*u,e},a.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e},a.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e},a.str=function(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},a.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))},a.LDU=function(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]},a.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},a.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e},a.sub=a.subtract,a.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},a.equals=function(e,t){var n=e[0],a=e[1],o=e[2],i=e[3],s=t[0],u=t[1],l=t[2],c=t[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-u)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-c)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))},a.multiplyScalar=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},a.multiplyScalarAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},t.exports=a},{"./common.js":150}],152:[function(e,t,n){var r=e("./common.js"),a={};a.create=function(){var e=new r.ARRAY_TYPE(6);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},a.clone=function(e){var t=new r.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},a.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},a.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},a.fromValues=function(e,t,n,a,o,i){var s=new r.ARRAY_TYPE(6);return s[0]=e,s[1]=t,s[2]=n,s[3]=a,s[4]=o,s[5]=i,s},a.set=function(e,t,n,r,a,o,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=o,e[5]=i,e},a.invert=function(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=t[5],u=n*o-r*a;return u?(u=1/u,e[0]=o*u,e[1]=-r*u,e[2]=-a*u,e[3]=n*u,e[4]=(a*s-o*i)*u,e[5]=(r*i-n*s)*u,e):null},a.determinant=function(e){return e[0]*e[3]-e[1]*e[2]},a.multiply=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=t[4],u=t[5],l=n[0],c=n[1],f=n[2],p=n[3],d=n[4],h=n[5];return e[0]=r*l+o*c,e[1]=a*l+i*c,e[2]=r*f+o*p,e[3]=a*f+i*p,e[4]=r*d+o*h+s,e[5]=a*d+i*h+u,e},a.mul=a.multiply,a.rotate=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=t[4],u=t[5],l=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*l,e[1]=a*c+i*l,e[2]=r*-l+o*c,e[3]=a*-l+i*c,e[4]=s,e[5]=u,e},a.scale=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=t[4],u=t[5],l=n[0],c=n[1];return e[0]=r*l,e[1]=a*l,e[2]=o*c,e[3]=i*c,e[4]=s,e[5]=u,e},a.translate=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=t[4],u=t[5],l=n[0],c=n[1];return e[0]=r,e[1]=a,e[2]=o,e[3]=i,e[4]=r*l+o*c+s,e[5]=a*l+i*c+u,e},a.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e},a.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e},a.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e},a.str=function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},a.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},a.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e},a.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e},a.sub=a.subtract,a.multiplyScalar=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e},a.multiplyScalarAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e},a.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},a.equals=function(e,t){var n=e[0],a=e[1],o=e[2],i=e[3],s=e[4],u=e[5],l=t[0],c=t[1],f=t[2],p=t[3],d=t[4],h=t[5];return Math.abs(n-l)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(o-f)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(i-p)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(s-d)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(u-h)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(h))},t.exports=a},{"./common.js":150}],153:[function(e,t,n){var r=e("./common.js"),a={};a.create=function(){var e=new r.ARRAY_TYPE(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},a.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},a.clone=function(e){var t=new r.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},a.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},a.fromValues=function(e,t,n,a,o,i,s,u,l){var c=new r.ARRAY_TYPE(9);return c[0]=e,c[1]=t,c[2]=n,c[3]=a,c[4]=o,c[5]=i,c[6]=s,c[7]=u,c[8]=l,c},a.set=function(e,t,n,r,a,o,i,s,u,l){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=o,e[5]=i,e[6]=s,e[7]=u,e[8]=l,e},a.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},a.transpose=function(e,t){if(e===t){var n=t[1],r=t[2],a=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=a}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},a.invert=function(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=c*i-s*l,p=-c*o+s*u,d=l*o-i*u,h=n*f+r*p+a*d;return h?(h=1/h,e[0]=f*h,e[1]=(-c*r+a*l)*h,e[2]=(s*r-a*i)*h,e[3]=p*h,e[4]=(c*n-a*u)*h,e[5]=(-s*n+a*o)*h,e[6]=d*h,e[7]=(-l*n+r*u)*h,e[8]=(i*n-r*o)*h,e):null},a.adjoint=function(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=t[5],u=t[6],l=t[7],c=t[8];return e[0]=i*c-s*l,e[1]=a*l-r*c,e[2]=r*s-a*i,e[3]=s*u-o*c,e[4]=n*c-a*u,e[5]=a*o-n*s,e[6]=o*l-i*u,e[7]=r*u-n*l,e[8]=n*i-r*o,e},a.determinant=function(e){var t=e[0],n=e[1],r=e[2],a=e[3],o=e[4],i=e[5],s=e[6],u=e[7],l=e[8];return t*(l*o-i*u)+n*(-l*a+i*s)+r*(u*a-o*s)},a.multiply=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],p=n[0],d=n[1],h=n[2],m=n[3],v=n[4],y=n[5],g=n[6],b=n[7],_=n[8];return e[0]=p*r+d*i+h*l,e[1]=p*a+d*s+h*c,e[2]=p*o+d*u+h*f,e[3]=m*r+v*i+y*l,e[4]=m*a+v*s+y*c,e[5]=m*o+v*u+y*f,e[6]=g*r+b*i+_*l,e[7]=g*a+b*s+_*c,e[8]=g*o+b*u+_*f,e},a.mul=a.multiply,a.translate=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],p=n[0],d=n[1];return e[0]=r,e[1]=a,e[2]=o,e[3]=i,e[4]=s,e[5]=u,e[6]=p*r+d*i+l,e[7]=p*a+d*s+c,e[8]=p*o+d*u+f,e},a.rotate=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],p=Math.sin(n),d=Math.cos(n);return e[0]=d*r+p*i,e[1]=d*a+p*s,e[2]=d*o+p*u,e[3]=d*i-p*r,e[4]=d*s-p*a,e[5]=d*u-p*o,e[6]=l,e[7]=c,e[8]=f,e},a.scale=function(e,t,n){var r=n[0],a=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},a.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},a.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},a.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},a.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},a.fromQuat=function(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=n+n,s=r+r,u=a+a,l=n*i,c=r*i,f=r*s,p=a*i,d=a*s,h=a*u,m=o*i,v=o*s,y=o*u;return e[0]=1-f-h,e[3]=c-y,e[6]=p+v,e[1]=c+y,e[4]=1-l-h,e[7]=d-m,e[2]=p-v,e[5]=d+m,e[8]=1-l-f,e},a.normalFromMat4=function(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],p=t[10],d=t[11],h=t[12],m=t[13],v=t[14],y=t[15],g=n*s-r*i,b=n*u-a*i,_=n*l-o*i,x=r*u-a*s,w=r*l-o*s,E=a*l-o*u,S=c*m-f*h,T=c*v-p*h,M=c*y-d*h,C=f*v-p*m,k=f*y-d*m,I=p*y-d*v,P=g*I-b*k+_*C+x*M-w*T+E*S;return P?(P=1/P,e[0]=(s*I-u*k+l*C)*P,e[1]=(u*M-i*I-l*T)*P,e[2]=(i*k-s*M+l*S)*P,e[3]=(a*k-r*I-o*C)*P,e[4]=(n*I-a*M+o*T)*P,e[5]=(r*M-n*k-o*S)*P,e[6]=(m*E-v*w+y*x)*P,e[7]=(v*_-h*E-y*b)*P,e[8]=(h*w-m*_+y*g)*P,e):null},a.str=function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},a.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},a.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e},a.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e},a.sub=a.subtract,a.multiplyScalar=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e},a.multiplyScalarAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e},a.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},a.equals=function(e,t){var n=e[0],a=e[1],o=e[2],i=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=t[0],d=t[1],h=t[2],m=t[3],v=t[4],y=t[5],g=e[6],b=t[7],_=t[8];return Math.abs(n-p)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(a-d)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(o-h)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(i-m)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(s-v)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(l-g)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(c-b)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-_)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(_))},t.exports=a},{"./common.js":150}],154:[function(e,t,n){var r=e("./common.js"),a={scalar:{},SIMD:{}};a.create=function(){var e=new r.ARRAY_TYPE(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},a.clone=function(e){var t=new r.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},a.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},a.fromValues=function(e,t,n,a,o,i,s,u,l,c,f,p,d,h,m,v){var y=new r.ARRAY_TYPE(16);return y[0]=e,y[1]=t,y[2]=n,y[3]=a,y[4]=o,y[5]=i,y[6]=s,y[7]=u,y[8]=l,y[9]=c,y[10]=f,y[11]=p,y[12]=d,y[13]=h,y[14]=m,y[15]=v,y},a.set=function(e,t,n,r,a,o,i,s,u,l,c,f,p,d,h,m,v){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=o,e[5]=i,e[6]=s,e[7]=u,e[8]=l,e[9]=c,e[10]=f,e[11]=p,e[12]=d,e[13]=h,e[14]=m,e[15]=v,e},a.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},a.scalar.transpose=function(e,t){if(e===t){var n=t[1],r=t[2],a=t[3],o=t[6],i=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=a,e[13]=i,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},a.SIMD.transpose=function(e,t){var n,r,a,o,i,s,u,l,c,f;return n=SIMD.Float32x4.load(t,0),r=SIMD.Float32x4.load(t,4),a=SIMD.Float32x4.load(t,8),o=SIMD.Float32x4.load(t,12),i=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(a,o,0,1,4,5),u=SIMD.Float32x4.shuffle(i,s,0,2,4,6),l=SIMD.Float32x4.shuffle(i,s,1,3,5,7),SIMD.Float32x4.store(e,0,u),SIMD.Float32x4.store(e,4,l),i=SIMD.Float32x4.shuffle(n,r,2,3,6,7),s=SIMD.Float32x4.shuffle(a,o,2,3,6,7),c=SIMD.Float32x4.shuffle(i,s,0,2,4,6),f=SIMD.Float32x4.shuffle(i,s,1,3,5,7),SIMD.Float32x4.store(e,8,c),SIMD.Float32x4.store(e,12,f),e},a.transpose=r.USE_SIMD?a.SIMD.transpose:a.scalar.transpose,a.scalar.invert=function(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],p=t[10],d=t[11],h=t[12],m=t[13],v=t[14],y=t[15],g=n*s-r*i,b=n*u-a*i,_=n*l-o*i,x=r*u-a*s,w=r*l-o*s,E=a*l-o*u,S=c*m-f*h,T=c*v-p*h,M=c*y-d*h,C=f*v-p*m,k=f*y-d*m,I=p*y-d*v,P=g*I-b*k+_*C+x*M-w*T+E*S;return P?(P=1/P,e[0]=(s*I-u*k+l*C)*P,e[1]=(a*k-r*I-o*C)*P,e[2]=(m*E-v*w+y*x)*P,e[3]=(p*w-f*E-d*x)*P,e[4]=(u*M-i*I-l*T)*P,e[5]=(n*I-a*M+o*T)*P,e[6]=(v*_-h*E-y*b)*P,e[7]=(c*E-p*_+d*b)*P,e[8]=(i*k-s*M+l*S)*P,e[9]=(r*M-n*k-o*S)*P,e[10]=(h*w-m*_+y*g)*P,e[11]=(f*_-c*w-d*g)*P,e[12]=(s*T-i*C-u*S)*P,e[13]=(n*C-r*T+a*S)*P,e[14]=(m*b-h*x-v*g)*P,e[15]=(c*x-f*b+p*g)*P,e):null},a.SIMD.invert=function(e,t){var n,r,a,o,i,s,u,l,c,f,p=SIMD.Float32x4.load(t,0),d=SIMD.Float32x4.load(t,4),h=SIMD.Float32x4.load(t,8),m=SIMD.Float32x4.load(t,12);return i=SIMD.Float32x4.shuffle(p,d,0,1,4,5),r=SIMD.Float32x4.shuffle(h,m,0,1,4,5),n=SIMD.Float32x4.shuffle(i,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,i,1,3,5,7),i=SIMD.Float32x4.shuffle(p,d,2,3,6,7),o=SIMD.Float32x4.shuffle(h,m,2,3,6,7),a=SIMD.Float32x4.shuffle(i,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,i,1,3,5,7),i=SIMD.Float32x4.mul(a,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),s=SIMD.Float32x4.mul(r,i),u=SIMD.Float32x4.mul(n,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,i),s),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),i=SIMD.Float32x4.mul(r,a),i=SIMD.Float32x4.swizzle(i,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),s),c=SIMD.Float32x4.mul(n,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,i)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),i=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,i),s),l=SIMD.Float32x4.mul(n,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(a,i)),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),i=SIMD.Float32x4.mul(n,r),i=SIMD.Float32x4.swizzle(i,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),l),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),c),i=SIMD.Float32x4.swizzle(i,2,3,0,1),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,i),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(a,i)),i=SIMD.Float32x4.mul(n,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(a,i)),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,i),l),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,i),u),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(r,i)),i=SIMD.Float32x4.mul(n,a),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),u),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,i)),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(o,i)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,i),c),f=SIMD.Float32x4.mul(n,s),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,2,3,0,1),f),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,1,0,3,2),f),i=SIMD.Float32x4.reciprocalApproximation(f),f=SIMD.Float32x4.sub(SIMD.Float32x4.add(i,i),SIMD.Float32x4.mul(f,SIMD.Float32x4.mul(i,i))),(f=SIMD.Float32x4.swizzle(f,0,0,0,0))?(SIMD.Float32x4.store(e,0,SIMD.Float32x4.mul(f,s)),SIMD.Float32x4.store(e,4,SIMD.Float32x4.mul(f,u)),SIMD.Float32x4.store(e,8,SIMD.Float32x4.mul(f,l)),SIMD.Float32x4.store(e,12,SIMD.Float32x4.mul(f,c)),e):null},a.invert=r.USE_SIMD?a.SIMD.invert:a.scalar.invert,a.scalar.adjoint=function(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],p=t[10],d=t[11],h=t[12],m=t[13],v=t[14],y=t[15];return e[0]=s*(p*y-d*v)-f*(u*y-l*v)+m*(u*d-l*p),e[1]=-(r*(p*y-d*v)-f*(a*y-o*v)+m*(a*d-o*p)),e[2]=r*(u*y-l*v)-s*(a*y-o*v)+m*(a*l-o*u),e[3]=-(r*(u*d-l*p)-s*(a*d-o*p)+f*(a*l-o*u)),e[4]=-(i*(p*y-d*v)-c*(u*y-l*v)+h*(u*d-l*p)),e[5]=n*(p*y-d*v)-c*(a*y-o*v)+h*(a*d-o*p),e[6]=-(n*(u*y-l*v)-i*(a*y-o*v)+h*(a*l-o*u)),e[7]=n*(u*d-l*p)-i*(a*d-o*p)+c*(a*l-o*u),e[8]=i*(f*y-d*m)-c*(s*y-l*m)+h*(s*d-l*f),e[9]=-(n*(f*y-d*m)-c*(r*y-o*m)+h*(r*d-o*f)),e[10]=n*(s*y-l*m)-i*(r*y-o*m)+h*(r*l-o*s),e[11]=-(n*(s*d-l*f)-i*(r*d-o*f)+c*(r*l-o*s)),e[12]=-(i*(f*v-p*m)-c*(s*v-u*m)+h*(s*p-u*f)),e[13]=n*(f*v-p*m)-c*(r*v-a*m)+h*(r*p-a*f),e[14]=-(n*(s*v-u*m)-i*(r*v-a*m)+h*(r*u-a*s)),e[15]=n*(s*p-u*f)-i*(r*p-a*f)+c*(r*u-a*s),e},a.SIMD.adjoint=function(e,t){var n,r,a,o,i,s,u,l,c,f,p,d,h,n=SIMD.Float32x4.load(t,0),r=SIMD.Float32x4.load(t,4),a=SIMD.Float32x4.load(t,8),o=SIMD.Float32x4.load(t,12);return c=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(a,o,0,1,4,5),i=SIMD.Float32x4.shuffle(c,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,c,1,3,5,7),c=SIMD.Float32x4.shuffle(n,r,2,3,6,7),l=SIMD.Float32x4.shuffle(a,o,2,3,6,7),u=SIMD.Float32x4.shuffle(c,l,0,2,4,6),l=SIMD.Float32x4.shuffle(l,c,1,3,5,7),c=SIMD.Float32x4.mul(u,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.mul(s,c),p=SIMD.Float32x4.mul(i,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,c),f),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),p),p=SIMD.Float32x4.swizzle(p,2,3,0,1),c=SIMD.Float32x4.mul(s,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),f),h=SIMD.Float32x4.mul(i,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(l,c)),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,3,0,1),l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),u=SIMD.Float32x4.swizzle(u,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),f),d=SIMD.Float32x4.mul(i,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(u,c)),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),c=SIMD.Float32x4.mul(i,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),d),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),h),c=SIMD.Float32x4.swizzle(c,2,3,0,1),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,c),d),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(u,c)),c=SIMD.Float32x4.mul(i,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(u,c)),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),d),c=SIMD.Float32x4.swizzle(c,2,3,0,1),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),p),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.mul(i,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),p),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.swizzle(c,2,3,0,1),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(l,c)),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),h),SIMD.Float32x4.store(e,0,f),SIMD.Float32x4.store(e,4,p),SIMD.Float32x4.store(e,8,d),SIMD.Float32x4.store(e,12,h),e},a.adjoint=r.USE_SIMD?a.SIMD.adjoint:a.scalar.adjoint,a.determinant=function(e){var t=e[0],n=e[1],r=e[2],a=e[3],o=e[4],i=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],p=e[11],d=e[12],h=e[13],m=e[14],v=e[15],y=t*i-n*o,g=t*s-r*o,b=t*u-a*o,_=n*s-r*i,x=n*u-a*i,w=r*u-a*s,E=l*h-c*d,S=l*m-f*d,T=l*v-p*d,M=c*m-f*h,C=c*v-p*h,k=f*v-p*m;return y*k-g*C+b*M+_*T-x*S+w*E},a.SIMD.multiply=function(e,t,n){var r=SIMD.Float32x4.load(t,0),a=SIMD.Float32x4.load(t,4),o=SIMD.Float32x4.load(t,8),i=SIMD.Float32x4.load(t,12),s=SIMD.Float32x4.load(n,0),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),i))));SIMD.Float32x4.store(e,0,u);var l=SIMD.Float32x4.load(n,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,3,3,3,3),i))));SIMD.Float32x4.store(e,4,c);var f=SIMD.Float32x4.load(n,8),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),i))));SIMD.Float32x4.store(e,8,p);var d=SIMD.Float32x4.load(n,12),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,3,3,3,3),i))));return SIMD.Float32x4.store(e,12,h),e},a.scalar.multiply=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],p=t[9],d=t[10],h=t[11],m=t[12],v=t[13],y=t[14],g=t[15],b=n[0],_=n[1],x=n[2],w=n[3];return e[0]=b*r+_*s+x*f+w*m,e[1]=b*a+_*u+x*p+w*v,e[2]=b*o+_*l+x*d+w*y,e[3]=b*i+_*c+x*h+w*g,b=n[4],_=n[5],x=n[6],w=n[7],e[4]=b*r+_*s+x*f+w*m,e[5]=b*a+_*u+x*p+w*v,e[6]=b*o+_*l+x*d+w*y,e[7]=b*i+_*c+x*h+w*g,b=n[8],_=n[9],x=n[10],w=n[11],e[8]=b*r+_*s+x*f+w*m,e[9]=b*a+_*u+x*p+w*v,e[10]=b*o+_*l+x*d+w*y,e[11]=b*i+_*c+x*h+w*g,b=n[12],_=n[13],x=n[14],w=n[15],e[12]=b*r+_*s+x*f+w*m,e[13]=b*a+_*u+x*p+w*v,e[14]=b*o+_*l+x*d+w*y,e[15]=b*i+_*c+x*h+w*g,e},a.multiply=r.USE_SIMD?a.SIMD.multiply:a.scalar.multiply,a.mul=a.multiply,a.scalar.translate=function(e,t,n){var r,a,o,i,s,u,l,c,f,p,d,h,m=n[0],v=n[1],y=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*y+t[12],e[13]=t[1]*m+t[5]*v+t[9]*y+t[13],e[14]=t[2]*m+t[6]*v+t[10]*y+t[14],e[15]=t[3]*m+t[7]*v+t[11]*y+t[15]):(r=t[0],a=t[1],o=t[2],i=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],p=t[9],d=t[10],h=t[11],e[0]=r,e[1]=a,e[2]=o,e[3]=i,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=f,e[9]=p,e[10]=d,e[11]=h,e[12]=r*m+s*v+f*y+t[12],e[13]=a*m+u*v+p*y+t[13],e[14]=o*m+l*v+d*y+t[14],e[15]=i*m+c*v+h*y+t[15]),e},a.SIMD.translate=function(e,t,n){var r=SIMD.Float32x4.load(t,0),a=SIMD.Float32x4.load(t,4),o=SIMD.Float32x4.load(t,8),i=SIMD.Float32x4.load(t,12),s=SIMD.Float32x4(n[0],n[1],n[2],0);t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(s,0,0,0,0)),a=SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(s,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(s,2,2,2,2));var u=SIMD.Float32x4.add(r,SIMD.Float32x4.add(a,SIMD.Float32x4.add(o,i)));return SIMD.Float32x4.store(e,12,u),e},a.translate=r.USE_SIMD?a.SIMD.translate:a.scalar.translate,a.scalar.scale=function(e,t,n){var r=n[0],a=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},a.SIMD.scale=function(e,t,n){var r,a,o,i=SIMD.Float32x4(n[0],n[1],n[2],0);return r=SIMD.Float32x4.load(t,0),SIMD.Float32x4.store(e,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(i,0,0,0,0))),a=SIMD.Float32x4.load(t,4),SIMD.Float32x4.store(e,4,SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(i,1,1,1,1))),o=SIMD.Float32x4.load(t,8),SIMD.Float32x4.store(e,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(i,2,2,2,2))),e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},a.scale=r.USE_SIMD?a.SIMD.scale:a.scalar.scale,a.rotate=function(e,t,n,a){var o,i,s,u,l,c,f,p,d,h,m,v,y,g,b,_,x,w,E,S,T,M,C,k,I=a[0],P=a[1],D=a[2],N=Math.sqrt(I*I+P*P+D*D);return Math.abs(N)<r.EPSILON?null:(N=1/N,I*=N,P*=N,D*=N,o=Math.sin(n),i=Math.cos(n),s=1-i,u=t[0],l=t[1],c=t[2],f=t[3],p=t[4],d=t[5],h=t[6],m=t[7],v=t[8],y=t[9],g=t[10],b=t[11],_=I*I*s+i,x=P*I*s+D*o,w=D*I*s-P*o,E=I*P*s-D*o,S=P*P*s+i,T=D*P*s+I*o,M=I*D*s+P*o,C=P*D*s-I*o,k=D*D*s+i,e[0]=u*_+p*x+v*w,e[1]=l*_+d*x+y*w,e[2]=c*_+h*x+g*w,e[3]=f*_+m*x+b*w,e[4]=u*E+p*S+v*T,e[5]=l*E+d*S+y*T,e[6]=c*E+h*S+g*T,e[7]=f*E+m*S+b*T,e[8]=u*M+p*C+v*k,e[9]=l*M+d*C+y*k,e[10]=c*M+h*C+g*k,e[11]=f*M+m*C+b*k,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},a.scalar.rotateX=function(e,t,n){var r=Math.sin(n),a=Math.cos(n),o=t[4],i=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*a+l*r,e[5]=i*a+c*r,e[6]=s*a+f*r,e[7]=u*a+p*r,e[8]=l*a-o*r,e[9]=c*a-i*r,e[10]=f*a-s*r,e[11]=p*a-u*r,e},a.SIMD.rotateX=function(e,t,n){var r=SIMD.Float32x4.splat(Math.sin(n)),a=SIMD.Float32x4.splat(Math.cos(n));t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);var o=SIMD.Float32x4.load(t,4),i=SIMD.Float32x4.load(t,8);return SIMD.Float32x4.store(e,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),SIMD.Float32x4.mul(i,r))),SIMD.Float32x4.store(e,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),SIMD.Float32x4.mul(o,r))),e},a.rotateX=r.USE_SIMD?a.SIMD.rotateX:a.scalar.rotateX,a.scalar.rotateY=function(e,t,n){var r=Math.sin(n),a=Math.cos(n),o=t[0],i=t[1],s=t[2],u=t[3],l=t[8],c=t[9],f=t[10],p=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*a-l*r,e[1]=i*a-c*r,e[2]=s*a-f*r,e[3]=u*a-p*r,e[8]=o*r+l*a,e[9]=i*r+c*a,e[10]=s*r+f*a,e[11]=u*r+p*a,e},a.SIMD.rotateY=function(e,t,n){var r=SIMD.Float32x4.splat(Math.sin(n)),a=SIMD.Float32x4.splat(Math.cos(n));t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);var o=SIMD.Float32x4.load(t,0),i=SIMD.Float32x4.load(t,8);return SIMD.Float32x4.store(e,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),SIMD.Float32x4.mul(i,r))),SIMD.Float32x4.store(e,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(i,a))),e},a.rotateY=r.USE_SIMD?a.SIMD.rotateY:a.scalar.rotateY,a.scalar.rotateZ=function(e,t,n){var r=Math.sin(n),a=Math.cos(n),o=t[0],i=t[1],s=t[2],u=t[3],l=t[4],c=t[5],f=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*a+l*r,e[1]=i*a+c*r,e[2]=s*a+f*r,e[3]=u*a+p*r,e[4]=l*a-o*r,e[5]=c*a-i*r,e[6]=f*a-s*r,e[7]=p*a-u*r,e},a.SIMD.rotateZ=function(e,t,n){var r=SIMD.Float32x4.splat(Math.sin(n)),a=SIMD.Float32x4.splat(Math.cos(n));t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);var o=SIMD.Float32x4.load(t,0),i=SIMD.Float32x4.load(t,4);return SIMD.Float32x4.store(e,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),SIMD.Float32x4.mul(i,r))),SIMD.Float32x4.store(e,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),SIMD.Float32x4.mul(o,r))),e},a.rotateZ=r.USE_SIMD?a.SIMD.rotateZ:a.scalar.rotateZ,a.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},a.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},a.fromRotation=function(e,t,n){var a,o,i,s=n[0],u=n[1],l=n[2],c=Math.sqrt(s*s+u*u+l*l);return Math.abs(c)<r.EPSILON?null:(c=1/c,s*=c,u*=c,l*=c,a=Math.sin(t),o=Math.cos(t),i=1-o,e[0]=s*s*i+o,e[1]=u*s*i+l*a,e[2]=l*s*i-u*a,e[3]=0,e[4]=s*u*i-l*a,e[5]=u*u*i+o,e[6]=l*u*i+s*a,e[7]=0,e[8]=s*l*i+u*a,e[9]=u*l*i-s*a,e[10]=l*l*i+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},a.fromXRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},a.fromYRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},a.fromZRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},a.fromRotationTranslation=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=r+r,u=a+a,l=o+o,c=r*s,f=r*u,p=r*l,d=a*u,h=a*l,m=o*l,v=i*s,y=i*u,g=i*l;return e[0]=1-(d+m),e[1]=f+g,e[2]=p-y,e[3]=0,e[4]=f-g,e[5]=1-(c+m),e[6]=h+v,e[7]=0,e[8]=p+y,e[9]=h-v,e[10]=1-(c+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},a.getTranslation=function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},a.getRotation=function(e,t){var n=t[0]+t[5]+t[10],r=0;return n>0?(r=2*Math.sqrt(n+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e},a.fromRotationTranslationScale=function(e,t,n,r){var a=t[0],o=t[1],i=t[2],s=t[3],u=a+a,l=o+o,c=i+i,f=a*u,p=a*l,d=a*c,h=o*l,m=o*c,v=i*c,y=s*u,g=s*l,b=s*c,_=r[0],x=r[1],w=r[2];return e[0]=(1-(h+v))*_,e[1]=(p+b)*_,e[2]=(d-g)*_,e[3]=0,e[4]=(p-b)*x,e[5]=(1-(f+v))*x,e[6]=(m+y)*x,e[7]=0,e[8]=(d+g)*w,e[9]=(m-y)*w,e[10]=(1-(f+h))*w,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e},a.fromRotationTranslationScaleOrigin=function(e,t,n,r,a){var o=t[0],i=t[1],s=t[2],u=t[3],l=o+o,c=i+i,f=s+s,p=o*l,d=o*c,h=o*f,m=i*c,v=i*f,y=s*f,g=u*l,b=u*c,_=u*f,x=r[0],w=r[1],E=r[2],S=a[0],T=a[1],M=a[2];return e[0]=(1-(m+y))*x,e[1]=(d+_)*x,e[2]=(h-b)*x,e[3]=0,e[4]=(d-_)*w,e[5]=(1-(p+y))*w,e[6]=(v+g)*w,e[7]=0,e[8]=(h+b)*E,e[9]=(v-g)*E,e[10]=(1-(p+m))*E,e[11]=0,e[12]=n[0]+S-(e[0]*S+e[4]*T+e[8]*M),e[13]=n[1]+T-(e[1]*S+e[5]*T+e[9]*M),e[14]=n[2]+M-(e[2]*S+e[6]*T+e[10]*M),e[15]=1,e},a.fromQuat=function(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=n+n,s=r+r,u=a+a,l=n*i,c=r*i,f=r*s,p=a*i,d=a*s,h=a*u,m=o*i,v=o*s,y=o*u;return e[0]=1-f-h,e[1]=c+y,e[2]=p-v,e[3]=0,e[4]=c-y,e[5]=1-l-h,e[6]=d+m,e[7]=0,e[8]=p+v,e[9]=d-m,e[10]=1-l-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},a.frustum=function(e,t,n,r,a,o,i){var s=1/(n-t),u=1/(a-r),l=1/(o-i);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(a+r)*u,e[10]=(i+o)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=i*o*2*l,e[15]=0,e},a.perspective=function(e,t,n,r,a){var o=1/Math.tan(t/2),i=1/(r-a);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(a+r)*i,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*a*r*i,e[15]=0,e},a.perspectiveFromFieldOfView=function(e,t,n,r){var a=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),i=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(i+s),l=2/(a+o);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-((i-s)*u*.5),e[9]=(a-o)*l*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e},a.ortho=function(e,t,n,r,a,o,i){var s=1/(t-n),u=1/(r-a),l=1/(o-i);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(a+r)*u,e[14]=(i+o)*l,e[15]=1,e},a.lookAt=function(e,t,n,o){var i,s,u,l,c,f,p,d,h,m,v=t[0],y=t[1],g=t[2],b=o[0],_=o[1],x=o[2],w=n[0],E=n[1],S=n[2];return Math.abs(v-w)<r.EPSILON&&Math.abs(y-E)<r.EPSILON&&Math.abs(g-S)<r.EPSILON?a.identity(e):(p=v-w,d=y-E,h=g-S,m=1/Math.sqrt(p*p+d*d+h*h),p*=m,d*=m,h*=m,i=_*h-x*d,s=x*p-b*h,u=b*d-_*p,m=Math.sqrt(i*i+s*s+u*u),m?(m=1/m,i*=m,s*=m,u*=m):(i=0,s=0,u=0),l=d*u-h*s,c=h*i-p*u,f=p*s-d*i,m=Math.sqrt(l*l+c*c+f*f),m?(m=1/m,l*=m,c*=m,f*=m):(l=0,c=0,f=0),e[0]=i,e[1]=l,e[2]=p,e[3]=0,e[4]=s,e[5]=c,e[6]=d,e[7]=0,e[8]=u,e[9]=f,e[10]=h,e[11]=0,e[12]=-(i*v+s*y+u*g),e[13]=-(l*v+c*y+f*g),e[14]=-(p*v+d*y+h*g),e[15]=1,e)},a.str=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},a.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},a.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e},a.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e},a.sub=a.subtract,a.multiplyScalar=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e},a.multiplyScalarAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e},a.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},a.equals=function(e,t){var n=e[0],a=e[1],o=e[2],i=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=e[9],d=e[10],h=e[11],m=e[12],v=e[13],y=e[14],g=e[15],b=t[0],_=t[1],x=t[2],w=t[3],E=t[4],S=t[5],T=t[6],M=t[7],C=t[8],k=t[9],I=t[10],P=t[11],D=t[12],N=t[13],A=t[14],O=t[15];return Math.abs(n-b)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(a-_)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(o-x)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(i-w)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(s-E)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-S)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(l-T)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(c-M)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(f-C)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(p-k)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(d-I)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(h-P)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(m-D)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(D))&&Math.abs(v-N)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(N))&&Math.abs(y-A)<=r.EPSILON*Math.max(1,Math.abs(y),Math.abs(A))&&Math.abs(g-O)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(O))},t.exports=a},{"./common.js":150}],155:[function(e,t,n){var r=e("./common.js"),a=e("./mat3.js"),o=e("./vec3.js"),i=e("./vec4.js"),s={};s.create=function(){var e=new r.ARRAY_TYPE(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},s.rotationTo=function(){var e=o.create(),t=o.fromValues(1,0,0),n=o.fromValues(0,1,0);return function(r,a,i){var u=o.dot(a,i);return u<-.999999?(o.cross(e,t,a),o.length(e)<1e-6&&o.cross(e,n,a),o.normalize(e,e),s.setAxisAngle(r,e,Math.PI),r):u>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(e,a,i),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+u,s.normalize(r,r))}}(),s.setAxes=function(){var e=a.create();return function(t,n,r,a){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=a[0],e[4]=a[1],e[7]=a[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],s.normalize(t,s.fromMat3(t,e))}}(),s.clone=i.clone,s.fromValues=i.fromValues,s.copy=i.copy,s.set=i.set,s.identity=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},s.setAxisAngle=function(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e},s.getAxisAngle=function(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return 0!=r?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n},s.add=i.add,s.multiply=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*c+i*s+a*l-o*u,e[1]=a*c+i*u+o*s-r*l,e[2]=o*c+i*l+r*u-a*s,e[3]=i*c-r*s-a*u-o*l,e},s.mul=s.multiply,s.scale=i.scale,s.rotateX=function(e,t,n){n*=.5;var r=t[0],a=t[1],o=t[2],i=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+i*s,e[1]=a*u+o*s,e[2]=o*u-a*s,e[3]=i*u-r*s,e},s.rotateY=function(e,t,n){n*=.5;var r=t[0],a=t[1],o=t[2],i=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u-o*s,e[1]=a*u+i*s,e[2]=o*u+r*s,e[3]=i*u-a*s,e},s.rotateZ=function(e,t,n){n*=.5;var r=t[0],a=t[1],o=t[2],i=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+a*s,e[1]=a*u-r*s,e[2]=o*u+i*s,e[3]=i*u-o*s,e},s.calculateW=function(e,t){var n=t[0],r=t[1],a=t[2];return e[0]=n,e[1]=r,e[2]=a,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-a*a)),e},s.dot=i.dot,s.lerp=i.lerp,s.slerp=function(e,t,n,r){var a,o,i,s,u,l=t[0],c=t[1],f=t[2],p=t[3],d=n[0],h=n[1],m=n[2],v=n[3];return o=l*d+c*h+f*m+p*v,o<0&&(o=-o,d=-d,h=-h,m=-m,v=-v),1-o>1e-6?(a=Math.acos(o),i=Math.sin(a),s=Math.sin((1-r)*a)/i,u=Math.sin(r*a)/i):(s=1-r,u=r),e[0]=s*l+u*d,e[1]=s*c+u*h,e[2]=s*f+u*m,e[3]=s*p+u*v,e},s.sqlerp=function(){var e=s.create(),t=s.create();return function(n,r,a,o,i,u){return s.slerp(e,r,i,u),s.slerp(t,a,o,u),s.slerp(n,e,t,2*u*(1-u)),n}}(),s.invert=function(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=n*n+r*r+a*a+o*o,s=i?1/i:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-a*s,e[3]=o*s,e},s.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},s.length=i.length,s.len=s.length,s.squaredLength=i.squaredLength,s.sqrLen=s.squaredLength,s.normalize=i.normalize,s.fromMat3=function(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[3*a+a]&&(a=2);var o=(a+1)%3,i=(a+2)%3;n=Math.sqrt(t[3*a+a]-t[3*o+o]-t[3*i+i]+1),e[a]=.5*n,n=.5/n,e[3]=(t[3*o+i]-t[3*i+o])*n,e[o]=(t[3*o+a]+t[3*a+o])*n,e[i]=(t[3*i+a]+t[3*a+i])*n}return e},s.str=function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},s.exactEquals=i.exactEquals,s.equals=i.equals,t.exports=s},{"./common.js":150,"./mat3.js":153,"./vec3.js":157,"./vec4.js":158}],156:[function(e,t,n){var r=e("./common.js"),a={};a.create=function(){var e=new r.ARRAY_TYPE(2);return e[0]=0,e[1]=0,e},a.clone=function(e){var t=new r.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},a.fromValues=function(e,t){var n=new r.ARRAY_TYPE(2);return n[0]=e,n[1]=t,n},a.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},a.set=function(e,t,n){return e[0]=t,e[1]=n,e},a.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},a.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},a.sub=a.subtract,a.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},a.mul=a.multiply,a.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},a.div=a.divide,a.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},a.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},a.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},a.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},a.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},a.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},a.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},a.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)},a.dist=a.distance,a.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r},a.sqrDist=a.squaredDistance,a.length=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)},a.len=a.length,a.squaredLength=function(e){var t=e[0],n=e[1];return t*t+n*n},a.sqrLen=a.squaredLength,a.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},a.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},a.normalize=function(e,t){var n=t[0],r=t[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a),e},a.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},a.cross=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e},a.lerp=function(e,t,n,r){var a=t[0],o=t[1];return e[0]=a+r*(n[0]-a),e[1]=o+r*(n[1]-o),e},a.random=function(e,t){t=t||1;var n=2*r.RANDOM()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},a.transformMat2=function(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a,e[1]=n[1]*r+n[3]*a,e},a.transformMat2d=function(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a+n[4],e[1]=n[1]*r+n[3]*a+n[5],e},a.transformMat3=function(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[3]*a+n[6],e[1]=n[1]*r+n[4]*a+n[7],e},a.transformMat4=function(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[4]*a+n[12],e[1]=n[1]*r+n[5]*a+n[13],e},a.forEach=function(){var e=a.create();return function(t,n,r,a,o,i){var s,u;for(n||(n=2),r||(r=0),u=a?Math.min(a*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],o(e,e,i),t[s]=e[0],t[s+1]=e[1];return t}}(),a.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},a.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]},a.equals=function(e,t){var n=e[0],a=e[1],o=t[0],i=t[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-i)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))},t.exports=a},{"./common.js":150}],157:[function(e,t,n){var r=e("./common.js"),a={};a.create=function(){var e=new r.ARRAY_TYPE(3);return e[0]=0,e[1]=0,e[2]=0,e},a.clone=function(e){var t=new r.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},a.fromValues=function(e,t,n){var a=new r.ARRAY_TYPE(3);return a[0]=e,a[1]=t,a[2]=n,a},a.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},a.set=function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e},a.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},a.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},a.sub=a.subtract,a.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e},a.mul=a.multiply,a.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},a.div=a.divide,a.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},a.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},a.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},a.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},a.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},a.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},a.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e},a.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return Math.sqrt(n*n+r*r+a*a)},a.dist=a.distance,a.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return n*n+r*r+a*a},a.sqrDist=a.squaredDistance,a.length=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)},a.len=a.length,a.squaredLength=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r},a.sqrLen=a.squaredLength,a.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},a.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},a.normalize=function(e,t){var n=t[0],r=t[1],a=t[2],o=n*n+r*r+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e},a.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},a.cross=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=n[0],s=n[1],u=n[2];return e[0]=a*u-o*s,e[1]=o*i-r*u,e[2]=r*s-a*i,e},a.lerp=function(e,t,n,r){var a=t[0],o=t[1],i=t[2];return e[0]=a+r*(n[0]-a),e[1]=o+r*(n[1]-o),e[2]=i+r*(n[2]-i),e},a.hermite=function(e,t,n,r,a,o){var i=o*o,s=i*(2*o-3)+1,u=i*(o-2)+o,l=i*(o-1),c=i*(3-2*o);return e[0]=t[0]*s+n[0]*u+r[0]*l+a[0]*c,e[1]=t[1]*s+n[1]*u+r[1]*l+a[1]*c,e[2]=t[2]*s+n[2]*u+r[2]*l+a[2]*c,e},a.bezier=function(e,t,n,r,a,o){var i=1-o,s=i*i,u=o*o,l=s*i,c=3*o*s,f=3*u*i,p=u*o;return e[0]=t[0]*l+n[0]*c+r[0]*f+a[0]*p,e[1]=t[1]*l+n[1]*c+r[1]*f+a[1]*p,e[2]=t[2]*l+n[2]*c+r[2]*f+a[2]*p,e},a.random=function(e,t){t=t||1;var n=2*r.RANDOM()*Math.PI,a=2*r.RANDOM()-1,o=Math.sqrt(1-a*a)*t;return e[0]=Math.cos(n)*o,e[1]=Math.sin(n)*o,e[2]=a*t,e},a.transformMat4=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=n[3]*r+n[7]*a+n[11]*o+n[15];return i=i||1,e[0]=(n[0]*r+n[4]*a+n[8]*o+n[12])/i,e[1]=(n[1]*r+n[5]*a+n[9]*o+n[13])/i,e[2]=(n[2]*r+n[6]*a+n[10]*o+n[14])/i,e},a.transformMat3=function(e,t,n){var r=t[0],a=t[1],o=t[2];return e[0]=r*n[0]+a*n[3]+o*n[6],e[1]=r*n[1]+a*n[4]+o*n[7],e[2]=r*n[2]+a*n[5]+o*n[8],e},a.transformQuat=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*a,f=l*a+u*r-i*o,p=l*o+i*a-s*r,d=-i*r-s*a-u*o;return e[0]=c*l+d*-i+f*-u-p*-s,e[1]=f*l+d*-s+p*-i-c*-u,e[2]=p*l+d*-u+c*-s-f*-i,e},a.rotateX=function(e,t,n,r){var a=[],o=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],o[0]=a[0],o[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),o[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},a.rotateY=function(e,t,n,r){var a=[],o=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],o[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),o[1]=a[1],o[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},a.rotateZ=function(e,t,n,r){var a=[],o=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],o[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),o[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),o[2]=a[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},a.forEach=function(){var e=a.create();return function(t,n,r,a,o,i){var s,u;for(n||(n=3),r||(r=0),u=a?Math.min(a*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],o(e,e,i),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}(),a.angle=function(e,t){var n=a.fromValues(e[0],e[1],e[2]),r=a.fromValues(t[0],t[1],t[2]);a.normalize(n,n),a.normalize(r,r);var o=a.dot(n,r);return o>1?0:Math.acos(o)},a.str=function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},a.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},a.equals=function(e,t){var n=e[0],a=e[1],o=e[2],i=t[0],s=t[1],u=t[2];return Math.abs(n-i)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(a-s)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))},t.exports=a},{"./common.js":150}],158:[function(e,t,n){var r=e("./common.js"),a={};a.create=function(){var e=new r.ARRAY_TYPE(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e},a.clone=function(e){var t=new r.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},a.fromValues=function(e,t,n,a){var o=new r.ARRAY_TYPE(4);return o[0]=e,o[1]=t,o[2]=n,o[3]=a,o},a.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},a.set=function(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e},a.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},a.subtract=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e},a.sub=a.subtract,a.multiply=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e},a.mul=a.multiply,a.divide=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e},a.div=a.divide,a.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},a.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},a.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e},a.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e},a.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},a.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},a.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e},a.distance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(n*n+r*r+a*a+o*o)},a.dist=a.distance,a.squaredDistance=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],o=t[3]-e[3];return n*n+r*r+a*a+o*o},a.sqrDist=a.squaredDistance,a.length=function(e){var t=e[0],n=e[1],r=e[2],a=e[3];return Math.sqrt(t*t+n*n+r*r+a*a)},a.len=a.length,a.squaredLength=function(e){var t=e[0],n=e[1],r=e[2],a=e[3];return t*t+n*n+r*r+a*a},a.sqrLen=a.squaredLength,a.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},a.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},a.normalize=function(e,t){var n=t[0],r=t[1],a=t[2],o=t[3],i=n*n+r*r+a*a+o*o;return i>0&&(i=1/Math.sqrt(i),e[0]=n*i,e[1]=r*i,e[2]=a*i,e[3]=o*i),e},a.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},a.lerp=function(e,t,n,r){var a=t[0],o=t[1],i=t[2],s=t[3];return e[0]=a+r*(n[0]-a),e[1]=o+r*(n[1]-o),e[2]=i+r*(n[2]-i),e[3]=s+r*(n[3]-s),e},a.random=function(e,t){return t=t||1,e[0]=r.RANDOM(),e[1]=r.RANDOM(),e[2]=r.RANDOM(),e[3]=r.RANDOM(),a.normalize(e,e),a.scale(e,e,t),e},a.transformMat4=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=t[3];return e[0]=n[0]*r+n[4]*a+n[8]*o+n[12]*i,e[1]=n[1]*r+n[5]*a+n[9]*o+n[13]*i,e[2]=n[2]*r+n[6]*a+n[10]*o+n[14]*i,e[3]=n[3]*r+n[7]*a+n[11]*o+n[15]*i,e},a.transformQuat=function(e,t,n){var r=t[0],a=t[1],o=t[2],i=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*a,f=l*a+u*r-i*o,p=l*o+i*a-s*r,d=-i*r-s*a-u*o;return e[0]=c*l+d*-i+f*-u-p*-s,e[1]=f*l+d*-s+p*-i-c*-u,e[2]=p*l+d*-u+c*-s-f*-i,e[3]=t[3],e},a.forEach=function(){var e=a.create();return function(t,n,r,a,o,i){var s,u;for(n||(n=4),r||(r=0),u=a?Math.min(a*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],o(e,e,i),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}(),a.str=function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},a.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},a.equals=function(e,t){var n=e[0],a=e[1],o=e[2],i=e[3],s=t[0],u=t[1],l=t[2],c=t[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-u)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-c)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))},t.exports=a},{"./common.js":150}],159:[function(e,t,n){"use strict";function r(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var o=new Int32Array(this.arrayBuffer);e=o[0],t=o[1],n=o[2],this.d=t+2*n;for(var i=0;i<this.d*this.d;i++){var s=o[a+i],u=o[a+i+1];r.push(s===u?null:o.subarray(s,u))}var l=o[a+r.length],c=o[a+r.length+1];this.keys=o.subarray(l,c),this.bboxes=o.subarray(c),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var f=0;f<this.d*this.d;f++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var p=n/t*e;this.min=-p,this.max=e+p}t.exports=r;var a=3;r.prototype.insert=function(e,t,n,r,a){this._forEachCell(t,n,r,a,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(a)},r.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},r.prototype._insertCell=function(e,t,n,r,a,o){this.cells[a].push(o)},r.prototype.query=function(e,t,n,r){var a=this.min,o=this.max;if(e<=a&&t<=a&&o<=n&&o<=r)return Array.prototype.slice.call(this.keys);var i=[],s={};return this._forEachCell(e,t,n,r,this._queryCell,i,s),i},r.prototype._queryCell=function(e,t,n,r,a,o,i){var s=this.cells[a];if(null!==s)for(var u=this.keys,l=this.bboxes,c=0;c<s.length;c++){var f=s[c];if(void 0===i[f]){var p=4*f;e<=l[p+2]&&t<=l[p+3]&&n>=l[p+0]&&r>=l[p+1]?(i[f]=!0,o.push(u[f])):i[f]=!1}}},r.prototype._forEachCell=function(e,t,n,r,a,o,i){for(var s=this._convertToCellCoord(e),u=this._convertToCellCoord(t),l=this._convertToCellCoord(n),c=this._convertToCellCoord(r),f=s;f<=l;f++)for(var p=u;p<=c;p++){var d=this.d*p+f;if(a.call(this,e,t,n,r,d,o,i))return}},r.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},r.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=a+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var o=new Int32Array(t+n+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var i=t,s=0;s<e.length;s++){var u=e[s];o[a+s]=i,o.set(u,i),i+=u.length}return o[a+e.length]=i,o.set(this.keys,i),i+=this.keys.length,o[a+e.length+1]=i,o.set(this.bboxes,i),i+=this.bboxes.length,o.buffer}},{}],160:[function(e,t,n){function r(e){return e>g?Math.pow(e,1/3):e/y+m}function a(e){return e>v?e*e*e:y*(e-m)}function o(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function i(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function s(e){var t=i(e[0]),n=i(e[1]),a=i(e[2]),o=r((.4124564*t+.3575761*n+.1804375*a)/p),s=r((.2126729*t+.7151522*n+.072175*a)/d),u=r((.0193339*t+.119192*n+.9503041*a)/h);return[116*s-16,500*(o-s),200*(s-u),e[3]]}function u(e){var t=(e[0]+16)/116,n=isNaN(e[1])?t:t+e[1]/500,r=isNaN(e[2])?t:t-e[2]/200;return t=d*a(t),n=p*a(n),r=h*a(r),[o(3.2404542*n-1.5371385*t-.4985314*r),o(-.969266*n+1.8760108*t+.041556*r),o(.0556434*n-.2040259*t+1.0572252*r),e[3]]}function l(e){var t=s(e),n=t[0],r=t[1],a=t[2],o=Math.atan2(a,r)*_;return[o<0?o+360:o,Math.sqrt(r*r+a*a),n,e[3]]}function c(e){var t=e[0]*b,n=e[1],r=e[2];return u([r,Math.cos(t)*n,Math.sin(t)*n,e[3]])}var f=18,p=.95047,d=1,h=1.08883,m=4/29,v=6/29,y=3*v*v,g=v*v*v,b=Math.PI/180,_=180/Math.PI;t.exports={lab:{forward:s,reverse:u},hcl:{forward:l,reverse:c}}},{}],161:[function(e,t,n){"use strict";function r(e){return e}function a(e,t){var n;if(p(e)){var l,c=e.stops&&"object"==typeof e.stops[0][0],f=c||void 0!==e.property,h=c||!f,m=e.stops&&typeof(c?e.stops[0][0].property:e.stops[0][0]),v=e.type||t||("string"===m?"categorical":"exponential");if("exponential"===v)l=s;else if("interval"===v)l=i;else if("categorical"===v)l=o;else{if("identity"!==v)throw new Error('Unknown function type "'+v+'"');l=u}var y;if(e.colorSpace&&"rgb"!==e.colorSpace){if(!d[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);var g=d[e.colorSpace];e=JSON.parse(JSON.stringify(e));for(var b=0;b<e.stops.length;b++)e.stops[b]=[e.stops[b][0],g.forward(e.stops[b][1])];y=g.reverse}else y=r;if(c){var _={},x=[];for(b=0;b<e.stops.length;b++){var w=e.stops[b];void 0===_[w[0].zoom]&&(_[w[0].zoom]={zoom:w[0].zoom,type:e.type,property:e.property,stops:[]}),_[w[0].zoom].stops.push([w[0].value,w[1]])}for(var E in _)x.push([_[E].zoom,a(_[E])]);n=function(t,n){return y(s({stops:x,base:e.base},t)(t,n))},n.isFeatureConstant=!1,n.isZoomConstant=!1}else h?(n=function(t){return y(l(e,t))},n.isFeatureConstant=!0,n.isZoomConstant=!1):(n=function(t,n){return y(l(e,n[e.property]))},n.isFeatureConstant=!1,n.isZoomConstant=!0)}else n=function(){return e},n.isFeatureConstant=!0,n.isZoomConstant=!0;return n}function o(e,t){for(var n=0;n<e.stops.length;n++)if(t===e.stops[n][0])return e.stops[n][1];return e.stops[0][1]}function i(e,t){for(var n=0;n<e.stops.length&&!(t<e.stops[n][0]);n++);return e.stops[Math.max(n-1,0)][1]}function s(e,t){for(var n=void 0!==e.base?e.base:1,r=0;;){if(r>=e.stops.length)break;if(t<=e.stops[r][0])break;r++}return 0===r?e.stops[r][1]:r===e.stops.length?e.stops[r-1][1]:l(t,n,e.stops[r-1][0],e.stops[r][0],e.stops[r-1][1],e.stops[r][1])}function u(e,t){return t}function l(e,t,n,r,a,o){return"function"==typeof a?function(){var i=a.apply(void 0,arguments),s=o.apply(void 0,arguments);return l(e,t,n,r,i,s)}:a.length?f(e,t,n,r,a,o):c(e,t,n,r,a,o)}function c(e,t,n,r,a,o){var i,s=r-n,u=e-n;return i=1===t?u/s:(Math.pow(t,u)-1)/(Math.pow(t,s)-1),a*(1-i)+o*i}function f(e,t,n,r,a,o){for(var i=[],s=0;s<a.length;s++)i[s]=c(e,t,n,r,a[s],o[s]);return i}function p(e){return"object"==typeof e&&(e.stops||"identity"===e.type)}var d=e("./color_spaces");t.exports.isFunctionDefinition=p,t.exports.interpolated=function(e){return a(e,"exponential")},t.exports["piecewise-constant"]=function(e){return a(e,"interval")}},{"./color_spaces":160}],162:[function(e,t,n){var r=e("path");t.exports={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nfloat evaluate_zoom_function_1(const vec4 values, const float t) {\n    if (t < 1.0) {\n        return mix(values[0], values[1], t);\n    } else if (t < 2.0) {\n        return mix(values[1], values[2], t - 1.0);\n    } else {\n        return mix(values[2], values[3], t - 2.0);\n    }\n}\nvec4 evaluate_zoom_function_4(const vec4 value0, const vec4 value1, const vec4 value2, const vec4 value3, const float t) {\n    if (t < 1.0) {\n        return mix(value0, value1, t);\n    } else if (t < 2.0) {\n        return mix(value1, value2, t - 1.0);\n    } else {\n        return mix(value2, value3, t - 2.0);\n    }\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},circle:{fragmentSource:"#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    float t = smoothstep(1.0 - max(blur, v_antialiasblur), 1.0, length(v_extrude));\n    gl_FragColor = color * (1.0 - t) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform vec2 u_extrude_scale;\nuniform float u_devicepixelratio;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main(void) {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    v_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5), 0, 1);\n\n    if (u_scale_with_map) {\n        gl_Position.xy += extrude;\n    } else {\n        gl_Position.xy += extrude * gl_Position.w;\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    v_antialiasblur = 1.0 / u_devicepixelratio / radius;\n}\n"},collisionBox:{fragmentSource:"uniform float u_zoom;\nuniform float u_maxzoom;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\n\n    if (v_placement_zoom > u_zoom) {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n    }\n\n    if (u_zoom >= v_max_zoom) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\n    }\n\n    if (v_placement_zoom >= u_maxzoom) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\n    }\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_scale;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos + a_extrude / u_scale, 0.0, 1.0);\n\n    v_max_zoom = a_data.x;\n    v_placement_zoom = a_data.y;\n}\n"},debug:{fragmentSource:"uniform lowp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, step(32767.0, a_pos.x), 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define lowp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = smoothstep(1.0, 0.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = smoothstep(1.0, 0.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize lowp vec4 color\n\n    gl_FragColor = v_color;\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\nuniform lowp vec4 u_outline_color;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define lowp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize lowp vec4 color\n\n    float ed = a_edgedistance; // use each attrib in order to not trip a VAO assert\n    float t = mod(a_normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n#ifdef OUTLINE\n    color = u_outline_color;\n#endif\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(a_normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    float t = mod(a_normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = a_normal.x == 1.0 && a_normal.y == 0.0 && a_normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(a_edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(a_normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_texture;\nuniform float u_opacity;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_texture, v_pos) * u_opacity;\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform int u_xdim;\nuniform int u_ydim;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos.x = a_pos.x / float(u_xdim);\n    v_pos.y = 1.0 - a_pos.y / float(u_ydim);\n}\n"},line:{fragmentSource:"uniform lowp float u_opacity;\nuniform float u_blur;\n\n#pragma mapbox: define lowp vec4 color\n\nvarying vec2 v_linewidth;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_linewidth.t - blur), v_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * u_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_linewidth;\nuniform mediump float u_gapwidth;\nuniform mediump float u_antialiasing;\nuniform mediump float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\nuniform mediump float u_blur;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    float inset = u_gapwidth + (u_gapwidth > 0.0 ? u_antialiasing : 0.0);\n    float outset = u_gapwidth + u_linewidth * (u_gapwidth > 0.0 ? 2.0 : 1.0) + u_antialiasing;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist) / u_ratio, 0.0, 1.0);\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_linewidth = vec2(outset, inset);\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},linePattern:{fragmentSource:"uniform float u_blur;\n\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_fade;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_linewidth.t - blur), v_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_linewidth.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_linewidth.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a, u_pattern_br_a, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b, u_pattern_br_b, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    alpha *= u_opacity;\n\n    gl_FragColor = color * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_linewidth;\nuniform mediump float u_gapwidth;\nuniform mediump float u_antialiasing;\nuniform mediump float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    float inset = u_gapwidth + (u_gapwidth > 0.0 ? u_antialiasing : 0.0);\n    float outset = u_gapwidth + u_linewidth * (u_gapwidth > 0.0 ? 2.0 : 1.0) + u_antialiasing;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist) / u_ratio, 0.0, 1.0);\n    v_linesofar = a_linesofar;\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_linewidth = vec2(outset, inset);\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},lineSDF:{fragmentSource:"uniform lowp float u_opacity;\n\nuniform float u_blur;\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_linewidth.t - blur), v_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma, 0.5 + u_sdfgamma, sdfdist);\n\n    gl_FragColor = color * (alpha * u_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_linewidth;\nuniform mediump float u_gapwidth;\nuniform mediump float u_antialiasing;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    float inset = u_gapwidth + (u_gapwidth > 0.0 ? u_antialiasing : 0.0);\n    float outset = u_gapwidth + u_linewidth * (u_gapwidth > 0.0 ? 2.0 : 1.0) + u_antialiasing;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist) / u_ratio, 0.0, 1.0);\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_linewidth = vec2(outset, inset);\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},raster:{fragmentSource:"uniform float u_opacity0;\nuniform float u_opacity1;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    vec4 color = color0 * u_opacity0 + color1 * u_opacity1;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb), color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos0 = (((a_texture_pos / 32767.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform lowp float u_opacity;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    lowp float alpha = texture2D(u_fadetexture, v_fade_tex).a * u_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec2 a_texture_pos;\nattribute vec4 a_data;\n\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    vec2 a_tex = a_texture_pos.xy;\n    mediump float a_labelminzoom = a_data[0];\n    mediump vec2 a_zoom = a_data.pq;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    vec2 extrude = u_extrude_scale * (a_offset / 64.0);\n    if (u_rotate_with_map) {\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    } else {\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n"},symbolSDF:{fragmentSource:"uniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform lowp vec4 u_color;\nuniform lowp float u_opacity;\nuniform lowp float u_buffer;\nuniform lowp float u_gamma;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\n\nvoid main() {\n    lowp float dist = texture2D(u_texture, v_tex).a;\n    lowp float fade_alpha = texture2D(u_fadetexture, v_fade_tex).a;\n    lowp float gamma = u_gamma * v_gamma_scale;\n    lowp float alpha = smoothstep(u_buffer - gamma, u_buffer + gamma, dist) * fade_alpha;\n\n    gl_FragColor = u_color * (alpha * u_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec2 a_texture_pos;\nattribute vec4 a_data;\n\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform bool u_pitch_with_map;\nuniform mediump float u_pitch;\nuniform mediump float u_bearing;\nuniform mediump float u_aspect_ratio;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_tex = a_texture_pos.xy;\n    mediump float a_labelminzoom = a_data[0];\n    mediump vec2 a_zoom = a_data.pq;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    // pitch-alignment: map\n    // rotation-alignment: map | viewport\n    if (u_pitch_with_map) {\n        lowp float angle = u_rotate_with_map ? (a_data[1] / 256.0 * 2.0 * PI) : u_bearing;\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, asin, -1.0 * asin, acos);\n        vec2 offset = RotationMatrix * a_offset;\n        vec2 extrude = u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: map\n    } else if (u_rotate_with_map) {\n        // foreshortening factor to apply on pitched maps\n        // as a label goes from horizontal <=> vertical in angle\n        // it goes from 0% foreshortening to up to around 70% foreshortening\n        lowp float pitchfactor = 1.0 - cos(u_pitch * sin(u_pitch * 0.75));\n\n        lowp float lineangle = a_data[1] / 256.0 * 2.0 * PI;\n\n        // use the lineangle to position points a,b along the line\n        // project the points and calculate the label angle in projected space\n        // this calculation allows labels to be rendered unskewed on pitched maps\n        vec4 a = u_matrix * vec4(a_pos, 0, 1);\n        vec4 b = u_matrix * vec4(a_pos + vec2(cos(lineangle),sin(lineangle)), 0, 1);\n        lowp float angle = atan((b[1]/b[3] - a[1]/a[3])/u_aspect_ratio, b[0]/b[3] - a[0]/a[3]);\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, -1.0 * asin, asin, acos);\n\n        vec2 offset = RotationMatrix * (vec2((1.0-pitchfactor)+(pitchfactor*cos(angle*2.0)), 1.0) * a_offset);\n        vec2 extrude = u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: viewport\n    } else {\n        vec2 extrude = u_extrude_scale * (a_offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_gamma_scale = (gl_Position.w - 0.5);\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n"}}},{path:130}],163:[function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)"ref"!==r&&(n[r]=e[r]);return a.forEach(function(e){e in t&&(n[e]=t[e])}),n}var a=e("./util/ref_properties");t.exports=function(e){e=e.slice();var t,n=Object.create(null);for(t=0;t<e.length;t++)n[e[t].id]=e[t];for(t=0;t<e.length;t++)"ref"in e[t]&&(e[t]=r(e[t],n[e[t].ref]));return e}},{"./util/ref_properties":168}],164:[function(e,t,n){"use strict";function r(e,t){this.message=(e?e+": ":"")+a.apply(a,Array.prototype.slice.call(arguments,2)),null!==t&&void 0!==t&&t.__line__&&(this.line=t.__line__)}var a=e("util").format;t.exports=r},{util:134}],165:[function(e,t,n){"use strict";function r(e){return o(a.map(function(t){return e[t]}))}var a=e("./util/ref_properties"),o=e("fast-stable-stringify");t.exports=function(e){var t,n,a={};for(t=0;t<e.length;t++){n=r(e[t]);var o=a[n];o||(o=a[n]=[]),o.push(e[t])}var i=[];for(n in a)i.push(a[n]);return i}},{"./util/ref_properties":168,"fast-stable-stringify":188}],166:[function(e,t,n){"use strict";t.exports=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}},{}],167:[function(e,t,n){"use strict";t.exports=function(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}},{}],168:[function(e,t,n){"use strict";t.exports=["type","source","source-layer","minzoom","maxzoom","filter","layout"]},{}],169:[function(e,t,n){"use strict";t.exports=function(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}},{}],170:[function(e,t,n){"use strict";var r=e("../error/validation_error"),a=e("../util/get_type"),o=e("../util/extend");t.exports=function(t){var n=e("./validate_function"),i=e("./validate_object"),s={"*":function(){return[]},array:e("./validate_array"),boolean:e("./validate_boolean"),number:e("./validate_number"),color:e("./validate_color"),constants:e("./validate_constants"),enum:e("./validate_enum"),filter:e("./validate_filter"),function:e("./validate_function"),layer:e("./validate_layer"),object:e("./validate_object"),source:e("./validate_source"),string:e("./validate_string")},u=t.value,l=t.valueSpec,c=t.key,f=t.styleSpec,p=t.style;if("string"===a(u)&&"@"===u[0]){if(f.$version>7)return[new r(c,u,"constants have been deprecated as of v8")];if(!(u in p.constants))return[new r(c,u,'constant "%s" not found',u)];t=o({},t,{value:p.constants[u]})}return l.function&&"object"===a(u)?n(t):l.type&&s[l.type]?s[l.type](t):i(o({},t,{valueSpec:l.type?f[l.type]:l}))}},{"../error/validation_error":164,"../util/extend":166,"../util/get_type":167,"./validate_array":171,"./validate_boolean":172,"./validate_color":173,"./validate_constants":174,"./validate_enum":175,"./validate_filter":176,"./validate_function":177,"./validate_layer":179,"./validate_number":182,"./validate_object":183,"./validate_source":185,"./validate_string":186}],171:[function(e,t,n){"use strict";var r=e("../util/get_type"),a=e("./validate"),o=e("../error/validation_error");t.exports=function(e){var t=e.value,n=e.valueSpec,i=e.style,s=e.styleSpec,u=e.key,l=e.arrayElementValidator||a;if("array"!==r(t))return[new o(u,t,"array expected, %s found",r(t))];if(n.length&&t.length!==n.length)return[new o(u,t,"array length %d expected, length %d found",n.length,t.length)];if(n["min-length"]&&t.length<n["min-length"])return[new o(u,t,"array length at least %d expected, length %d found",n["min-length"],t.length)];var c={type:n.value};s.$version<7&&(c.function=n.function),"object"===r(n.value)&&(c=n.value);for(var f=[],p=0;p<t.length;p++)f=f.concat(l({array:t,arrayIndex:p,value:t[p],valueSpec:c,style:i,styleSpec:s,key:u+"["+p+"]"}));return f}},{"../error/validation_error":164,"../util/get_type":167,"./validate":170}],172:[function(e,t,n){"use strict";var r=e("../util/get_type"),a=e("../error/validation_error");t.exports=function(e){var t=e.value,n=e.key,o=r(t);return"boolean"!==o?[new a(n,t,"boolean expected, %s found",o)]:[]}},{"../error/validation_error":164,"../util/get_type":167}],173:[function(e,t,n){"use strict";var r=e("../error/validation_error"),a=e("../util/get_type"),o=e("csscolorparser").parseCSSColor;t.exports=function(e){var t=e.key,n=e.value,i=a(n);return"string"!==i?[new r(t,n,"color expected, %s found",i)]:null===o(n)?[new r(t,n,'color expected, "%s" found',n)]:[]}},{"../error/validation_error":164,"../util/get_type":167,csscolorparser:135}],174:[function(e,t,n){"use strict";var r=e("../error/validation_error"),a=e("../util/get_type");t.exports=function(e){var t=e.key,n=e.value,o=e.styleSpec;if(o.$version>7)return n?[new r(t,n,"constants have been deprecated as of v8")]:[];var i=a(n);if("object"!==i)return[new r(t,n,"object expected, %s found",i)];var s=[];for(var u in n)"@"!==u[0]&&s.push(new r(t+"."+u,n[u],'constants must start with "@"'));return s}},{"../error/validation_error":164,"../util/get_type":167}],175:[function(e,t,n){"use strict";var r=e("../error/validation_error"),a=e("../util/unbundle_jsonlint");t.exports=function(e){var t=e.key,n=e.value,o=e.valueSpec,i=[];return Array.isArray(o.values)?o.values.indexOf(a(n))===-1&&i.push(new r(t,n,"expected one of [%s], %s found",o.values.join(", "),n)):Object.keys(o.values).indexOf(a(n))===-1&&i.push(new r(t,n,"expected one of [%s], %s found",Object.keys(o.values).join(", "),n)),i}},{"../error/validation_error":164,"../util/unbundle_jsonlint":169}],176:[function(e,t,n){"use strict";var r=e("../error/validation_error"),a=e("./validate_enum"),o=e("../util/get_type"),i=e("../util/unbundle_jsonlint");t.exports=function e(t){var n,s=t.value,u=t.key,l=t.styleSpec,c=[];if("array"!==o(s))return[new r(u,s,"array expected, %s found",o(s))];if(s.length<1)return[new r(u,s,"filter array must have at least 1 element")];switch(c=c.concat(a({key:u+"[0]",value:s[0],valueSpec:l.filter_operator,style:t.style,styleSpec:t.styleSpec})),i(s[0])){case"<":case"<=":case">":case">=":s.length>=2&&"$type"==s[1]&&c.push(new r(u,s,'"$type" cannot be use with operator "%s"',s[0]));case"==":case"!=":3!=s.length&&c.push(new r(u,s,'filter array for operator "%s" must have 3 elements',s[0]));case"in":case"!in":s.length>=2&&(n=o(s[1]),"string"!==n?c.push(new r(u+"[1]",s[1],"string expected, %s found",n)):"@"===s[1][0]&&c.push(new r(u+"[1]",s[1],"filter key cannot be a constant")));for(var f=2;f<s.length;f++)n=o(s[f]),"$type"==s[1]?c=c.concat(a({key:u+"["+f+"]",value:s[f],valueSpec:l.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"===n&&"@"===s[f][0]?c.push(new r(u+"["+f+"]",s[f],"filter value cannot be a constant")):"string"!==n&&"number"!==n&&"boolean"!==n&&c.push(new r(u+"["+f+"]",s[f],"string, number, or boolean expected, %s found",n));break;case"any":case"all":case"none":for(f=1;f<s.length;f++)c=c.concat(e({key:u+"["+f+"]",value:s[f],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":n=o(s[1]),2!==s.length?c.push(new r(u,s,'filter array for "%s" operator must have 2 elements',s[0])):"string"!==n?c.push(new r(u+"[1]",s[1],"string expected, %s found",n)):"@"===s[1][0]&&c.push(new r(u+"[1]",s[1],"filter key cannot be a constant"))}return c}},{"../error/validation_error":164,"../util/get_type":167,"../util/unbundle_jsonlint":169,"./validate_enum":175}],177:[function(e,t,n){"use strict";var r=e("../error/validation_error"),a=e("../util/get_type"),o=e("./validate"),i=e("./validate_object"),s=e("./validate_array"),u=e("./validate_number"),l=e("../util/unbundle_jsonlint");t.exports=function(e){function t(e){if("identity"===l(d.type))return[new r(e.key,e.value,'identity function may not have a "stops" property')];var t=[],o=e.value;return t=t.concat(s({key:e.key,value:o,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:n})),"array"===a(o)&&0===o.length&&t.push(new r(e.key,o,"array must have at least one stop")),t}function n(e){var t=[],n=e.value,s=e.key;if("array"!==a(n))return[new r(s,n,"array expected, %s found",a(n))];if(2!==n.length)return[new r(s,n,"array length %d expected, length %d found",2,n.length)];var l=a(n[0]);if(f||(f=l),l!==f)return[new r(s,n,"%s stop key type must match previous stop key type %s",l,f)];if("object"===l){if(void 0===n[0].zoom)return[new r(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new r(s,n,"object stop key must have value")];t=t.concat(i({key:s+"[0]",value:n[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:u,value:c}}))}else t=t.concat((m?u:c)({key:s+"[0]",value:n[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec}));return t=t.concat(o({key:s+"[1]",value:n[1],valueSpec:p,style:e.style,styleSpec:e.styleSpec})),"number"===a(n[0])&&("piecewise-constant"===p.function&&n[0]%1!==0&&t.push(new r(s+"[0]",n[0],"zoom level for piecewise-constant functions must be an integer")),0!==e.arrayIndex&&n[0]<e.array[e.arrayIndex-1][0]&&t.push(new r(s+"[0]",n[0],"array stops must appear in ascending order"))),t}function c(e){var t=[],n=a(e.value);return"number"!==n&&"string"!==n&&"array"!==n&&t.push(new r(e.key,e.value,"property value must be a number, string or array")),t}var f,p=e.valueSpec,d=e.value,h=void 0!==e.value.property||"object"===f,m=void 0===e.value.property||"object"===f,v=i({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:t}});return"identity"===l(e.value.type)||e.value.stops||v.push(new r(e.key,e.value,'missing required property "stops"')),e.styleSpec.$version>=8&&(h&&!e.valueSpec["property-function"]?v.push(new r(e.key,e.value,"property functions not supported")):m&&!e.valueSpec["zoom-function"]&&v.push(new r(e.key,e.value,"zoom functions not supported"))),v}},{"../error/validation_error":164,"../util/get_type":167,"../util/unbundle_jsonlint":169,"./validate":170,"./validate_array":171,"./validate_number":182,"./validate_object":183}],178:[function(e,t,n){"use strict";var r=e("../error/validation_error"),a=e("./validate_string");t.exports=function(e){var t=e.value,n=e.key,o=a(e);return o.length?o:(t.indexOf("{fontstack}")===-1&&o.push(new r(n,t,'"glyphs" url must include a "{fontstack}" token')),t.indexOf("{range}")===-1&&o.push(new r(n,t,'"glyphs" url must include a "{range}" token')),o)}},{"../error/validation_error":164,"./validate_string":186}],179:[function(e,t,n){"use strict";var r=e("../error/validation_error"),a=e("../util/unbundle_jsonlint"),o=e("./validate_object"),i=e("./validate_filter"),s=e("./validate_paint_property"),u=e("./validate_layout_property"),l=e("../util/extend");t.exports=function(e){var t=[],n=e.value,c=e.key,f=e.style,p=e.styleSpec;n.type||n.ref||t.push(new r(c,n,'either "type" or "ref" is required'));var d=a(n.type),h=a(n.ref);if(n.id)for(var m=0;m<e.arrayIndex;m++){var v=f.layers[m];a(v.id)===a(n.id)&&t.push(new r(c,n.id,'duplicate layer id "%s", previously used at line %d',n.id,v.id.__line__))}if("ref"in n){["type","source","source-layer","filter","layout"].forEach(function(e){e in n&&t.push(new r(c,n[e],'"%s" is prohibited for ref layers',e))});var y;f.layers.forEach(function(e){e.id==h&&(y=e)}),y?y.ref?t.push(new r(c,n.ref,"ref cannot reference another ref layer")):d=a(y.type):t.push(new r(c,n.ref,'ref layer "%s" not found',h))}else if("background"!==d)if(n.source){var g=f.sources&&f.sources[n.source];g?"vector"==g.type&&"raster"==d?t.push(new r(c,n.source,'layer "%s" requires a raster source',n.id)):"raster"==g.type&&"raster"!=d?t.push(new r(c,n.source,'layer "%s" requires a vector source',n.id)):"vector"!=g.type||n["source-layer"]||t.push(new r(c,n,'layer "%s" must specify a "source-layer"',n.id)):t.push(new r(c,n.source,'source "%s" not found',n.source))}else t.push(new r(c,n,'missing required property "source"'));return t=t.concat(o({key:c,value:n,valueSpec:p.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{filter:i,layout:function(e){return o({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return u(l({layerType:d},e))}}})},paint:function(e){return o({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return s(l({layerType:d},e))}}})}}}))}},{"../error/validation_error":164,"../util/extend":166,"../util/unbundle_jsonlint":169,"./validate_filter":176,"./validate_layout_property":180,"./validate_object":183,"./validate_paint_property":184}],180:[function(e,t,n){"use strict";var r=e("./validate"),a=e("../error/validation_error");t.exports=function(e){var t=e.key,n=e.style,o=e.styleSpec,i=e.value,s=e.objectKey,u=o["layout_"+e.layerType];if(!u)return[];if(e.valueSpec||u[s]){var l=[];return"symbol"===e.layerType&&("icon-image"===s&&n&&!n.sprite?l.push(new a(t,i,'use of "icon-image" requires a style "sprite" property')):"text-field"===s&&n&&!n.glyphs&&l.push(new a(t,i,'use of "text-field" requires a style "glyphs" property'))),l.concat(r({key:e.key,value:i,valueSpec:e.valueSpec||u[s],style:n,styleSpec:o}))}return[new a(t,i,'unknown property "%s"',s)]}},{"../error/validation_error":164,"./validate":170}],181:[function(e,t,n){"use strict";var r=e("../error/validation_error"),a=e("../util/get_type"),o=e("./validate"),i={enum:e("./validate_enum"),color:e("./validate_color"),array:e("./validate_array"),number:e("./validate_number"),function:e("./validate_function")};t.exports=function(e){var t,n=e.value,s=e.styleSpec,u=s.light,l=e.style,c=[];for(var f in n){var p=f.match(/^(.*)-transition$/);if(p&&u[p[1]]&&u[p[1]].transition){var d=p[1];t=u[d].type,c=c.concat(o({key:f,value:n[f],valueSpec:s.transition,style:l,styleSpec:s}))}else u[f]?(t=u[f].type,u[f].function&&"object"===a(n[f])&&(t="function"),c=c.concat(i[t]({key:f,value:n[f],valueSpec:u[f],style:l,styleSpec:s}))):c=c.concat([new r(f,n[f],'unknown property "%s"',f)])}return c}},{"../error/validation_error":164,"../util/get_type":167,"./validate":170,"./validate_array":171,"./validate_color":173,"./validate_enum":175,"./validate_function":177,"./validate_number":182}],182:[function(e,t,n){"use strict";var r=e("../util/get_type"),a=e("../error/validation_error");t.exports=function(e){var t=e.key,n=e.value,o=e.valueSpec,i=r(n);return"number"!==i?[new a(t,n,"number expected, %s found",i)]:"minimum"in o&&n<o.minimum?[new a(t,n,"%s is less than the minimum value %s",n,o.minimum)]:"maximum"in o&&n>o.maximum?[new a(t,n,"%s is greater than the maximum value %s",n,o.maximum)]:[]}},{"../error/validation_error":164,"../util/get_type":167}],183:[function(e,t,n){"use strict";var r=e("../error/validation_error"),a=e("../util/get_type"),o=e("./validate");t.exports=function(e){var t=e.key,n=e.value,i=e.valueSpec,s=e.objectElementValidators||{},u=e.style,l=e.styleSpec,c=[],f=a(n);if("object"!==f)return[new r(t,n,"object expected, %s found",f)];for(var p in n){var d=p.split(".")[0],h=i&&(i[d]||i["*"]),m=s[d]||s["*"];h||m?c=c.concat((m||o)({key:(t?t+".":t)+p,value:n[p],valueSpec:h,style:u,styleSpec:l,object:n,objectKey:p})):""!==t&&1!==t.split(".").length&&c.push(new r(t,n[p],'unknown property "%s"',p))}for(d in i)i[d].required&&void 0===i[d].default&&void 0===n[d]&&c.push(new r(t,n,'missing required property "%s"',d));return c}},{"../error/validation_error":164,"../util/get_type":167,"./validate":170}],184:[function(e,t,n){"use strict";var r=e("./validate"),a=e("../error/validation_error");t.exports=function(e){var t=e.key,n=e.style,o=e.styleSpec,i=e.value,s=e.objectKey,u=o["paint_"+e.layerType];if(!u)return[];var l=s.match(/^(.*)-transition$/);return l&&u[l[1]]&&u[l[1]].transition?r({key:t,value:i,valueSpec:o.transition,style:n,styleSpec:o}):e.valueSpec||u[s]?r({key:e.key,value:i,valueSpec:e.valueSpec||u[s],style:n,styleSpec:o}):[new a(t,i,'unknown property "%s"',s)]}},{"../error/validation_error":164,"./validate":170}],185:[function(e,t,n){"use strict";var r=e("../error/validation_error"),a=e("../util/unbundle_jsonlint"),o=e("./validate_object"),i=e("./validate_enum");t.exports=function(e){var t=e.value,n=e.key,s=e.styleSpec,u=e.style;if(!t.type)return[new r(n,t,'"type" is required')];var l=a(t.type);switch(l){case"vector":case"raster":var c=[];if(c=c.concat(o({key:n,value:t,valueSpec:s.source_tile,style:e.style,styleSpec:s})),"url"in t)for(var f in t)["type","url","tileSize"].indexOf(f)<0&&c.push(new r(n+"."+f,t[f],'a source with a "url" property may not include a "%s" property',f));return c;case"geojson":return o({key:n,value:t,valueSpec:s.source_geojson,style:u,styleSpec:s});case"video":return o({key:n,value:t,valueSpec:s.source_video,style:u,styleSpec:s});case"image":return o({key:n,value:t,valueSpec:s.source_image,style:u,styleSpec:s});default:return i({key:n+".type",value:t.type,valueSpec:{values:["vector","raster","geojson","video","image"]},style:u,styleSpec:s})}}},{"../error/validation_error":164,"../util/unbundle_jsonlint":169,"./validate_enum":175,"./validate_object":183}],186:[function(e,t,n){"use strict";var r=e("../util/get_type"),a=e("../error/validation_error");t.exports=function(e){var t=e.value,n=e.key,o=r(t);return"string"!==o?[new a(n,t,"string expected, %s found",o)]:[]}},{"../error/validation_error":164,"../util/get_type":167}],187:[function(e,t,n){"use strict";function r(e,t){t=t||u;var n=[];return n=n.concat(s({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:l}})),t.$version>7&&e.constants&&(n=n.concat(i({key:"constants",value:e.constants,style:e,styleSpec:t}))),a(n)}function a(e){return[].concat(e).sort(function(e,t){return e.line-t.line})}function o(e){return function(){return a(e.apply(this,arguments))}}var i=e("./validate/validate_constants"),s=e("./validate/validate"),u=e("../reference/latest.min"),l=e("./validate/validate_glyphs_url");r.source=o(e("./validate/validate_source")),r.light=o(e("./validate/validate_light")),r.layer=o(e("./validate/validate_layer")),r.filter=o(e("./validate/validate_filter")),r.paintProperty=o(e("./validate/validate_paint_property")),r.layoutProperty=o(e("./validate/validate_layout_property")),t.exports=r},{"../reference/latest.min":189,"./validate/validate":170,"./validate/validate_constants":174,"./validate/validate_filter":176,"./validate/validate_glyphs_url":178,"./validate/validate_layer":179,"./validate/validate_layout_property":180,"./validate/validate_light":181,"./validate/validate_paint_property":184,"./validate/validate_source":185}],188:[function(e,t,n){function r(e){var t,n,a,l,c,f;switch(typeof e){case"object":if(null===e)return null;if(o(e)){for(a="[",n=e.length-1,t=0;t<n;t++)a+=r(e[t])+",";return n>-1&&(a+=r(e[t])),a+"]"}for(l=i(e).sort(),n=l.length,a="{",c=l[t=0],f=n>0&&void 0!==e[c];t<n;)f?(a+='"'+c.replace(s,u)+'":'+r(e[c]),c=l[++t],f=t<n&&void 0!==e[c],f&&(a+=",")):(c=l[++t],f=t<n&&void 0!==e[c]);return a+"}";case"undefined":return null;case"string":return'"'+e.replace(s,u)+'"';default:return e}}var a={}.toString,o=Array.isArray||function(e){return"[object Array]"===a.call(e)},i=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},s=/[\u0000-\u001f"\\]/g,u=function(e){var t=e.charCodeAt(0);switch(t){case 34:return'\\"';case 92:return"\\\\";case 12:return"\\f";case 10:return"\\n";case 13:return"\\r";case 9:return"\\t";case 8:return"\\b";default:return t>15?"\\u00"+t.toString(16):"\\u000"+t.toString(16)}};t.exports=function(e){if(void 0!==e)return""+r(e)},t.exports.stringSearch=s,t.exports.stringReplace=u},{}],189:[function(e,t,n){t.exports=e("./v8.min.json")},{"./v8.min.json":190}],190:[function(e,t,n){t.exports={$version:8,$root:{version:{required:true,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:true,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:true,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_tile","source_geojson","source_video","source_image"],source_tile:{type:{required:true,type:"enum",values:{vector:{},raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},"*":{type:"*"}},source_geojson:{type:{required:true,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:false},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"}},source_video:{type:{required:true,type:"enum",values:{video:{}}},urls:{required:true,type:"array",value:"string"},coordinates:{required:true,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:true,type:"enum",values:{image:{}}},url:{required:true,type:"string"},coordinates:{required:true,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:true},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},"fill-extrusion":{},raster:{},background:{}}},metadata:{type:"*"},ref:{type:"string"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:22},maxzoom:{type:"number",minimum:0,maximum:22},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"},"paint.*":{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_fill-extrusion","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum",function:"piecewise-constant","zoom-function":true,values:{visible:{},none:{}},default:"visible"}},layout_fill:{visibility:{type:"enum",function:"piecewise-constant","zoom-function":true,values:{visible:{},none:{}},default:"visible"}},layout_circle:{visibility:{type:"enum",function:"piecewise-constant","zoom-function":true,values:{visible:{},none:{}},default:"visible"}},"layout_fill-extrusion":{visibility:{type:"enum",function:"piecewise-constant","zoom-function":true,values:{visible:{},none:{}},default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{butt:{},round:{},square:{}},default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{bevel:{},round:{},miter:{}},default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":true,"property-function":true,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":true,"property-function":true,requires:[{"line-join":"round"}]},visibility:{type:"enum",function:"piecewise-constant","zoom-function":true,values:{visible:{},none:{}},default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{point:{},line:{}},default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":true,"property-function":true,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":true,"property-function":true,default:false},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":true,"property-function":true,default:false,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":true,"property-function":true,default:false,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":true,"property-function":true,default:false,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":false,values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":true,"property-function":true,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":true,"property-function":true,tokens:true},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":true,"property-function":true,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":true,"property-function":true,default:false,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,"property-function":true,requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":true,"property-function":true,default:"",tokens:true},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":true,"property-function":true,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":true,"property-function":true,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":true,"property-function":true,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":true,"property-function":true,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":true,"property-function":true,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{left:{},center:{},right:{}},default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":true,"property-function":true,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":true,"property-function":true,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":true,"property-function":true,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":true,"property-function":true,default:true,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":true,"property-function":true,length:2,default:[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":true,"property-function":true,default:false,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":true,"property-function":true,default:false,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":true,"property-function":true,default:false,requires:["text-field","icon-image"]},visibility:{type:"enum",function:"piecewise-constant","zoom-function":true,values:{visible:{},none:{}},default:"visible"}},layout_raster:{visibility:{type:"enum",function:"piecewise-constant","zoom-function":true,values:{visible:{},none:{}},default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},transition:false},position:{type:"array",default:[1.15,210,30],length:3,value:"number",transition:true,function:"interpolated","zoom-function":true,"property-function":false},color:{type:"color",default:"#ffffff",function:"interpolated","zoom-function":true,"property-function":false,transition:true},intensity:{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":false,transition:true}},paint:["paint_fill","paint_line","paint_circle","paint_fill-extrusion","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":true,"property-function":true,default:true},"fill-opacity":{type:"number",function:"interpolated","zoom-function":true,"property-function":true,default:1,minimum:0,maximum:1,transition:true},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:[{"!":"fill-pattern"},{"fill-antialias":true}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{map:{},viewport:{}},default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":true,"property-function":true,transition:true}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":true,"property-function":false,default:1,minimum:0,maximum:1,transition:true},"fill-extrusion-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:[{"!":"fill-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,"property-function":false,transition:true,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":false,values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":true,"property-function":false,transition:true},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":true,"property-function":true,default:0,minimum:0,units:"meters",transition:true},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":true,"property-function":true,default:0,minimum:0,units:"meters",transition:true,requires:[{"<=":"fill-extrusion-height"}]}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":true,"property-function":true,default:1,minimum:0,maximum:1,transition:true},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{map:{},viewport:{}},default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":true,"property-function":true,minimum:0,transition:true,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":true,"property-function":true,transition:true}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":true,transition:true},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{map:{},viewport:{}},default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{map:{},viewport:{}},default:"map"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,transition:true},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":true,transition:true,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":true,default:0,minimum:0,maximum:1,transition:true},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":true,default:1,minimum:0,maximum:1,transition:true},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":true,transition:true},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":true,transition:true},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":true,transition:true,units:"milliseconds"}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,transition:true,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":true,transition:true},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,transition:true}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}}}},{}],191:[function(e,t,n){"use strict";function r(e){return!!(a()&&o()&&i()&&s()&&u()&&l()&&c()&&f(e&&e.failIfMajorPerformanceCaveat))}function a(){return"undefined"!=typeof window&&"undefined"!=typeof document}function o(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function i(){return Function.prototype&&Function.prototype.bind}function s(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function u(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function l(){return"Worker"in window}function c(){return"Uint8ClampedArray"in window}function f(e){return void 0===d[e]&&(d[e]=p(e)),d[e]}function p(e){var t=document.createElement("canvas"),n=Object.create(r.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.probablySupportsContext?t.probablySupportsContext("webgl",n)||t.probablySupportsContext("experimental-webgl",n):t.supportsContext?t.supportsContext("webgl",n)||t.supportsContext("experimental-webgl",n):t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}"undefined"!=typeof t&&t.exports?t.exports=r:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=r);var d={};r.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],192:[function(e,t,n){"use strict";function r(e){var t;e&&e.length&&(t=e,e=t.length);var n=new Uint8Array(e||0);return t&&n.set(t),n.readUInt32LE=i.readUInt32LE,n.writeUInt32LE=i.writeUInt32LE,n.readInt32LE=i.readInt32LE,n.writeInt32LE=i.writeInt32LE,n.readFloatLE=i.readFloatLE,n.writeFloatLE=i.writeFloatLE,n.readDoubleLE=i.readDoubleLE,n.writeDoubleLE=i.writeDoubleLE,n.toString=i.toString,n.write=i.write,n.slice=i.slice,n.copy=i.copy,n._isBuffer=!0,n}function a(e){for(var t,n,r=e.length,a=[],o=0;o<r;o++){if(t=e.charCodeAt(o),t>55295&&t<57344){if(!n){t>56319||o+1===r?a.push(239,191,189):n=t;continue}if(t<56320){a.push(239,191,189),n=t;continue}t=n-55296<<10|t-56320|65536,n=null}else n&&(a.push(239,191,189),n=null);t<128?a.push(t):t<2048?a.push(t>>6|192,63&t|128):t<65536?a.push(t>>12|224,t>>6&63|128,63&t|128):a.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}return a}t.exports=r;var o=e("ieee754"),i,s,u;i={readUInt32LE:function(e){return(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},writeUInt32LE:function(e,t){this[t]=e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24},readInt32LE:function(e){return(this[e]|this[e+1]<<8|this[e+2]<<16)+(this[e+3]<<24)},readFloatLE:function(e){return o.read(this,e,!0,23,4)},readDoubleLE:function(e){return o.read(this,e,!0,52,8)},writeFloatLE:function(e,t){return o.write(this,e,t,!0,23,4)},writeDoubleLE:function(e,t){return o.write(this,e,t,!0,52,8)},toString:function(e,t,n){var r="",a="";t=t||0,n=Math.min(this.length,n||this.length);for(var o=t;o<n;o++){var i=this[o];i<=127?(r+=decodeURIComponent(a)+String.fromCharCode(i),a=""):a+="%"+i.toString(16)}return r+=decodeURIComponent(a)},write:function(e,t){for(var n=e===s?u:a(e),r=0;r<n.length;r++)this[t+r]=n[r]},slice:function(e,t){return this.subarray(e,t)},copy:function(e,t){t=t||0;for(var n=0;n<this.length;n++)e[t+n]=this[n]}},i.writeInt32LE=i.writeUInt32LE,r.byteLength=function(e){return s=e,u=a(e),u.length},r.isBuffer=function(e){return!(!e||!e._isBuffer)}},{ieee754:194}],193:[function(e,t,r){(function(n){"use strict";function r(e){this.buf=v.isBuffer(e)?e:new v(e||0),this.pos=0,this.length=this.buf.length}function a(e,t){var n,r=t.buf;if(n=r[t.pos++],e+=268435456*(127&n),n<128)return e;if(n=r[t.pos++],e+=34359738368*(127&n),n<128)return e;if(n=r[t.pos++],e+=4398046511104*(127&n),n<128)return e;if(n=r[t.pos++],e+=562949953421312*(127&n),n<128)return e;if(n=r[t.pos++],e+=72057594037927940*(127&n),n<128)return e;if(n=r[t.pos++],e+=0x8000000000000000*(127&n),n<128)return e;throw new Error("Expected varint not more than 10 bytes")}function o(e,t){t.realloc(10);for(var n=t.pos+10;e>=1;){if(t.pos>=n)throw new Error("Given varint doesn't fit into 10 bytes");var r=255&e;t.buf[t.pos++]=r|(e>=128?128:0),e/=128}}function i(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.ceil(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var a=n.pos-1;a>=e;a--)n.buf[a+r]=n.buf[a]}function s(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function u(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function l(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function c(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}t.exports=r;var v=n.Buffer||e("./buffer");r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var y=4294967296,g=1/y,b=Math.pow(2,63);r.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),a=r>>3,o=this.pos;e(a,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=this.buf.readUInt32LE(this.pos);return this.pos+=4,e},readSFixed32:function(){var e=this.buf.readInt32LE(this.pos);return this.pos+=4,e},readFixed64:function(){var e=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*y;return this.pos+=8,e},readSFixed64:function(){var e=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*y;return this.pos+=8,e},readFloat:function(){var e=this.buf.readFloatLE(this.pos);return this.pos+=4,e},readDouble:function(){var e=this.buf.readDoubleLE(this.pos);return this.pos+=8,e},readVarint:function(){var e,t,n=this.buf;return t=n[this.pos++],e=127&t,t<128?e:(t=n[this.pos++],e|=(127&t)<<7,t<128?e:(t=n[this.pos++],e|=(127&t)<<14,t<128?e:(t=n[this.pos++],e|=(127&t)<<21,t<128?e:a(e,this))))},readVarint64:function(){var e=this.pos,t=this.readVarint();if(t<b)return t;for(var n=this.pos-2;255===this.buf[n];)n--;n<e&&(n=e),t=0;for(var r=0;r<n-e+1;r++){var a=127&~this.buf[e+r];t+=r<4?a<<7*r:a*Math.pow(2,7*r)}return-t-1},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.buf.toString("utf8",this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.slice(this.pos,e);return this.pos=e,t},readPackedVarint:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readVarint());return t},readPackedSVarint:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(){for(var e=this.readVarint()+this.pos,t=[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(e){var t=7&e;if(t===r.Varint)for(;this.buf[this.pos++]>127;);else if(t===r.Bytes)this.pos=this.readVarint()+this.pos;else if(t===r.Fixed32)this.pos+=4;else{if(t!==r.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new v(t);this.buf.copy(n),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(e){this.realloc(4),this.buf.writeUInt32LE(e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),this.buf.writeInt32LE(e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),this.buf.writeInt32LE(e&-1,this.pos),this.buf.writeUInt32LE(Math.floor(e*g),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),this.buf.writeInt32LE(e&-1,this.pos),this.buf.writeInt32LE(Math.floor(e*g),this.pos+4),this.pos+=8},writeVarint:function(e){return e=+e,e>268435455?void o(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),void(e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127)))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e);var t=v.byteLength(e);this.writeVarint(t),this.realloc(t),this.buf.write(e,this.pos),this.pos+=t},writeFloat:function(e){this.realloc(4),this.buf.writeFloatLE(e,this.pos),this.pos+=4},writeDouble:function(e){this.realloc(8),this.buf.writeDoubleLE(e,this.pos),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&i(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,r.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){this.writeMessage(e,s,t)},writePackedSVarint:function(e,t){this.writeMessage(e,u,t)},writePackedBoolean:function(e,t){this.writeMessage(e,f,t)},writePackedFloat:function(e,t){this.writeMessage(e,l,t)},writePackedDouble:function(e,t){this.writeMessage(e,c,t)},writePackedFixed32:function(e,t){this.writeMessage(e,p,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,d,t)},writePackedFixed64:function(e,t){this.writeMessage(e,h,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,m,t)},writeBytesField:function(e,t){this.writeTag(e,r.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,r.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,r.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,r.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}}).call(this,typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./buffer":192}],194:[function(e,t,n){n.read=function(e,t,n,r,a){var o,i,s=8*a-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?a-1:0,p=n?-1:1,d=e[t+f];for(f+=p,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=p,c-=8);for(i=o&(1<<-c)-1,o>>=-c,c+=r;c>0;i=256*i+e[t+f],f+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return i?NaN:(d?-1:1)*(1/0);i+=Math.pow(2,r),o-=l}return(d?-1:1)*i*Math.pow(2,o-r)},n.write=function(e,t,n,r,a,o){var i,s,u,l=8*o-a-1,c=(1<<l)-1,f=c>>1,p=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=c):(i=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-i))<1&&(i--,u*=2),t+=i+f>=1?p/u:p*Math.pow(2,1-f),t*u>=2&&(i++,u/=2),i+f>=c?(s=0,i=c):i+f>=1?(s=(t*u-1)*Math.pow(2,a),i+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,a),i=0));a>=8;e[n+d]=255&s,d+=h,s/=256,a-=8);for(i=i<<a|s,l+=a;l>0;e[n+d]=255&i,d+=h,i/=256,l-=8);e[n+d-h]|=128*m}},{}],195:[function(e,t,n){"use strict";function r(e,t){this.x=e,this.y=t}t.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,a=n*this.x+t*this.y;return this.x=r,this.y=a,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e}},{}],196:[function(e,t,n){"use strict";function r(e,t,n,i,s){for(n=n||0,i=i||e.length-1,s=s||o;i>n;){if(i-n>600){var u=i-n+1,l=t-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),d=Math.max(n,Math.floor(t-l*f/u+p)),h=Math.min(i,Math.floor(t+(u-l)*f/u+p));r(e,t,d,h,s)}var m=e[t],v=n,y=i;for(a(e,n,t),s(e[i],m)>0&&a(e,n,i);v<y;){for(a(e,v,y),v++,y--;s(e[v],m)<0;)v++;for(;s(e[y],m)>0;)y--}0===s(e[n],m)?a(e,n,y):(y++,a(e,y,i)),y<=t&&(n=y+1),t<=y&&(i=y-1)}}function a(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function o(e,t){return e<t?-1:e>t?1:0}t.exports=r},{}],197:[function(t,n,r){!function(t,a){"object"==typeof r&&"undefined"!=typeof n?n.exports=a():"function"==typeof e&&e.amd?e(a):t.ShelfPack=a()}(this,function(){function e(e,t,n){n=n||{},this.w=e||64,this.h=t||64,this.autoResize=!!n.autoResize,this.shelves=[],this.stats={},this.count=function(e){this.stats[e]=(0|this.stats[e])+1}}function t(e,t,n){this.x=0,this.y=e,this.w=this.free=t,this.h=n}return e.prototype.pack=function(e,t){e=[].concat(e),t=t||{};for(var n,r,a,o=[],i=0;i<e.length;i++)if(n=e[i].w||e[i].width,r=e[i].h||e[i].height,n&&r){if(a=this.packOne(n,r),!a)continue;t.inPlace&&(e[i].x=a.x,e[i].y=a.y),o.push(a)}if(this.shelves.length>0){for(var s=0,u=0,l=0;l<this.shelves.length;l++){var c=this.shelves[l];u+=c.h,s=Math.max(c.w-c.free,s)}this.resize(s,u)}return o},e.prototype.packOne=function(e,n){for(var r,a,o=0,i={shelf:-1,waste:1/0},s=0;s<this.shelves.length;s++){if(r=this.shelves[s],o+=r.h,n===r.h&&e<=r.free)return this.count(n),r.alloc(e,n);n>r.h||e>r.free||n<r.h&&e<=r.free&&(a=r.h-n,a<i.waste&&(i.waste=a,i.shelf=s))}if(i.shelf!==-1)return r=this.shelves[i.shelf],this.count(n),r.alloc(e,n);if(n<=this.h-o&&e<=this.w)return r=new t(o,this.w,n),this.shelves.push(r),this.count(n),r.alloc(e,n);if(this.autoResize){var u,l,c,f;return u=l=this.h,c=f=this.w,(c<=u||e>c)&&(f=2*Math.max(e,c)),(u<c||n>u)&&(l=2*Math.max(n,u)),this.resize(f,l),this.packOne(e,n)}return null},e.prototype.clear=function(){this.shelves=[],this.stats={}},e.prototype.resize=function(e,t){this.w=e,this.h=t;for(var n=0;n<this.shelves.length;n++)this.shelves[n].resize(e);return!0},t.prototype.alloc=function(e,t){if(e>this.free||t>this.h)return null;var n=this.x;return this.x+=e,this.free-=e,{x:n,y:this.y,w:e,h:t,width:e,height:t}},t.prototype.resize=function(e){return this.free+=e-this.w,this.w=e,!0},e})},{}],198:[function(e,t,n){"use strict";function r(e){return new a(e)}function a(e){this.options=d(Object.create(this.options),e),this.trees=new Array(this.options.maxZoom+1)}function o(e,t,n,r){return{x:e,y:t,zoom:1/0,id:r,numPoints:n}}function i(e,t){var n=e.geometry.coordinates;return o(l(n[0]),c(n[1]),1,t)}function s(e){return{type:"Feature",properties:u(e),geometry:{type:"Point",coordinates:[f(e.x),p(e.y)]}}}function u(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return{cluster:!0,point_count:t,point_count_abbreviated:n}}function l(e){return e/360+.5}function c(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function f(e){return 360*(e-.5)}function p(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function d(e,t){for(var n in t)e[n]=t[n];return e}function h(e){return e.x}function m(e){return e.y}var v=e("kdbush");t.exports=r,a.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1},load:function(e){var t=this.options.log;t&&console.time("total time");var n="prepare "+e.length+" points";t&&console.time(n),this.points=e;var r=e.map(i);t&&console.timeEnd(n);for(var a=this.options.maxZoom;a>=this.options.minZoom;a--){var o=+Date.now();this.trees[a+1]=v(r,h,m,this.options.nodeSize,Float32Array),r=this._cluster(r,a),t&&console.log("z%d: %d clusters in %dms",a,r.length,+Date.now()-o)}return this.trees[this.options.minZoom]=v(r,h,m,this.options.nodeSize,Float32Array),t&&console.timeEnd("total time"),this},getClusters:function(e,t){for(var n=this.trees[this._limitZoom(t)],r=n.range(l(e[0]),c(e[3]),l(e[2]),c(e[1])),a=[],o=0;o<r.length;o++){var i=n.points[r[o]];a.push(i.id!==-1?this.points[i.id]:s(i))}return a},getTile:function(e,t,n){var r=this.trees[this._limitZoom(e)],a=Math.pow(2,e),o=this.options.extent,i=this.options.radius,s=i/o,u=(n-s)/a,l=(n+1+s)/a,c={features:[]};return this._addTileFeatures(r.range((t-s)/a,u,(t+1+s)/a,l),r.points,t,n,a,c),0===t&&this._addTileFeatures(r.range(1-s/a,u,1,l),r.points,a,n,a,c),t===a-1&&this._addTileFeatures(r.range(0,u,s/a,l),r.points,-1,n,a,c),c.features.length?c:null},_addTileFeatures:function(e,t,n,r,a,o){for(var i=0;i<e.length;i++){var s=t[e[i]];o.features.push({type:1,geometry:[[Math.round(this.options.extent*(s.x*a-n)),Math.round(this.options.extent*(s.y*a-r))]],tags:s.id!==-1?this.points[s.id].properties:u(s)})}},_limitZoom:function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},_cluster:function(e,t){for(var n=[],r=this.options.radius/(this.options.extent*Math.pow(2,t)),a=0;a<e.length;a++){var i=e[a];if(!(i.zoom<=t)){i.zoom=t;for(var s=this.trees[t+1],u=s.within(i.x,i.y,r),l=!1,c=i.numPoints,f=i.x*c,p=i.y*c,d=0;d<u.length;d++){var h=s.points[u[d]];t<h.zoom&&(l=!0,h.zoom=t,f+=h.x*h.numPoints,p+=h.y*h.numPoints,c+=h.numPoints)}n.push(l?o(f/c,p/c,c,-1):i)}}return n}}},{kdbush:199}],199:[function(e,t,n){"use strict";function r(e,t,n,r,o){return new a(e,t,n,r,o)}function a(e,t,n,r,a){t=t||o,n=n||i,a=a||Array,this.nodeSize=r||64,this.points=e,this.ids=new a(e.length),this.coords=new a(2*e.length);for(var u=0;u<e.length;u++)this.ids[u]=u,this.coords[2*u]=t(e[u]),this.coords[2*u+1]=n(e[u]);s(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function o(e){return e[0]}function i(e){return e[1]}var s=e("./sort"),u=e("./range"),l=e("./within");t.exports=r,a.prototype={range:function(e,t,n,r){return u(this.ids,this.coords,e,t,n,r,this.nodeSize)},within:function(e,t,n){return l(this.ids,this.coords,e,t,n,this.nodeSize)}}},{"./range":200,"./sort":201,"./within":202}],200:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){for(var s,u,l=[0,e.length-1,0],c=[];l.length;){var f=l.pop(),p=l.pop(),d=l.pop();if(p-d<=i)for(var h=d;h<=p;h++)s=t[2*h],u=t[2*h+1],s>=n&&s<=a&&u>=r&&u<=o&&c.push(e[h]);else{var m=Math.floor((d+p)/2);s=t[2*m],u=t[2*m+1],s>=n&&s<=a&&u>=r&&u<=o&&c.push(e[m]);var v=(f+1)%2;(0===f?n<=s:r<=u)&&(l.push(d),l.push(m-1),l.push(v)),(0===f?a>=s:o>=u)&&(l.push(m+1),l.push(p),l.push(v))}}return c}t.exports=r},{}],201:[function(e,t,n){"use strict";function r(e,t,n,o,i,s){if(!(i-o<=n)){var u=Math.floor((o+i)/2);a(e,t,u,o,i,s%2),r(e,t,n,o,u-1,s+1),r(e,t,n,u+1,i,s+1)}}function a(e,t,n,r,i,s){for(;i>r;){if(i-r>600){var u=i-r+1,l=n-r+1,c=Math.log(u),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),d=Math.max(r,Math.floor(n-l*f/u+p)),h=Math.min(i,Math.floor(n+(u-l)*f/u+p));a(e,t,n,d,h,s)}var m=t[2*n+s],v=r,y=i;for(o(e,t,r,n),t[2*i+s]>m&&o(e,t,r,i);v<y;){for(o(e,t,v,y),v++,y--;t[2*v+s]<m;)v++;for(;t[2*y+s]>m;)y--}t[2*r+s]===m?o(e,t,r,y):(y++,o(e,t,y,i)),y<=n&&(r=y+1),n<=y&&(i=y-1)}}function o(e,t,n,r){i(e,n,r),i(t,2*n,2*r),i(t,2*n+1,2*r+1)}function i(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}t.exports=r},{}],202:[function(e,t,n){"use strict";function r(e,t,n,r,o,i){for(var s=[0,e.length-1,0],u=[],l=o*o;s.length;){var c=s.pop(),f=s.pop(),p=s.pop();if(f-p<=i)for(var d=p;d<=f;d++)a(t[2*d],t[2*d+1],n,r)<=l&&u.push(e[d]);else{var h=Math.floor((p+f)/2),m=t[2*h],v=t[2*h+1];a(m,v,n,r)<=l&&u.push(e[h]);var y=(c+1)%2;(0===c?n-o<=m:r-o<=v)&&(s.push(p),s.push(h-1),s.push(y)),(0===c?n+o>=m:r+o>=v)&&(s.push(h+1),s.push(f),s.push(y))}}return u}function a(e,t,n,r){var a=e-n,o=t-r;return a*a+o*o}t.exports=r},{}],203:[function(e,t,n){"use strict";function r(e,t){if(!(this instanceof r))return new r(e,t);if(this.data=e||[],this.length=this.data.length,this.compare=t||a,e)for(var n=Math.floor(this.length/2);n>=0;n--)this._down(n)}function a(e,t){return e<t?-1:e>t?1:0}function o(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}t.exports=r,r.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){var e=this.data[0];return this.data[0]=this.data[this.length-1],this.length--,this.data.pop(),this._down(0),e},peek:function(){return this.data[0]},_up:function(e){for(var t=this.data,n=this.compare;e>0;){var r=Math.floor((e-1)/2);if(!(n(t[e],t[r])<0))break;o(t,r,e),e=r}},_down:function(e){for(var t=this.data,n=this.compare,r=this.length;;){var a=2*e+1,i=a+1,s=e;if(a<r&&n(t[a],t[s])<0&&(s=a),i<r&&n(t[i],t[s])<0&&(s=i),s===e)return;o(t,s,e),e=s}}}},{}],204:[function(e,t,n){function r(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}t.exports=r,r.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},r.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},r.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},r.prototype.solveCurveX=function(e,t){"undefined"==typeof t&&(t=1e-6);var n,r,a,o,i;for(a=e,i=0;i<8;i++){if(o=this.sampleCurveX(a)-e,Math.abs(o)<t)return a;var s=this.sampleCurveDerivativeX(a);if(Math.abs(s)<1e-6)break;a-=o/s}if(n=0,r=1,a=e,a<n)return n;if(a>r)return r;for(;n<r;){if(o=this.sampleCurveX(a),Math.abs(o-e)<t)return a;e>o?n=a:r=a,a=.5*(r-n)+n}return a},r.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},{}],205:[function(e,t,n){t.exports.VectorTile=e("./lib/vectortile.js"),t.exports.VectorTileFeature=e("./lib/vectortilefeature.js"),t.exports.VectorTileLayer=e("./lib/vectortilelayer.js")},{"./lib/vectortile.js":206,"./lib/vectortilefeature.js":207,"./lib/vectortilelayer.js":208}],206:[function(e,t,n){"use strict";function r(e,t){this.layers=e.readFields(a,{},t)}function a(e,t,n){if(3===e){var r=new o(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}var o=e("./vectortilelayer");t.exports=r},{"./vectortilelayer":208}],207:[function(e,t,n){"use strict";function r(e,t,n,r,o){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=o,e.readFields(a,this,t)}function a(e,t,n){1==e?t.id=n.readVarint():2==e?o(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function o(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],a=t._values[e.readVarint()];t.properties[r]=a}}function i(e){var t=e.length;if(t<=1)return[e];for(var n,r,a=[],o=0;o<t;o++){var i=s(e[o]);0!==i&&(void 0===r&&(r=i<0),r===i<0?(n&&a.push(n),n=[e[o]]):n.push(e[o]))}return n&&a.push(n),a}function s(e){for(var t,n,r=0,a=0,o=e.length,i=o-1;a<o;i=a++)t=e[a],n=e[i],r+=(n.x-t.x)*(t.y+n.y);return r}var u=e("point-geometry");t.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,a=0,o=0,i=0,s=[];e.pos<n;){if(!a){var l=e.readVarint();r=7&l,a=l>>3}if(a--,1===r||2===r)o+=e.readSVarint(),i+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t.push(new u(o,i));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&s.push(t),s},r.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,a=0,o=0,i=1/0,s=-(1/0),u=1/0,l=-(1/0);e.pos<t;){if(!r){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)a+=e.readSVarint(),o+=e.readSVarint(),a<i&&(i=a),a>s&&(s=a),o<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[i,u,s,l]},r.prototype.toGeoJSON=function(e,t,n){function a(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-360*(n.y+c)/u;e[t]=[360*(n.x+l)/u-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var o,s,u=this.extent*Math.pow(2,n),l=this.extent*e,c=this.extent*t,f=this.loadGeometry(),p=r.types[this.type];switch(this.type){case 1:var d=[];for(o=0;o<f.length;o++)d[o]=f[o][0];f=d,a(f);break;case 2:for(o=0;o<f.length;o++)a(f[o]);break;case 3:for(f=i(f),o=0;o<f.length;o++)for(s=0;s<f[o].length;s++)a(f[o][s])}1===f.length?f=f[0]:p="Multi"+p;var h={type:"Feature",geometry:{type:p,coordinates:f},properties:this.properties};return"id"in this&&(h.id=this.id),h}},{"point-geometry":195}],208:[function(e,t,n){"use strict";function r(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(a,this,t),this.length=this._features.length}function a(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(o(n))}function o(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}var i=e("./vectortilefeature.js");t.exports=r,r.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new i(this._pbf,t,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":207}],209:[function(e,t,n){function r(e){var t=[];for(var n in e.layers)t.push(o(e.layers[n]));var r=new c;return f.tile.write({layers:t},r),r.finish()}function a(e){var t={};for(var n in e)t[n]=new p(e[n].features),t[n].name=n;return r({layers:t})}function o(e){for(var t={name:e.name||"",version:e.version||1,extent:e.extent||4096,keys:[],values:[],features:[]},n={},r={},a=0;a<e.length;a++){var o=e.feature(a);o.geometry=u(o.loadGeometry());var i=[];for(var s in o.properties){var c=n[s];"undefined"==typeof c&&(t.keys.push(s),c=t.keys.length-1,n[s]=c);var f=l(o.properties[s]),p=r[f.key];"undefined"==typeof p&&(t.values.push(f),p=t.values.length-1,r[f.key]=p),i.push(c),i.push(p)}o.tags=i,t.features.push(o)}return t}function i(e,t){return(t<<3)+(7&e)}function s(e){return e<<1^e>>31}function u(e){for(var t=[],n=0,r=0,a=e.length,o=0;o<a;o++){var u=e[o];t.push(i(1,1));for(var l=0;l<u.length;l++){1===l&&t.push(i(2,u.length-1));var c=u[l].x-n,f=u[l].y-r;t.push(s(c),s(f)),n+=c,r+=f}}return t}function l(e){var t,n=typeof e;return"string"===n?t={string_value:e}:"boolean"===n?t={bool_value:e}:"number"===n?t=e%1!==0?{double_value:e}:e<0?{sint_value:e}:{uint_value:e}:(e=JSON.stringify(e),t={string_value:e}),t.key=n+":"+e,t}var c=e("pbf"),f=e("./vector-tile-pb"),p=e("./lib/geojson_wrapper");t.exports=r,t.exports.fromVectorTileJs=r,t.exports.fromGeojsonVt=a,t.exports.GeoJSONWrapper=p},{"./lib/geojson_wrapper":210,"./vector-tile-pb":211,pbf:193}],210:[function(e,t,n){"use strict";function r(e){this.features=e,this.length=e.length}function a(e){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=4096}var o=e("point-geometry"),i=e("vector-tile").VectorTileFeature;t.exports=r,r.prototype.feature=function(e){return new a(this.features[e])},a.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],r=[],a=0;a<n.length;a++)r.push(new o(n[a][0],n[a][1]));this.geometry.push(r)}return this.geometry},a.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-(1/0),r=1/0,a=-(1/0),o=0;o<e.length;o++)for(var i=e[o],s=0;s<i.length;s++){var u=i[s];t=Math.min(t,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),a=Math.max(a,u.y)}return[t,r,n,a]},a.prototype.toGeoJSON=i.prototype.toGeoJSON},{"point-geometry":195,"vector-tile":205}],211:[function(e,t,n){"use strict";function r(e,t){return e.readFields(a,{layers:[]},t)}function a(e,t,n){3===e&&t.layers.push(p(n,n.readVarint()+n.pos))}function o(e,t){var n;if(void 0!==e.layers)for(n=0;n<e.layers.length;n++)t.writeMessage(3,h,e.layers[n])}function i(e,t){return e.readFields(s,{},t)}function s(e,t,n){1===e?t.string_value=n.readString():2===e?t.float_value=n.readFloat():3===e?t.double_value=n.readDouble():4===e?t.int_value=n.readVarint():5===e?t.uint_value=n.readVarint():6===e?t.sint_value=n.readSVarint():7===e&&(t.bool_value=n.readBoolean())}function u(e,t){void 0!==e.string_value&&t.writeStringField(1,e.string_value),void 0!==e.float_value&&t.writeFloatField(2,e.float_value),void 0!==e.double_value&&t.writeDoubleField(3,e.double_value),void 0!==e.int_value&&t.writeVarintField(4,e.int_value),void 0!==e.uint_value&&t.writeVarintField(5,e.uint_value),void 0!==e.sint_value&&t.writeSVarintField(6,e.sint_value),void 0!==e.bool_value&&t.writeBooleanField(7,e.bool_value)}function l(e,t){var n=e.readFields(c,{},t);return void 0===n.type&&(n.type="Unknown"),n}function c(e,t,n){1===e?t.id=n.readVarint():2===e?t.tags=n.readPackedVarint():3===e?t.type=n.readVarint():4===e&&(t.geometry=n.readPackedVarint())}function f(e,t){void 0!==e.id&&t.writeVarintField(1,e.id),void 0!==e.tags&&t.writePackedVarint(2,e.tags),void 0!==e.type&&t.writeVarintField(3,e.type),void 0!==e.geometry&&t.writePackedVarint(4,e.geometry)}function p(e,t){return e.readFields(d,{features:[],keys:[],values:[]},t)}function d(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():2===e?t.features.push(l(n,n.readVarint()+n.pos)):3===e?t.keys.push(n.readString()):4===e?t.values.push(i(n,n.readVarint()+n.pos)):5===e&&(t.extent=n.readVarint())}function h(e,t){void 0!==e.version&&t.writeVarintField(15,e.version),void 0!==e.name&&t.writeStringField(1,e.name);var n;if(void 0!==e.features)for(n=0;n<e.features.length;n++)t.writeMessage(2,f,e.features[n]);if(void 0!==e.keys)for(n=0;n<e.keys.length;n++)t.writeStringField(3,e.keys[n]);if(void 0!==e.values)for(n=0;n<e.values.length;n++)t.writeMessage(4,u,e.values[n]);void 0!==e.extent&&t.writeVarintField(5,e.extent)}var m=n.tile={read:r,write:o};m.GeomType={Unknown:0,Point:1,LineString:2,Polygon:3},m.value={read:i,write:u},m.feature={read:l,write:f},m.layer={read:p,write:h}},{}],212:[function(e,t,n){var r=arguments[3],a=arguments[4],o=arguments[5],i=JSON.stringify;t.exports=function(e,t){function n(e){v[e]=!0;for(var t in a[e][1]){var r=a[e][1][t];v[r]||n(r)}}for(var s,u=Object.keys(o),l=0,c=u.length;l<c;l++){var f=u[l],p=o[f].exports;if(p===e||p&&p.default===e){s=f;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var d={},l=0,c=u.length;l<c;l++){var f=u[l];d[f]=f}a[s]=[Function(["require","module","exports"],"("+e+")(self)"),d]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),m={};m[s]=s,a[h]=[Function(["require"],"var f = require("+i(s)+");(f.default ? f.default : f)(self);"),m];var v={};n(h);var y="("+r+")({"+Object.keys(v).map(function(e){return i(e)+":["+a[e][0]+","+i(a[e][1])+"]"}).join(",")+"},{},["+i(h)+"])",g=window.URL||window.webkitURL||window.mozURL||window.msURL,b=new Blob([y],{type:"text/javascript"});if(t&&t.bare)return b;var _=g.createObjectURL(b),x=new Worker(_);return x.objectURL=_,x}},{}],213:[function(t,n,r){!function(t,a){"object"==typeof r&&"undefined"!=typeof n?a(r):"function"==typeof e&&e.amd?e(["exports"],a):a(t.WhooTS=t.WhooTS||{})}(this,function(e){function t(e,t,r,a,o,i){i=i||{};var s=e+"?"+["bbox="+n(r,a,o),"format="+(i.format||"image/png"),"service="+(i.service||"WMS"),"version="+(i.version||"1.1.1"),"request="+(i.request||"GetMap"),"srs="+(i.srs||"EPSG:3857"),"width="+(i.width||256),"height="+(i.height||256),"layers="+t].join("&");return s}function n(e,t,n){t=Math.pow(2,n)-t-1;var a=r(256*e,256*t,n),o=r(256*(e+1),256*(t+1),n);return a[0]+","+a[1]+","+o[0]+","+o[1]}function r(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n),a=e*r-2*Math.PI*6378137/2,o=t*r-2*Math.PI*6378137/2;return[a,o]}e.getURL=t,e.getTileBBox=n,e.getMercCoords=r,Object.defineProperty(e,"__esModule",{value:!0})})},{}],214:[function(e,t,n){t.exports={version:"0.28.0"}},{}]},{},[24])(24)})}).call(t,n(149).Buffer,n(26))},function(e,t,n){"use strict";var r=n(186);e.exports=function(e){var t=false;return r(e,t)}},function(e,t,n){"use strict";var r={animationIterationCount:true,borderImageOutset:true,borderImageSlice:true,borderImageWidth:true,boxFlex:true,boxFlexGroup:true,boxOrdinalGroup:true,columnCount:true,flex:true,flexGrow:true,flexPositive:true,flexShrink:true,flexNegative:true,flexOrder:true,gridRow:true,gridColumn:true,fontWeight:true,lineClamp:true,lineHeight:true,opacity:true,order:true,orphans:true,tabSize:true,widows:true,zIndex:true,zoom:true,fillOpacity:true,floodOpacity:true,stopOpacity:true,strokeDasharray:true,strokeDashoffset:true,strokeMiterlimit:true,strokeOpacity:true,strokeWidth:true};function a(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){o.forEach(function(t){r[a(t,e)]=r[e]})});var i={background:{backgroundAttachment:true,backgroundColor:true,backgroundImage:true,backgroundPositionX:true,backgroundPositionY:true,backgroundRepeat:true},backgroundPosition:{backgroundPositionX:true,backgroundPositionY:true},border:{borderWidth:true,borderStyle:true,borderColor:true},borderBottom:{borderBottomWidth:true,borderBottomStyle:true,borderBottomColor:true},borderLeft:{borderLeftWidth:true,borderLeftStyle:true,borderLeftColor:true},borderRight:{borderRightWidth:true,borderRightStyle:true,borderRightColor:true},borderTop:{borderTopWidth:true,borderTopStyle:true,borderTopColor:true},font:{fontStyle:true,fontVariant:true,fontWeight:true,fontSize:true,lineHeight:true,fontFamily:true},outline:{outlineWidth:true,outlineStyle:true,outlineColor:true}};var s={isUnitlessNumber:r,shorthandPropertyExpansions:i};e.exports=s},function(e,t,n){"use strict";var r=n(3);function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=n(19);var i=n(1);var s=function(){function e(t){a(this,e);this._callbacks=null;this._contexts=null;this._arg=t}e.prototype.enqueue=function e(t,n){this._callbacks=this._callbacks||[];this._callbacks.push(t);this._contexts=this._contexts||[];this._contexts.push(n)};e.prototype.notifyAll=function e(){var t=this._callbacks;var n=this._contexts;var a=this._arg;if(t&&n){!(t.length===n.length)?false?i(false,"Mismatched list of contexts in callback queue"):r("24"):void 0;this._callbacks=null;this._contexts=null;for(var o=0;o<t.length;o++){t[o].call(n[o],a)}t.length=0;n.length=0}};e.prototype.checkpoint=function e(){return this._callbacks?this._callbacks.length:0};e.prototype.rollback=function e(t){if(this._callbacks&&this._contexts){this._callbacks.length=t;this._contexts.length=t}};e.prototype.reset=function e(){this._callbacks=null;this._contexts=null};e.prototype.destructor=function e(){this.reset()};return e}();e.exports=o.addPoolingTo(s)},function(e,t,n){"use strict";var r=n(21);var a=n(7);var o=n(13);var i=n(252);var s=n(2);var u=new RegExp("^["+r.ATTRIBUTE_NAME_START_CHAR+"]["+r.ATTRIBUTE_NAME_CHAR+"]*$");var l={};var c={};function f(e){if(c.hasOwnProperty(e)){return true}if(l.hasOwnProperty(e)){return false}if(u.test(e)){c[e]=true;return true}l[e]=true;false?s(false,"Invalid attribute name: `%s`",e):void 0;return false}function p(e,t){return t==null||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===false}var d={createMarkupForID:function(e){return r.ID_ATTRIBUTE_NAME+"="+i(e)},setAttributeForID:function(e,t){e.setAttribute(r.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return r.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(r.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=r.properties.hasOwnProperty(e)?r.properties[e]:null;if(n){if(p(n,t)){return""}var a=n.attributeName;if(n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===true){return a+'=""'}return a+"="+i(t)}else if(r.isCustomAttribute(e)){if(t==null){return""}return e+"="+i(t)}return null},createMarkupForCustomAttribute:function(e,t){if(!f(e)||t==null){return""}return e+"="+i(t)},setValueForProperty:function(e,t,n){var i=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(i){var s=i.mutationMethod;if(s){s(e,n)}else if(p(i,n)){this.deleteValueForProperty(e,t);return}else if(i.mustUseProperty){e[i.propertyName]=n}else{var u=i.attributeName;var l=i.attributeNamespace;if(l){e.setAttributeNS(l,u,""+n)}else if(i.hasBooleanValue||i.hasOverloadedBooleanValue&&n===true){e.setAttribute(u,"")}else{e.setAttribute(u,""+n)}}}else if(r.isCustomAttribute(t)){d.setValueForAttribute(e,t,n);return}if(false){var c={};c[t]=n;o.debugTool.onHostOperation({instanceID:a.getInstanceFromNode(e)._debugID,type:"update attribute",payload:c})}},setValueForAttribute:function(e,t,n){if(!f(t)){return}if(n==null){e.removeAttribute(t)}else{e.setAttribute(t,""+n)}if(false){var r={};r[t]=n;o.debugTool.onHostOperation({instanceID:a.getInstanceFromNode(e)._debugID,type:"update attribute",payload:r})}},deleteValueForAttribute:function(e,t){e.removeAttribute(t);if(false){o.debugTool.onHostOperation({instanceID:a.getInstanceFromNode(e)._debugID,type:"remove attribute",payload:t})}},deleteValueForProperty:function(e,t){var n=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(n){var i=n.mutationMethod;if(i){i(e,undefined)}else if(n.mustUseProperty){var s=n.propertyName;if(n.hasBooleanValue){e[s]=false}else{e[s]=""}}else{e.removeAttribute(n.attributeName)}}else if(r.isCustomAttribute(t)){e.removeAttribute(t)}if(false){o.debugTool.onHostOperation({instanceID:a.getInstanceFromNode(e)._debugID,type:"remove attribute",payload:t})}}};e.exports=d},function(e,t,n){"use strict";var r={hasCachedChildNodes:1<<0};e.exports=r},function(e,t,n){"use strict";var r=n(5);var a=n(48);var o=n(7);var i=n(14);var s=n(2);var u=false;var l=false;function c(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=false;var e=this._currentElement.props;var t=a.getValue(e);if(t!=null){h(this,Boolean(e.multiple),t)}}}function f(e){if(e){var t=e.getName();if(t){return" Check the render method of `"+t+"`."}}return""}var p=["value","defaultValue"];function d(e,t){var n=e._currentElement._owner;a.checkPropTypes("select",t,n);if(t.valueLink!==undefined&&!u){false?s(false,"`valueLink` prop on `select` is deprecated; set `value` and `onChange` instead."):void 0;u=true}for(var r=0;r<p.length;r++){var o=p[r];if(t[o]==null){continue}var i=Array.isArray(t[o]);if(t.multiple&&!i){false?s(false,"The `%s` prop supplied to <select> must be an array if "+"`multiple` is true.%s",o,f(n)):void 0}else if(!t.multiple&&i){false?s(false,"The `%s` prop supplied to <select> must be a scalar "+"value if `multiple` is false.%s",o,f(n)):void 0}}}function h(e,t,n){var r,a;var i=o.getNodeFromInstance(e).options;if(t){r={};for(a=0;a<n.length;a++){r[""+n[a]]=true}for(a=0;a<i.length;a++){var s=r.hasOwnProperty(i[a].value);if(i[a].selected!==s){i[a].selected=s}}}else{r=""+n;for(a=0;a<i.length;a++){if(i[a].value===r){i[a].selected=true;return}}if(i.length){i[0].selected=true}}}var m={getHostProps:function(e,t){return r({},t,{onChange:e._wrapperState.onChange,value:undefined})},mountWrapper:function(e,t){if(false){d(e,t)}var n=a.getValue(t);e._wrapperState={pendingUpdate:false,initialValue:n!=null?n:t.defaultValue,listeners:null,onChange:v.bind(e),wasMultiple:Boolean(t.multiple)};if(t.value!==undefined&&t.defaultValue!==undefined&&!l){false?s(false,"Select elements must be either controlled or uncontrolled "+"(specify either the value prop, or the defaultValue prop, but not "+"both). Decide between using a controlled or uncontrolled select "+"element and remove one of these props. More info: "+"https://fb.me/react-controlled-components"):void 0;l=true}},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=undefined;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=a.getValue(t);if(r!=null){e._wrapperState.pendingUpdate=false;h(e,Boolean(t.multiple),r)}else if(n!==Boolean(t.multiple)){if(t.defaultValue!=null){h(e,Boolean(t.multiple),t.defaultValue)}else{h(e,Boolean(t.multiple),t.multiple?[]:"")}}}};function v(e){var t=this._currentElement.props;var n=a.executeOnChange(t,e);if(this._rootNodeID){this._wrapperState.pendingUpdate=true}i.asap(c,this);return n}e.exports=m},function(e,t,n){"use strict";var r;var a={injectEmptyComponentFactory:function(e){r=e}};var o={create:function(e){return r(e)}};o.injection=a;e.exports=o},function(e,t,n){"use strict";var r={logTopLevelRenders:false};e.exports=r},function(e,t,n){"use strict";var r=n(3);var a=n(1);var o=null;var i=null;var s={injectGenericComponentClass:function(e){o=e},injectTextComponentClass:function(e){i=e}};function u(e){!o?false?a(false,"There is no registered component for the tag %s",e.type):r("111",e.type):void 0;return new o(e)}function l(e){return new i(e)}function c(e){return e instanceof i}var f={createInternalComponent:u,createInstanceForText:l,isTextComponent:c,injection:s};e.exports=f},function(e,t,n){"use strict";var r=n(212);var a=n(152);var o=n(69);var i=n(70);function s(e){return a(document.documentElement,e)}var u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&e.type==="text"||t==="textarea"||e.contentEditable==="true")},getSelectionInformation:function(){var e=i();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=i();var n=e.focusedElem;var r=e.selectionRange;if(t!==n&&s(n)){if(u.hasSelectionCapabilities(n)){u.setSelection(n,r)}o(n)}},getSelection:function(e){var t;if("selectionStart"in e){t={start:e.selectionStart,end:e.selectionEnd}}else if(document.selection&&e.nodeName&&e.nodeName.toLowerCase()==="input"){var n=document.selection.createRange();if(n.parentElement()===e){t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)}}}else{t=r.getOffsets(e)}return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start;var a=t.end;if(a===undefined){a=n}if("selectionStart"in e){e.selectionStart=n;e.selectionEnd=Math.min(a,e.value.length)}else if(document.selection&&e.nodeName&&e.nodeName.toLowerCase()==="input"){var o=e.createTextRange();o.collapse(true);o.moveStart("character",n);o.moveEnd("character",a-n);o.select()}else{r.setOffsets(e,t)}}};e.exports=u},function(e,t,n){"use strict";var r=n(3);var a=n(20);var o=n(21);var i=n(23);var s=n(36);var u=n(17);var l=n(7);var c=n(206);var f=n(208);var p=n(82);var d=n(32);var h=n(13);var m=n(222);var v=n(22);var y=n(51);var g=n(14);var b=n(29);var _=n(92);var x=n(1);var w=n(40);var E=n(57);var S=n(2);var T=o.ID_ATTRIBUTE_NAME;var M=o.ROOT_ATTRIBUTE_NAME;var C=1;var k=9;var I=11;var P={};function D(e,t){var n=Math.min(e.length,t.length);for(var r=0;r<n;r++){if(e.charAt(r)!==t.charAt(r)){return r}}return e.length===t.length?-1:n}function N(e){if(!e){return null}if(e.nodeType===k){return e.documentElement}else{return e.firstChild}}function A(e){return e.getAttribute&&e.getAttribute(T)||""}function O(e,t,n,r,a){var o;if(p.logTopLevelRenders){var i=e._currentElement.props.child;var s=i.type;o="React mount: "+(typeof s==="string"?s:s.displayName||s.name);console.time(o)}var u=v.mountComponent(e,n,null,c(e,t),a,0);if(o){console.timeEnd(o)}e._renderedComponent._topLevelWrapper=e;H._mountImageIntoNode(u,t,e,r,n)}function R(e,t,n,r){var a=g.ReactReconcileTransaction.getPooled(!n&&f.useCreateElement);a.perform(O,null,e,t,a,n,r);g.ReactReconcileTransaction.release(a)}function j(e,t,n){if(false){h.debugTool.onBeginFlush()}v.unmountComponent(e,n);if(false){h.debugTool.onEndFlush()}if(t.nodeType===k){t=t.documentElement}while(t.lastChild){t.removeChild(t.lastChild)}}function L(e){var t=N(e);if(t){var n=l.getInstanceFromNode(t);return!!(n&&n._hostParent)}}function F(e){var t=N(e);return!!(t&&U(t)&&!l.getInstanceFromNode(t))}function z(e){return!!(e&&(e.nodeType===C||e.nodeType===k||e.nodeType===I))}function U(e){return z(e)&&(e.hasAttribute(M)||e.hasAttribute(T))}function B(e){var t=N(e);var n=t&&l.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function q(e){var t=B(e);return t?t._hostContainerInfo._topLevelWrapper:null}var V=1;var $=function(){this.rootID=V++};$.prototype.isReactComponent={};if(false){$.displayName="TopLevelWrapper"}$.prototype.render=function(){return this.props.child};$.isReactTopLevelWrapper=true;var H={TopLevelWrapper:$,_instancesByReactRootID:P,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,a){H.scrollMonitor(r,function(){y.enqueueElementInternal(e,t,n);if(a){y.enqueueCallbackInternal(e,a)}});return e},_renderNewRootComponent:function(e,t,n,a){false?S(u.current==null,"_renderNewRootComponent(): Render methods should be a pure function "+"of props and state; triggering nested component updates from "+"render is not allowed. If necessary, trigger nested updates in "+"componentDidUpdate. Check the render method of %s.",u.current&&u.current.getName()||"ReactCompositeComponent"):void 0;!z(t)?false?x(false,"_registerComponent(...): Target container is not a DOM element."):r("37"):void 0;s.ensureScrollValueMonitoring();var o=_(e,false);g.batchedUpdates(R,o,t,n,a);var i=o._instance.rootID;P[i]=o;return o},renderSubtreeIntoContainer:function(e,t,n,a){!(e!=null&&d.has(e))?false?x(false,"parentComponent must be a valid React Component"):r("38"):void 0;return H._renderSubtreeIntoContainer(e,t,n,a)},_renderSubtreeIntoContainer:function(e,t,n,a){y.validateCallback(a,"ReactDOM.render");!i.isValidElement(t)?false?x(false,"ReactDOM.render(): Invalid component element.%s",typeof t==="string"?" Instead of passing a string like 'div', pass "+"React.createElement('div') or <div />.":typeof t==="function"?" Instead of passing a class like Foo, pass "+"React.createElement(Foo) or <Foo />.":t!=null&&t.props!==undefined?" This may be caused by unintentionally loading two independent "+"copies of React.":""):r("39",typeof t==="string"?" Instead of passing a string like 'div', pass "+"React.createElement('div') or <div />.":typeof t==="function"?" Instead of passing a class like Foo, pass "+"React.createElement(Foo) or <Foo />.":t!=null&&t.props!==undefined?" This may be caused by unintentionally loading two independent "+"copies of React.":""):void 0;false?S(!n||!n.tagName||n.tagName.toUpperCase()!=="BODY","render(): Rendering components directly into document.body is "+"discouraged, since its children are often manipulated by third-party "+"scripts and browser extensions. This may lead to subtle "+"reconciliation issues. Try rendering into a container element created "+"for your app."):void 0;var o=i.createElement($,{child:t});var s;if(e){var u=d.get(e);s=u._processChildContext(u._context)}else{s=b}var l=q(n);if(l){var c=l._currentElement;var f=c.props.child;if(E(f,t)){var p=l._renderedComponent.getPublicInstance();var h=a&&function(){a.call(p)};H._updateRootComponent(l,o,s,n,h);return p}else{H.unmountComponentAtNode(n)}}var m=N(n);var v=m&&!!A(m);var g=L(n);if(false){process.env.NODE_ENV!=="production"?S(!g,"render(...): Replacing React-rendered children with a new root "+"component. If you intended to update the children of this node, "+"you should instead have the existing children update their state "+"and render the new components instead of calling ReactDOM.render."):void 0;if(!v||m.nextSibling){var _=m;while(_){if(A(_)){process.env.NODE_ENV!=="production"?S(false,"render(): Target node has markup rendered by React, but there "+"are unrelated nodes as well. This is most commonly caused by "+"white-space inserted around server-rendered markup."):void 0;break}_=_.nextSibling}}}var w=v&&!l&&!g;var T=H._renderNewRootComponent(o,n,w,s)._renderedComponent.getPublicInstance();if(a){a.call(T)}return T},render:function(e,t,n){return H._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){false?S(u.current==null,"unmountComponentAtNode(): Render methods should be a pure function "+"of props and state; triggering nested component updates from render "+"is not allowed. If necessary, trigger nested updates in "+"componentDidUpdate. Check the render method of %s.",u.current&&u.current.getName()||"ReactCompositeComponent"):void 0;!z(e)?false?x(false,"unmountComponentAtNode(...): Target container is not a DOM element."):r("40"):void 0;if(false){process.env.NODE_ENV!=="production"?S(!F(e),"unmountComponentAtNode(): The node you're attempting to unmount "+"was rendered by another copy of React."):void 0}var t=q(e);if(!t){var n=L(e);var a=e.nodeType===1&&e.hasAttribute(M);if(false){process.env.NODE_ENV!=="production"?S(!n,"unmountComponentAtNode(): The node you're attempting to unmount "+"was rendered by React and is not a top-level container. %s",a?"You may have accidentally passed in a React root node instead "+"of its container.":"Instead, have the parent component update its state and "+"rerender in order to remove this component."):void 0}return false}delete P[t._instance.rootID];g.batchedUpdates(j,t,e,false);return true},_mountImageIntoNode:function(e,t,n,o,i){!z(t)?false?x(false,"mountComponentIntoNode(...): Target container is not valid."):r("41"):void 0;if(o){var s=N(t);if(m.canReuseMarkup(e,s)){l.precacheNode(n,s);return}else{var u=s.getAttribute(m.CHECKSUM_ATTR_NAME);s.removeAttribute(m.CHECKSUM_ATTR_NAME);var c=s.outerHTML;s.setAttribute(m.CHECKSUM_ATTR_NAME,u);var f=e;if(false){var p;if(t.nodeType===C){p=document.createElement("div");p.innerHTML=e;f=p.innerHTML}else{p=document.createElement("iframe");document.body.appendChild(p);p.contentDocument.write(e);f=p.contentDocument.documentElement.outerHTML;document.body.removeChild(p)}}var d=D(f,c);var v=" (client) "+f.substring(d-20,d+20)+"\n (server) "+c.substring(d-20,d+20);!(t.nodeType!==k)?false?x(false,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",v):r("42",v):void 0;if(false){process.env.NODE_ENV!=="production"?S(false,"React attempted to reuse markup in a container but the "+"checksum was invalid. This generally means that you are "+"using server rendering and the markup generated on the "+"server was not what the client was expecting. React injected "+"new markup to compensate which works but you have lost many "+"of the benefits of server rendering. Instead, figure out "+"why the markup being generated is different on the client "+"or server:\n%s",v):void 0}}}!(t.nodeType!==k)?false?x(false,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):r("43"):void 0;if(i.useCreateElement){while(t.lastChild){t.removeChild(t.lastChild)}a.insertTreeBefore(t,e,null)}else{w(t,e);l.precacheNode(n,t.firstChild)}if(false){var y=l.getInstanceFromNode(t.firstChild);if(y._debugID!==0){h.debugTool.onHostOperation({instanceID:y._debugID,type:"mount",payload:e.toString()})}}}};e.exports=H},function(e,t,n){"use strict";var r=n(3);var a=n(23);var o=n(1);var i={HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){if(e===null||e===false){return i.EMPTY}else if(a.isValidElement(e)){if(typeof e.type==="function"){return i.COMPOSITE}else{return i.HOST}}true?false?o(false,"Unexpected node: %s",e):r("26",e):void 0}};e.exports=i},function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x;r.currentScrollTop=e.y}};e.exports=r},function(e,t,n){"use strict";var r=n(3);var a=n(1);function o(e,t){!(t!=null)?false?a(false,"accumulateInto(...): Accumulated items must not be null or undefined."):r("30"):void 0;if(e==null){return t}if(Array.isArray(e)){if(Array.isArray(t)){e.push.apply(e,t);return e}e.push(t);return e}if(Array.isArray(t)){return[e].concat(t)}return[e,t]}e.exports=o},function(e,t,n){"use strict";function r(e,t,n){if(Array.isArray(e)){e.forEach(t,n)}else if(e){t.call(n,e)}}e.exports=r},function(e,t,n){"use strict";var r=n(86);function a(e){var t;while((t=e._renderedNodeType)===r.COMPOSITE){e=e._renderedComponent}if(t===r.HOST){return e._renderedComponent}else if(t===r.EMPTY){return null}}e.exports=a},function(e,t,n){"use strict";var r=n(10);var a=null;function o(){if(!a&&r.canUseDOM){a="textContent"in document.documentElement?"textContent":"innerText"}return a}e.exports=o},function(e,t,n){"use strict";var r=n(3),a=n(5);var o=n(203);var i=n(81);var s=n(83);var u=n(268);var l=n(1);var c=n(2);var f=function(e){this.construct(e)};function p(e){if(e){var t=e.getName();if(t){return" Check the render method of `"+t+"`."}}return""}function d(e){return typeof e==="function"&&typeof e.prototype!=="undefined"&&typeof e.prototype.mountComponent==="function"&&typeof e.prototype.receiveComponent==="function"}function h(e,t){var n;if(e===null||e===false){n=i.create(h)}else if(typeof e==="object"){var a=e;var o=a.type;if(typeof o!=="function"&&typeof o!=="string"){var m="";if(false){if(o===undefined||typeof o==="object"&&o!==null&&Object.keys(o).length===0){m+=" You likely forgot to export your component from the file "+"it's defined in."}}m+=p(a._owner);true?false?l(false,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",o==null?o:typeof o,m):r("130",o==null?o:typeof o,m):void 0}if(typeof a.type==="string"){n=s.createInternalComponent(a)}else if(d(a.type)){n=new a.type(a);if(!n.getHostNode){n.getHostNode=n.getNativeNode}}else{n=new f(a)}}else if(typeof e==="string"||typeof e==="number"){n=s.createInstanceForText(e)}else{true?false?l(false,"Encountered invalid React node of type %s",typeof e):r("131",typeof e):void 0}if(false){process.env.NODE_ENV!=="production"?c(typeof n.mountComponent==="function"&&typeof n.receiveComponent==="function"&&typeof n.getHostNode==="function"&&typeof n.unmountComponent==="function","Only React Components can be mounted."):void 0}n._mountIndex=0;n._mountImage=null;if(false){n._debugID=t?u():0}if(false){if(Object.preventExtensions){Object.preventExtensions(n)}}return n}a(f.prototype,o,{_instantiateReactComponent:h});e.exports=h},function(e,t,n){"use strict";var r={color:true,date:true,datetime:true,"datetime-local":true,email:true,month:true,number:true,password:true,range:true,search:true,tel:true,text:true,time:true,url:true,week:true};function a(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();if(t==="input"){return!!r[e.type]}if(t==="textarea"){return true}return false}e.exports=a},function(e,t,n){"use strict";var r=n(10);var a=n(39);var o=n(40);var i=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t};if(r.canUseDOM){if(!("textContent"in document.documentElement)){i=function(e,t){if(e.nodeType===3){e.nodeValue=t;return}o(e,a(t))}}}e.exports=i},function(e,t,n){"use strict";var r=n(3);var a=n(17);var o=n(218);var i=n(249);var s=n(1);var u=n(47);var l=n(2);var c=".";var f=":";var p=false;function d(e,t){if(e&&typeof e==="object"&&e.key!=null){return u.escape(e.key)}return t.toString(36)}function h(e,t,n,m){var v=typeof e;if(v==="undefined"||v==="boolean"){e=null}if(e===null||v==="string"||v==="number"||v==="object"&&e.$$typeof===o){n(m,e,t===""?c+d(e,0):t);return 1}var y;var g;var b=0;var _=t===""?c:t+f;if(Array.isArray(e)){for(var x=0;x<e.length;x++){y=e[x];g=_+d(y,x);b+=h(y,g,n,m)}}else{var w=i(e);if(w){var E=w.call(e);var S;if(w!==e.entries){var T=0;while(!(S=E.next()).done){y=S.value;g=_+d(y,T++);b+=h(y,g,n,m)}}else{if(false){var M="";if(a.current){var C=a.current.getName();if(C){M=" Check the render method of `"+C+"`."}}process.env.NODE_ENV!=="production"?l(p,"Using Maps as children is not yet fully supported. It is an "+"experimental feature that might be removed. Convert it to a "+"sequence / iterable of keyed ReactElements instead.%s",M):void 0;p=true}while(!(S=E.next()).done){var k=S.value;if(k){y=k[1];g=_+u.escape(k[0])+f+d(y,0);b+=h(y,g,n,m)}}}}else if(v==="object"){var I="";if(false){I=" If you meant to render a collection of children, use an array "+"instead or wrap the object using createFragment(object) from the "+"React add-ons.";if(e._isReactElement){I=" It looks like you're using an element created by a different "+"version of React. Make sure to use only one copy of React."}if(a.current){var P=a.current.getName();if(P){I+=" Check the render method of `"+P+"`."}}}var D=String(e);true?false?s(false,"Objects are not valid as a React child (found: %s).%s",D==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":D,I):r("31",D==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":D,I):void 0}}return b}function m(e,t,n){if(e==null){return 0}return h(e,"",t,n)}e.exports=m},function(e,t,n){"use strict";t.__esModule=true;var r=n(18);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}t["default"]=a["default"].shape({subscribe:a["default"].func.isRequired,dispatch:a["default"].func.isRequired,getState:a["default"].func.isRequired})},function(e,t,n){"use strict";t.__esModule=true;t["default"]=r;function r(e){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(e)}try{throw new Error(e)}catch(e){}}},function(e,t,n){"use strict";var r=n(25);var a=n(17);var o=n(1);var i=n(2);function s(e){var t=Function.prototype.toString;var n=Object.prototype.hasOwnProperty;var r=RegExp("^"+t.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var a=t.call(e);return r.test(a)}catch(e){return false}}var u=typeof Array.from==="function"&&typeof Map==="function"&&s(Map)&&Map.prototype!=null&&typeof Map.prototype.keys==="function"&&s(Map.prototype.keys)&&typeof Set==="function"&&s(Set)&&Set.prototype!=null&&typeof Set.prototype.keys==="function"&&s(Set.prototype.keys);var l;var c;var f;var p;var d;var h;var m;if(u){var v=new Map;var y=new Set;l=function(e,t){v.set(e,t)};c=function(e){return v.get(e)};f=function(e){v["delete"](e)};p=function(){return Array.from(v.keys())};d=function(e){y.add(e)};h=function(e){y["delete"](e)};m=function(){return Array.from(y.keys())}}else{var g={};var b={};var _=function(e){return"."+e};var x=function(e){return parseInt(e.substr(1),10)};l=function(e,t){var n=_(e);g[n]=t};c=function(e){var t=_(e);return g[t]};f=function(e){var t=_(e);delete g[t]};p=function(){return Object.keys(g).map(x)};d=function(e){var t=_(e);b[t]=true};h=function(e){var t=_(e);delete b[t]};m=function(){return Object.keys(b).map(x)}}var w=[];function E(e){var t=c(e);if(t){var n=t.childIDs;f(e);n.forEach(E)}}function S(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}function T(e){if(e==null){return"#empty"}else if(typeof e==="string"||typeof e==="number"){return"#text"}else if(typeof e.type==="string"){return e.type}else{return e.type.displayName||e.type.name||"Unknown"}}function M(e){var t=C.getDisplayName(e);var n=C.getElement(e);var r=C.getOwnerID(e);var a;if(r){a=C.getDisplayName(r)}false?i(n,"ReactComponentTreeHook: Missing React element for debugID %s when "+"building stack",e):void 0;return S(t,n&&n._source,a)}var C={onSetChildren:function(e,t){var n=c(e);!n?false?o(false,"Item must have been set"):r("144"):void 0;n.childIDs=t;for(var a=0;a<t.length;a++){var i=t[a];var s=c(i);!s?false?o(false,"Expected hook events to fire for the child before its parent includes it in onSetChildren()."):r("140"):void 0;!(s.childIDs!=null||typeof s.element!=="object"||s.element==null)?false?o(false,"Expected onSetChildren() to fire for a container child before its parent includes it in onSetChildren()."):r("141"):void 0;!s.isMounted?false?o(false,"Expected onMountComponent() to fire for the child before its parent includes it in onSetChildren()."):r("71"):void 0;if(s.parentID==null){s.parentID=e}!(s.parentID===e)?false?o(false,"Expected onBeforeMountComponent() parent and onSetChildren() to be consistent (%s has parents %s and %s).",i,s.parentID,e):r("142",i,s.parentID,e):void 0}},onBeforeMountComponent:function(e,t,n){var r={element:t,parentID:n,text:null,childIDs:[],isMounted:false,updateCount:0};l(e,r)},onBeforeUpdateComponent:function(e,t){var n=c(e);if(!n||!n.isMounted){return}n.element=t},onMountComponent:function(e){var t=c(e);!t?false?o(false,"Item must have been set"):r("144"):void 0;t.isMounted=true;var n=t.parentID===0;if(n){d(e)}},onUpdateComponent:function(e){var t=c(e);if(!t||!t.isMounted){return}t.updateCount++},onUnmountComponent:function(e){var t=c(e);if(t){t.isMounted=false;var n=t.parentID===0;if(n){h(e)}}w.push(e)},purgeUnmountedComponents:function(){if(C._preventPurging){return}for(var e=0;e<w.length;e++){var t=w[e];E(t)}w.length=0},isMounted:function(e){var t=c(e);return t?t.isMounted:false},getCurrentStackAddendum:function(e){var t="";if(e){var n=T(e);var r=e._owner;t+=S(n,e._source,r&&r.getName())}var o=a.current;var i=o&&o._debugID;t+=C.getStackAddendumByID(i);return t},getStackAddendumByID:function(e){var t="";while(e){t+=M(e);e=C.getParentID(e)}return t},getChildIDs:function(e){var t=c(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=C.getElement(e);if(!t){return null}return T(t)},getElement:function(e){var t=c(e);return t?t.element:null},getOwnerID:function(e){var t=C.getElement(e);if(!t||!t._owner){return null}return t._owner._debugID},getParentID:function(e){var t=c(e);return t?t.parentID:null},getSource:function(e){var t=c(e);var n=t?t.element:null;var r=n!=null?n._source:null;return r},getText:function(e){var t=C.getElement(e);if(typeof t==="string"){return t}else if(typeof t==="number"){return""+t}else{return null}},getUpdateCount:function(e){var t=c(e);return t?t.updateCount:0},getRootIDs:m,getRegisteredIDs:p};e.exports=C},function(e,t,n){"use strict";var r=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;e.exports=r},function(e,t,n){"use strict";var r=false;if(false){try{Object.defineProperty({},"x",{get:function(){}});r=true}catch(e){}}e.exports=r},function(e,t,n){"use strict";t["a"]=r;function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}if(t.length===0){return function(e){return e}}if(t.length===1){return t[0]}var r=t[t.length-1];var a=t.slice(0,-1);return function(){return a.reduceRight(function(e,t){return t(e)},r.apply(undefined,arguments))}}},function(e,t,n){"use strict";var r=n(72);var a=n(275);var o=n.n(a);n.d(t,"b",function(){return i});t["a"]=s;var i={INIT:"@@redux/INIT"};function s(e,t,a){var u;if(typeof t==="function"&&typeof a==="undefined"){a=t;t=undefined}if(typeof a!=="undefined"){if(typeof a!=="function"){throw new Error("Expected the enhancer to be a function.")}return a(s)(e,t)}if(typeof e!=="function"){throw new Error("Expected the reducer to be a function.")}var l=e;var c=t;var f=[];var p=f;var d=false;function h(){if(p===f){p=f.slice()}}function m(){return c}function v(e){if(typeof e!=="function"){throw new Error("Expected listener to be a function.")}var t=true;h();p.push(e);return function n(){if(!t){return}t=false;h();var r=p.indexOf(e);p.splice(r,1)}}function y(e){if(!n.i(r["a"])(e)){throw new Error("Actions must be plain objects. "+"Use custom middleware for async actions.")}if(typeof e.type==="undefined"){throw new Error('Actions may not have an undefined "type" property. '+"Have you misspelled a constant?")}if(d){throw new Error("Reducers may not dispatch actions.")}try{d=true;c=l(c,e)}finally{d=false}var t=f=p;for(var a=0;a<t.length;a++){t[a]()}return e}function g(e){if(typeof e!=="function"){throw new Error("Expected the nextReducer to be a function.")}l=e;y({type:i.INIT})}function b(){var e;var t=v;return e={subscribe:function e(n){if(typeof n!=="object"){throw new TypeError("Expected the observer to be an object.")}function r(){if(n.next){n.next(m())}}r();var a=t(r);return{unsubscribe:a}}},e[o.a]=function(){return this},e}y({type:i.INIT});return u={dispatch:y,subscribe:v,getState:m,replaceReducer:g},u[o.a]=b,u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(102);var a=n(274);var o=n(273);var i=n(272);var s=n(101);var u=n(104);n.d(t,"createStore",function(){return r["a"]});n.d(t,"combineReducers",function(){return a["a"]});n.d(t,"bindActionCreators",function(){return o["a"]});n.d(t,"applyMiddleware",function(){return i["a"]});n.d(t,"compose",function(){return s["a"]});function l(){}if(false){warning("You are currently using minified code outside of NODE_ENV === 'production'. "+"This means that you are running a slower development build of Redux. "+"You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify "+"or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) "+"to ensure you have the correct code for your production build.")}},function(e,t,n){"use strict";function r(e){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(e)}try{throw new Error(e)}catch(e){}}},function(e,t){e.exports=function(e){if(typeof execScript!=="undefined")execScript(e);else eval.call(null,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=t.alpha={"en-US":/^[A-Z]+$/i,"cs-CZ":/^[A-Z]+$/i,"da-DK":/^[A-Z]+$/i,"de-DE":/^[A-Z]+$/i,"es-ES":/^[A-Z]+$/i,"fr-FR":/^[A-Z]+$/i,"nl-NL":/^[A-Z]+$/i,"hu-HU":/^[A-Z]+$/i,"pl-PL":/^[A-Z]+$/i,"pt-PT":/^[A-Z]+$/i,"ru-RU":/^[-]+$/i,"sr-RS@latin":/^[A-Z]+$/i,"sr-RS":/^[-]+$/i,"tr-TR":/^[A-Z]+$/i,"uk-UA":/^[-I]+$/i,ar:/^[]+$/};var a=t.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"cs-CZ":/^[0-9A-Z]+$/i,"da-DK":/^[0-9A-Z]$/i,"de-DE":/^[0-9A-Z]+$/i,"es-ES":/^[0-9A-Z]+$/i,"fr-FR":/^[0-9A-Z]+$/i,"hu-HU":/^[0-9A-Z]+$/i,"nl-NL":/^[0-9A-Z]+$/i,"pl-PL":/^[0-9A-Z]+$/i,"pt-PT":/^[0-9A-Z]+$/i,"ru-RU":/^[0-9-]+$/i,"sr-RS@latin":/^[0-9A-Z]+$/i,"sr-RS":/^[0-9-]+$/i,"tr-TR":/^[0-9A-Z]+$/i,"uk-UA":/^[0-9-I]+$/i,ar:/^[0-9]+$/};var o=t.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"];for(var i,s=0;s<o.length;s++){i="en-"+o[s];r[i]=r["en-US"];a[i]=a["en-US"]}r["pt-BR"]=r["pt-PT"];a["pt-BR"]=a["pt-PT"];var u=t.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"];for(var l,c=0;c<u.length;c++){l="ar-"+u[c];r[l]=r.ar;a[l]=a.ar}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){(0,a.default)(e);return e.replace(new RegExp("["+t+"]+","g"),"")}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=s;var a=n(0);var o=i(a);function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){(0,o.default)(e);var n=void 0;var a=void 0;if((typeof t==="undefined"?"undefined":r(t))==="object"){n=t.min||0;a=t.max}else{n=arguments[1];a=arguments[2]}var i=encodeURI(e).split(/%..|./).length-1;return i>=n&&(typeof a==="undefined"||i<=a)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=g;var r=n(0);var a=f(r);var o=n(34);var i=f(o);var s=n(108);var u=f(s);var l=n(63);var c=f(l);function f(e){return e&&e.__esModule?e:{default:e}}var p={allow_display_name:false,require_display_name:false,allow_utf8_local_part:true,require_tld:true};var d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i;var h=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i;var m=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i;var v=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i;var y=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;function g(e,t){(0,a.default)(e);t=(0,i.default)(t,p);if(t.require_display_name||t.allow_display_name){var n=e.match(d);if(n){e=n[1]}else if(t.require_display_name){return false}}var r=e.split("@");var o=r.pop();var s=r.join("@");var l=o.toLowerCase();if(l==="gmail.com"||l==="googlemail.com"){s=s.replace(/\./g,"").toLowerCase()}if(!(0,u.default)(s,{max:64})||!(0,u.default)(o,{max:256})){return false}if(!(0,c.default)(o,{require_tld:t.require_tld})){return false}if(s[0]==='"'){s=s.slice(1,s.length-1);return t.allow_utf8_local_part?y.test(s):m.test(s)}var f=t.allow_utf8_local_part?v:h;var g=s.split(".");for(var b=0;b<g.length;b++){if(!f.test(g[b])){return false}}return true}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.fullWidth=undefined;t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=t.fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function s(e){(0,a.default)(e);return i.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.halfWidth=undefined;t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=t.halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function s(e){(0,a.default)(e);return i.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=/^[0-9A-F]+$/i;function s(e){(0,a.default)(e);return i.test(e)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=u;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/;var s=/^[0-9A-F]{1,4}$/i;function u(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";(0,a.default)(e);t=String(t);if(!t){return u(e,4)||u(e,6)}else if(t==="4"){if(!i.test(e)){return false}var n=e.split(".").sort(function(e,t){return e-t});return n[3]<=255}else if(t==="6"){var r=e.split(":");var o=false;var l=u(r[r.length-1],4);var c=l?7:8;if(r.length>c){return false}if(e==="::"){return true}else if(e.substr(0,2)==="::"){r.shift();r.shift();o=true}else if(e.substr(e.length-2)==="::"){r.pop();r.pop();o=true}for(var f=0;f<r.length;++f){if(r[f]===""&&f>0&&f<r.length-1){if(o){return false}o=true}else if(l&&f===r.length-1){}else if(!s.test(r[f])){return false}}if(o){return r.length>=1}return r.length===c}return false}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.iso8601=undefined;t.default=function(e){(0,a.default)(e);return i.test(e)};var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=t.iso8601=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){(0,a.default)(e);var n=t?new RegExp("^["+t+"]+","g"):/^\s+/g;return e.replace(n,"")}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){(0,a.default)(e);var n=t?new RegExp("["+t+"]"):/\s/;var r=e.length-1;while(r>=0&&n.test(e[r])){r--}return r<e.length?e.substr(0,r+1):e}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function i(e){(0,a.default)(e);return parseFloat(e)}e.exports=t["default"]},function(e,t){function n(e,t){for(var n in e){t[n]=e[n]}}function r(e,t){var r=e.prototype;if(Object.create){var a=Object.create(t.prototype);r.__proto__=a}if(!(r instanceof t)){function o(){}o.prototype=t.prototype;o=new o;n(r,o);e.prototype=r=o}if(r.constructor!=e){if(typeof e!="function"){console.error("unknow Class:"+e)}r.constructor=e}}var a="http://www.w3.org/1999/xhtml";var o={};var i=o.ELEMENT_NODE=1;var s=o.ATTRIBUTE_NODE=2;var u=o.TEXT_NODE=3;var l=o.CDATA_SECTION_NODE=4;var c=o.ENTITY_REFERENCE_NODE=5;var f=o.ENTITY_NODE=6;var p=o.PROCESSING_INSTRUCTION_NODE=7;var d=o.COMMENT_NODE=8;var h=o.DOCUMENT_NODE=9;var m=o.DOCUMENT_TYPE_NODE=10;var v=o.DOCUMENT_FRAGMENT_NODE=11;var y=o.NOTATION_NODE=12;var g={};var b={};var _=g.INDEX_SIZE_ERR=(b[1]="Index size error",1);var x=g.DOMSTRING_SIZE_ERR=(b[2]="DOMString size error",2);var w=g.HIERARCHY_REQUEST_ERR=(b[3]="Hierarchy request error",3);var E=g.WRONG_DOCUMENT_ERR=(b[4]="Wrong document",4);var S=g.INVALID_CHARACTER_ERR=(b[5]="Invalid character",5);var T=g.NO_DATA_ALLOWED_ERR=(b[6]="No data allowed",6);var M=g.NO_MODIFICATION_ALLOWED_ERR=(b[7]="No modification allowed",7);var C=g.NOT_FOUND_ERR=(b[8]="Not found",8);var k=g.NOT_SUPPORTED_ERR=(b[9]="Not supported",9);var I=g.INUSE_ATTRIBUTE_ERR=(b[10]="Attribute in use",10);var P=g.INVALID_STATE_ERR=(b[11]="Invalid state",11);var D=g.SYNTAX_ERR=(b[12]="Syntax error",12);var N=g.INVALID_MODIFICATION_ERR=(b[13]="Invalid modification",13);var A=g.NAMESPACE_ERR=(b[14]="Invalid namespace",14);var O=g.INVALID_ACCESS_ERR=(b[15]="Invalid access",15);function R(e,t){if(t instanceof Error){var n=t}else{n=this;Error.call(this,b[e]);this.message=b[e];if(Error.captureStackTrace)Error.captureStackTrace(this,R)}n.code=e;if(t)this.message=this.message+": "+t;return n}R.prototype=Error.prototype;n(g,R);function j(){}j.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++){me(this[r],n,e,t)}return n.join("")}};function L(e,t){this._node=e;this._refresh=t;F(this)}function F(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);ge(e,"length",r.length);n(r,e);e._inc=t}}L.prototype.item=function(e){F(this);return this[e]};r(L,j);function z(){}function U(e,t){var n=e.length;while(n--){if(e[n]===t){return n}}}function B(e,t,n,r){if(r){t[U(t,r)]=n}else{t[t.length++]=n}if(e){n.ownerElement=e;var a=e.ownerDocument;if(a){r&&Z(a,e,r);Y(a,e,n)}}}function q(e,t,n){var r=U(t,n);if(r>=0){var a=t.length-1;while(r<a){t[r]=t[++r]}t.length=a;if(e){var o=e.ownerDocument;if(o){Z(o,e,n);n.ownerElement=null}}}else{throw R(C,new Error(e.tagName+"@"+n))}}z.prototype={length:0,item:j.prototype.item,getNamedItem:function(e){var t=this.length;while(t--){var n=this[t];if(n.nodeName==e){return n}}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement){throw new R(I)}var n=this.getNamedItem(e.nodeName);B(this._ownerElement,this,e,n);return n},setNamedItemNS:function(e){var t=e.ownerElement,n;if(t&&t!=this._ownerElement){throw new R(I)}n=this.getNamedItemNS(e.namespaceURI,e.localName);B(this._ownerElement,this,e,n);return n},removeNamedItem:function(e){var t=this.getNamedItem(e);q(this._ownerElement,this,t);return t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);q(this._ownerElement,this,n);return n},getNamedItemNS:function(e,t){var n=this.length;while(n--){var r=this[n];if(r.localName==t&&r.namespaceURI==e){return r}}return null}};function V(e){this._features={};if(e){for(var t in e){this._features=e[t]}}}V.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];if(n&&(!t||t in n)){return true}else{return false}},createDocument:function(e,t,n){var r=new G;r.implementation=this;r.childNodes=new j;r.doctype=n;if(n){r.appendChild(n)}if(t){var a=r.createElementNS(e,t);r.appendChild(a)}return r},createDocumentType:function(e,t,n){var r=new ie;r.name=e;r.nodeName=e;r.publicId=t;r.systemId=n;return r}};function $(){}$.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return J(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t);if(t){this.removeChild(t)}},removeChild:function(e){return K(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(e){return ye(this.ownerDocument||this,this,e)},normalize:function(){var e=this.firstChild;while(e){var t=e.nextSibling;if(t&&t.nodeType==u&&e.nodeType==u){this.removeChild(t);e.appendData(t.data)}else{e.normalize();e=t}}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){var t=this;while(t){var n=t._nsMap;if(n){for(var r in n){if(n[r]==e){return r}}}t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){var t=this;while(t){var n=t._nsMap;if(n){if(e in n){return n[e]}}t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return t==null}};function H(e){return e=="<"&&"&lt;"||e==">"&&"&gt;"||e=="&"&&"&amp;"||e=='"'&&"&quot;"||"&#"+e.charCodeAt()+";"}n(o,$);n(o,$.prototype);function W(e,t){if(t(e)){return true}if(e=e.firstChild){do{if(W(e,t)){return true}}while(e=e.nextSibling)}}function G(){}function Y(e,t,n){e&&e._inc++;var r=n.namespaceURI;if(r=="http://www.w3.org/2000/xmlns/"){t._nsMap[n.prefix?n.localName:""]=n.value}}function Z(e,t,n,r){e&&e._inc++;var a=n.namespaceURI;if(a=="http://www.w3.org/2000/xmlns/"){delete t._nsMap[n.prefix?n.localName:""]}}function X(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n){r[r.length++]=n}else{var a=t.firstChild;var o=0;while(a){r[o++]=a;a=a.nextSibling}r.length=o}}}function K(e,t){var n=t.previousSibling;var r=t.nextSibling;if(n){n.nextSibling=r}else{e.firstChild=r}if(r){r.previousSibling=n}else{e.lastChild=n}X(e.ownerDocument,e);return t}function J(e,t,n){var r=t.parentNode;if(r){r.removeChild(t)}if(t.nodeType===v){var a=t.firstChild;if(a==null){return t}var o=t.lastChild}else{a=o=t}var i=n?n.previousSibling:e.lastChild;a.previousSibling=i;o.nextSibling=n;if(i){i.nextSibling=a}else{e.firstChild=a}if(n==null){e.lastChild=o}else{n.previousSibling=o}do{a.parentNode=e}while(a!==o&&(a=a.nextSibling));X(e.ownerDocument||e,e);if(t.nodeType==v){t.firstChild=t.lastChild=null}return t}function Q(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t);var r=e.lastChild}var r=e.lastChild;t.parentNode=e;t.previousSibling=r;t.nextSibling=null;if(r){r.nextSibling=t}else{e.firstChild=t}e.lastChild=t;X(e.ownerDocument,e,t);return t}G.prototype={nodeName:"#document",nodeType:h,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==v){var n=e.firstChild;while(n){var r=n.nextSibling;this.insertBefore(n,t);n=r}return e}if(this.documentElement==null&&e.nodeType==i){this.documentElement=e}return J(this,e,t),e.ownerDocument=this,e},removeChild:function(e){if(this.documentElement==e){this.documentElement=null}return K(this,e)},importNode:function(e,t){return ve(this,e,t)},getElementById:function(e){var t=null;W(this.documentElement,function(n){if(n.nodeType==i){if(n.getAttribute("id")==e){t=n;return true}}});return t},createElement:function(e){var t=new ee;t.ownerDocument=this;t.nodeName=e;t.tagName=e;t.childNodes=new j;var n=t.attributes=new z;n._ownerElement=t;return t},createDocumentFragment:function(){var e=new ce;e.ownerDocument=this;e.childNodes=new j;return e},createTextNode:function(e){var t=new re;t.ownerDocument=this;t.appendData(e);return t},createComment:function(e){var t=new ae;t.ownerDocument=this;t.appendData(e);return t},createCDATASection:function(e){var t=new oe;t.ownerDocument=this;t.appendData(e);return t},createProcessingInstruction:function(e,t){var n=new fe;n.ownerDocument=this;n.tagName=n.target=e;n.nodeValue=n.data=t;return n},createAttribute:function(e){var t=new te;t.ownerDocument=this;t.name=e;t.nodeName=e;t.localName=e;t.specified=true;return t},createEntityReference:function(e){var t=new le;t.ownerDocument=this;t.nodeName=e;return t},createElementNS:function(e,t){var n=new ee;var r=t.split(":");var a=n.attributes=new z;n.childNodes=new j;n.ownerDocument=this;n.nodeName=t;n.tagName=t;n.namespaceURI=e;if(r.length==2){n.prefix=r[0];n.localName=r[1]}else{n.localName=t}a._ownerElement=n;return n},createAttributeNS:function(e,t){var n=new te;var r=t.split(":");n.ownerDocument=this;n.nodeName=t;n.name=t;n.namespaceURI=e;n.specified=true;if(r.length==2){n.prefix=r[0];n.localName=r[1]}else{n.localName=t}return n}};r(G,$);function ee(){this._nsMap={}}ee.prototype={nodeType:i,hasAttribute:function(e){return this.getAttributeNode(e)!=null},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t;this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){if(e.nodeType===v){return this.insertBefore(e,null)}else{return Q(this,e)}},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return this.getAttributeNodeNS(e,t)!=null},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n;this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new L(this,function(t){var n=[];W(t,function(r){if(r!==t&&r.nodeType==i&&(e==="*"||r.tagName==e)){n.push(r)}});return n})},getElementsByTagNameNS:function(e,t){return new L(this,function(n){var r=[];W(n,function(a){if(a!==n&&a.nodeType===i&&(e==="*"||a.namespaceURI===e)&&(t==="*"||a.localName==t)){r.push(a)}});return r})}};G.prototype.getElementsByTagName=ee.prototype.getElementsByTagName;G.prototype.getElementsByTagNameNS=ee.prototype.getElementsByTagNameNS;r(ee,$);function te(){}te.prototype.nodeType=s;r(te,$);function ne(){}ne.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e;this.nodeValue=this.data=e;this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(b[w])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var r=this.data.substring(0,e);var a=this.data.substring(e+t);n=r+n+a;this.nodeValue=this.data=n;this.length=n.length}};r(ne,$);function re(){}re.prototype={nodeName:"#text",nodeType:u,splitText:function(e){var t=this.data;var n=t.substring(e);t=t.substring(0,e);this.data=this.nodeValue=t;this.length=t.length;var r=this.ownerDocument.createTextNode(n);if(this.parentNode){this.parentNode.insertBefore(r,this.nextSibling)}return r}};r(re,ne);function ae(){}ae.prototype={nodeName:"#comment",nodeType:d};r(ae,ne);function oe(){}oe.prototype={nodeName:"#cdata-section",nodeType:l};r(oe,ne);function ie(){}ie.prototype.nodeType=m;r(ie,$);function se(){}se.prototype.nodeType=y;r(se,$);function ue(){}ue.prototype.nodeType=f;r(ue,$);function le(){}le.prototype.nodeType=c;r(le,$);function ce(){}ce.prototype.nodeName="#document-fragment";ce.prototype.nodeType=v;r(ce,$);function fe(){}fe.prototype.nodeType=p;r(fe,$);function pe(){}pe.prototype.serializeToString=function(e,t,n){return de.call(e,t,n)};$.prototype.toString=de;function de(e,t){var n=[];var r=this.nodeType==9?this.documentElement:this;var a=r.prefix;var o=r.namespaceURI;if(o&&a==null){var a=r.lookupPrefix(o);if(a==null){var i=[{namespace:o,prefix:null}]}}me(this,n,e,t,i);return n.join("")}function he(e,t,n){var r=e.prefix||"";var a=e.namespaceURI;if(!r&&!a){return false}if(r==="xml"&&a==="http://www.w3.org/XML/1998/namespace"||a=="http://www.w3.org/2000/xmlns/"){return false}var o=n.length;while(o--){var i=n[o];if(i.prefix==r){return i.namespace!=a}}return true}function me(e,t,n,r,o){if(r){e=r(e);if(e){if(typeof e=="string"){t.push(e);return}}else{return}}switch(e.nodeType){case i:if(!o)o=[];var f=o.length;var y=e.attributes;var g=y.length;var b=e.firstChild;var _=e.tagName;n=a===e.namespaceURI||n;t.push("<",_);for(var x=0;x<g;x++){var w=y.item(x);if(w.prefix=="xmlns"){o.push({prefix:w.localName,namespace:w.value})}else if(w.nodeName=="xmlns"){o.push({prefix:"",namespace:w.value})}}for(var x=0;x<g;x++){var w=y.item(x);if(he(w,n,o)){var E=w.prefix||"";var S=w.namespaceURI;var T=E?" xmlns:"+E:" xmlns";t.push(T,'="',S,'"');o.push({prefix:E,namespace:S})}me(w,t,n,r,o)}if(he(e,n,o)){var E=e.prefix||"";var S=e.namespaceURI;var T=E?" xmlns:"+E:" xmlns";t.push(T,'="',S,'"');o.push({prefix:E,namespace:S})}if(b||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(_)){t.push(">");if(n&&/^script$/i.test(_)){while(b){if(b.data){t.push(b.data)}else{me(b,t,n,r,o)}b=b.nextSibling}}else{while(b){me(b,t,n,r,o);b=b.nextSibling}}t.push("</",_,">")}else{t.push("/>")}return;case h:case v:var b=e.firstChild;while(b){me(b,t,n,r,o);b=b.nextSibling}return;case s:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,H),'"');case u:return t.push(e.data.replace(/[<&]/g,H));case l:return t.push("<![CDATA[",e.data,"]]>");case d:return t.push("\x3c!--",e.data,"--\x3e");case m:var M=e.publicId;var C=e.systemId;t.push("<!DOCTYPE ",e.name);if(M){t.push(' PUBLIC "',M);if(C&&C!="."){t.push('" "',C)}t.push('">')}else if(C&&C!="."){t.push(' SYSTEM "',C,'">')}else{var k=e.internalSubset;if(k){t.push(" [",k,"]")}t.push(">")}return;case p:return t.push("<?",e.target," ",e.data,"?>");case c:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ve(e,t,n){var r;switch(t.nodeType){case i:r=t.cloneNode(false);r.ownerDocument=e;case v:break;case s:n=true;break}if(!r){r=t.cloneNode(false)}r.ownerDocument=e;r.parentNode=null;if(n){var a=t.firstChild;while(a){r.appendChild(ve(e,a,n));a=a.nextSibling}}return r}function ye(e,t,n){var r=new t.constructor;for(var a in t){var o=t[a];if(typeof o!="object"){if(o!=r[a]){r[a]=o}}}if(t.childNodes){r.childNodes=new j}r.ownerDocument=e;switch(r.nodeType){case i:var u=t.attributes;var l=r.attributes=new z;var c=u.length;l._ownerElement=r;for(var f=0;f<c;f++){r.setAttributeNode(ye(e,u.item(f),true))}break;case s:n=true}if(n){var p=t.firstChild;while(p){r.appendChild(ye(e,p,n));p=p.nextSibling}}return r}function ge(e,t,n){e[t]=n}try{if(Object.defineProperty){Object.defineProperty(L.prototype,"length",{get:function(){F(this);return this.$$length}});Object.defineProperty($.prototype,"textContent",{get:function(){return be(this)},set:function(e){switch(this.nodeType){case i:case v:while(this.firstChild){this.removeChild(this.firstChild)}if(e||String(e)){this.appendChild(this.ownerDocument.createTextNode(e))}break;default:this.data=e;this.value=e;this.nodeValue=e}}});function be(e){switch(e.nodeType){case i:case v:var t=[];e=e.firstChild;while(e){if(e.nodeType!==7&&e.nodeType!==8){t.push(be(e))}e=e.nextSibling}return t.join("");default:return e.nodeValue}}ge=function(e,t,n){e["$$"+t]=n}}}catch(e){}t.DOMImplementation=V;t.XMLSerializer=pe},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(4);var a=n.n(r);var o=n(190);var i=n.n(o);var s=n(8);var u=n.n(s);var l=n(146);var c=n(9);var f=n(131);var p=n(15);var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};var h=null;if(typeof ISOMORPHIC_WEBPACK==="undefined"){var m={map:{accessToken:"pk.eyJ1IjoidGpzY29sbGlucyIsImEiOiJjaXdhZjl4b3AwM2h5MzNwbzZ0eDg0YWZsIn0.uR5NCLn73"+"_X2M9PxDO_4KA"},geoJSON:{type:"FeatureCollection"},userSession:d({},JSON.parse(sessionStorage.getItem("trailmaster-login")),{loading:true,visibleFeatures:[],distanceFilter:50,trackingRoute:false,routeList:[],mapCentering:false,coords:{latitude:0,longitude:0},gpsTracking:{enable:true,watcher:null,mock:false}})};h=n.i(l["a"])(m);var v=function e(t){var r=h.getState(),a=r.userSession,o=a.coords,i=o.latitude,s=o.longitude,u=a.gpsTracking.mock;if(n.i(p["a"])({latitude:i,longitude:s},t.coords)&&!u){h.dispatch(c["a"](t))}if(h.getState().userSession.trackingRoute)h.dispatch(c["b"](t))};var y=function e(t){console.error("Error tracking user position",t)};var g=navigator.geolocation.watchPosition(v,y,{timeout:6e4,enableHighAccuracy:true,maximumAge:Infinity});h.dispatch(c["c"](g))}else{var b={map:{accessToken:"pk.eyJ1IjoidGpzY29sbGlucyIsImEiOiJjaXdhZjl4b3AwM2h5MzNwbzZ0eDg0YWZsIn0.uR5NCLn73"+"_X2M9PxDO_4KA"},geoJSON:{type:"FeatureCollection"},userSession:{loading:true,visibleFeatures:[],distanceFilter:50,trackingRoute:false,routeList:[],mapCentering:false,coords:{latitude:0,longitude:0},gpsTracking:{enable:true,watcher:null,mock:false}}};h=n.i(l["a"])(b)}var _=a.a.createElement(s["Provider"],{store:h},a.a.createElement(f["a"],null));if(typeof ISOMORPHIC_WEBPACK==="undefined"){i.a.render(_,document.getElementById("app"))}t["default"]=_},function(e,t,n){n(105)(n(188))},function(e,t,n){n(105)(n(189))},function(e,t,n){(function(r){var a=function(){"use strict";var e=/\s*/g,a=/^\s*|\s*$/g,o=/\s+/;function i(e){if(!e||!e.length)return 0;for(var t=0,n=0;t<e.length;t++){n=(n<<5)-n+e.charCodeAt(t)|0}return n}function s(e,t){return e.getElementsByTagName(t)}function u(e,t){return e.getAttribute(t)}function l(e,t){return parseFloat(u(e,t))}function c(e,t){var n=s(e,t);return n.length?n[0]:null}function f(e){if(e.normalize){e.normalize()}return e}function p(e){for(var t=0,n=[];t<e.length;t++){n[t]=parseFloat(e[t])}return n}function d(e){if(e){f(e)}return e&&e.textContent||""}function h(e,t){var n={},r,a;for(a=0;a<t.length;a++){r=c(e,t[a]);if(r)n[t[a]]=d(r)}return n}function m(e,t){for(var n in t)e[n]=t[n]}function v(t){return p(t.replace(e,"").split(","))}function y(e){var t=e.replace(a,"").split(o),n=[];for(var r=0;r<t.length;r++){n.push(v(t[r]))}return n}function g(e){var t=[l(e,"lon"),l(e,"lat")],n=c(e,"ele"),r=c(e,"gpxtpx:hr")||c(e,"hr"),a=c(e,"time"),o;if(n){o=parseFloat(d(n));if(!isNaN(o)){t.push(o)}}return{coordinates:t,time:a?d(a):null,heartRate:r?parseFloat(d(r)):null}}function b(){return{type:"FeatureCollection",features:[]}}var _;if(typeof XMLSerializer!=="undefined"){_=new XMLSerializer}else if(typeof t==="object"&&typeof r==="object"&&!r.browser){_=new(n(329).XMLSerializer)}function x(e){if(e.xml!==undefined)return e.xml;return _.serializeToString(e)}var w={kml:function(e){var t=b(),n={},r={},a={},o=["Polygon","LineString","Point","Track","gx:Track"],l=s(e,"Placemark"),f=s(e,"Style"),h=s(e,"StyleMap");for(var m=0;m<f.length;m++){var g=i(x(f[m])).toString(16);n["#"+u(f[m],"id")]=g;r[g]=f[m]}for(var _=0;_<h.length;_++){n["#"+u(h[_],"id")]=i(x(h[_])).toString(16);var w=s(h[_],"Pair");var E={};for(var S=0;S<w.length;S++){E[d(c(w[S],"key"))]=d(c(w[S],"styleUrl"))}a["#"+u(h[_],"id")]=E}for(var T=0;T<l.length;T++){t.features=t.features.concat(P(l[T]))}function M(e){var t,n;e=e||"";if(e.substr(0,1)==="#"){e=e.substr(1)}if(e.length===6||e.length===3){t=e}if(e.length===8){n=parseInt(e.substr(0,2),16)/255;t="#"+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)}return[t,isNaN(n)?undefined:n]}function C(e){return p(e.split(" "))}function k(e){var t=s(e,"coord","gx"),n=[],r=[];if(t.length===0)t=s(e,"gx:coord");for(var a=0;a<t.length;a++)n.push(C(d(t[a])));var o=s(e,"when");for(var i=0;i<o.length;i++)r.push(d(o[i]));return{coords:n,times:r}}function I(e){var t,n,r,a,i,u=[],l=[];if(c(e,"MultiGeometry")){return I(c(e,"MultiGeometry"))}if(c(e,"MultiTrack")){return I(c(e,"MultiTrack"))}if(c(e,"gx:MultiTrack")){return I(c(e,"gx:MultiTrack"))}for(r=0;r<o.length;r++){n=s(e,o[r]);if(n){for(a=0;a<n.length;a++){t=n[a];if(o[r]==="Point"){u.push({type:"Point",coordinates:v(d(c(t,"coordinates")))})}else if(o[r]==="LineString"){u.push({type:"LineString",coordinates:y(d(c(t,"coordinates")))})}else if(o[r]==="Polygon"){var f=s(t,"LinearRing"),p=[];for(i=0;i<f.length;i++){p.push(y(d(c(f[i],"coordinates"))))}u.push({type:"Polygon",coordinates:p})}else if(o[r]==="Track"||o[r]==="gx:Track"){var h=k(t);u.push({type:"LineString",coordinates:h.coords});if(h.times.length)l.push(h.times)}}}}return{geoms:u,coordTimes:l}}function P(e){var t=I(e),o,i={},l=d(c(e,"name")),f=d(c(e,"address")),p=d(c(e,"styleUrl")),h=d(c(e,"description")),m=c(e,"TimeSpan"),v=c(e,"TimeStamp"),y=c(e,"ExtendedData"),g=c(e,"LineStyle"),b=c(e,"PolyStyle"),_=c(e,"visibility");if(!t.geoms.length)return[];if(l)i.name=l;if(f)i.address=f;if(p){if(p[0]!=="#"){p="#"+p}i.styleUrl=p;if(n[p]){i.styleHash=n[p]}if(a[p]){i.styleMapHash=a[p];i.styleHash=n[a[p].normal]}var x=r[i.styleHash];if(x){if(!g)g=c(x,"LineStyle");if(!b)b=c(x,"PolyStyle")}}if(h)i.description=h;if(m){var w=d(c(m,"begin"));var E=d(c(m,"end"));i.timespan={begin:w,end:E}}if(v){i.timestamp=d(c(v,"when"))}if(g){var S=M(d(c(g,"color"))),T=S[0],C=S[1],k=parseFloat(d(c(g,"width")));if(T)i.stroke=T;if(!isNaN(C))i["stroke-opacity"]=C;if(!isNaN(k))i["stroke-width"]=k}if(b){var P=M(d(c(b,"color"))),D=P[0],N=P[1],A=d(c(b,"fill")),O=d(c(b,"outline"));if(D)i.fill=D;if(!isNaN(N))i["fill-opacity"]=N;if(A)i["fill-opacity"]=A==="1"?i["fill-opacity"]||1:0;if(O)i["stroke-opacity"]=O==="1"?i["stroke-opacity"]||1:0}if(y){var R=s(y,"Data"),j=s(y,"SimpleData");for(o=0;o<R.length;o++){i[R[o].getAttribute("name")]=d(c(R[o],"value"))}for(o=0;o<j.length;o++){i[j[o].getAttribute("name")]=d(j[o])}}if(_){i.visibility=d(_)}if(t.coordTimes.length){i.coordTimes=t.coordTimes.length===1?t.coordTimes[0]:t.coordTimes}var L={type:"Feature",geometry:t.geoms.length===1?t.geoms[0]:{type:"GeometryCollection",geometries:t.geoms},properties:i};if(u(e,"id"))L.id=u(e,"id");return[L]}return t},gpx:function(e){var t,n=s(e,"trk"),r=s(e,"rte"),a=s(e,"wpt"),o=b(),i;for(t=0;t<n.length;t++){i=f(n[t]);if(i)o.features.push(i)}for(t=0;t<r.length;t++){i=p(r[t]);if(i)o.features.push(i)}for(t=0;t<a.length;t++){o.features.push(v(a[t]))}function l(e,t){var n=s(e,t),r=[],a=[],o=[],i=n.length;if(i<2)return{};for(var u=0;u<i;u++){var l=g(n[u]);r.push(l.coordinates);if(l.time)a.push(l.time);if(l.heartRate)o.push(l.heartRate)}return{line:r,times:a,heartRates:o}}function f(e){var t=s(e,"trkseg"),n=[],r=[],a=[],o;for(var i=0;i<t.length;i++){o=l(t[i],"trkpt");if(o){if(o.line)n.push(o.line);if(o.times&&o.times.length)r.push(o.times);if(o.heartRates&&o.heartRates.length)a.push(o.heartRates)}}if(n.length===0)return;var u=_(e);m(u,y(c(e,"extensions")));if(r.length)u.coordTimes=n.length===1?r[0]:r;if(a.length)u.heartRates=n.length===1?a[0]:a;return{type:"Feature",properties:u,geometry:{type:n.length===1?"LineString":"MultiLineString",coordinates:n.length===1?n[0]:n}}}function p(e){var t=l(e,"rtept");if(!t.line)return;var n=_(e);m(n,y(c(e,"extensions")));var r={type:"Feature",properties:n,geometry:{type:"LineString",coordinates:t.line}};return r}function v(e){var t=_(e);m(t,h(e,["sym"]));return{type:"Feature",properties:t,geometry:{type:"Point",coordinates:g(e).coordinates}}}function y(e){var t={};if(e){var n=c(e,"line");if(n){var r=d(c(n,"color")),a=parseFloat(d(c(n,"opacity"))),o=parseFloat(d(c(n,"width")));if(r)t.stroke=r;if(!isNaN(a))t["stroke-opacity"]=a;if(!isNaN(o))t["stroke-width"]=o*96/25.4}}return t}function _(e){var t=h(e,["name","cmt","desc","type","time","keywords"]),n=s(e,"link");if(n.length)t.links=[];for(var r=0,a;r<n.length;r++){a={href:u(n[r],"href")};m(a,h(n[r],["text","type"]));t.links.push(a)}return t}return o}};return w}();if(true)e.exports=a}).call(t,n(42))},function(e,t,n){var r=n(28).featureEach;var a=n(28).geomEach;var o=n(66).getCoords;var i=n(35);var s=i.point;var u=i.lineString;var l=i.polygon;var c=i.featureCollection;function f(e){var t=e.geometry?e.geometry.type:e.type;switch(t){case"MultiPoint":return p(e);case"MultiPolygon":return h(e);case"MultiLineString":return d(e);case"FeatureCollection":return m(e);case"GeometryCollection":return v(e);case"Point":case"LineString":case"Polygon":return c([e])}}e.exports=f;function p(e){var t=[];o(e).forEach(function(n){t.push(s(n,e.properties))});return c(t)}function d(e){var t=[];o(e).forEach(function(n){t.push(u(n,e.properties))});return c(t)}function h(e){var t=[];o(e).forEach(function(n){t.push(l(n,e.properties))});return c(t)}function m(e){var t=[];r(e,function(e){switch(e.geometry.type){case"MultiPoint":case"MultiLineString":case"MultiPolygon":r(f(e),function(e){t.push(e)});break;default:t.push(e)}});return c(t)}function v(e){var t=[];a(e,function(e){switch(e.type){case"MultiPoint":case"MultiLineString":case"MultiPolygon":r(f(e),function(e){t.push(e)});break;default:var n={type:"Feature",properties:{},geometry:e};t.push(n)}});return c(t)}},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(12);var i=n.n(o);var s=n(15);var u=n(61);var l=n.n(u);var c=n(6);var f=n(139);var p=n(138);var d=n(137);var h=n(142);var m=n(141);var v=n(140);var y=n(145);var g=n(144);var b=n(143);var _=n(135);var x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function w(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function E(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function S(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var T=function(e){S(t,e);function t(){w(this,t);return E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}x(t,[{key:"poiControls",value:function e(){var t=window.navigator.userAgent.match(/Android|iPhone|iPod/i);return t?[a.a.createElement(d["a"],{key:l()()}),a.a.createElement(f["a"],{key:l()()}),a.a.createElement(p["a"],{key:l()()})]:[a.a.createElement(f["a"],{key:l()()}),a.a.createElement(p["a"],{key:l()()})]}},{key:"routesControls",value:function e(){var t=window.navigator.userAgent.match(/Android|iPhone|iPod/i);return t?[a.a.createElement(v["a"],{key:l()()}),a.a.createElement(h["a"],{key:l()()}),a.a.createElement(m["a"],{key:l()()})]:[a.a.createElement(h["a"],{key:l()()}),a.a.createElement(m["a"],{key:l()()})]}},{key:"render",value:function e(){return a.a.createElement("div",null,a.a.createElement("div",{className:"controls"},a.a.createElement("div",{id:"accordion",role:"tablist","aria-multiselectable":"true"},a.a.createElement("div",{className:"panel panel-primary"},a.a.createElement("div",{className:"panel-heading",role:"tab",id:"headingOne"},a.a.createElement("h3",{className:"controls-title"},a.a.createElement("a",{"data-toggle":"collapse","data-parent":"#accordion",href:"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},a.a.createElement("i",{className:"fa fa-map-marker"})," Points of Interest")),a.a.createElement("i",{onClick:s["d"].bind(this,350),id:"hide-arrow",className:"hidecontrols fa fa-2x fa-arrow-left","aria-hidden":"true"})),a.a.createElement("div",{id:"collapseOne",className:"collapse in",role:"tabpanel","aria-labelledby":"headingOne"},a.a.createElement("div",{className:"panel-body control-panel"},this.poiControls()))),a.a.createElement("div",{className:"panel panel-primary"},a.a.createElement("div",{className:"panel-heading",role:"tab",id:"headingTwo"},a.a.createElement("h3",{className:"controls-title"},a.a.createElement("a",{className:"collapsed","data-toggle":"collapse","data-parent":"#accordion",href:"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"},a.a.createElement("i",{className:"fa fa-road","aria-hidden":"true"})," Routes"))),a.a.createElement("div",{id:"collapseTwo",className:"collapse",role:"tabpanel","aria-labelledby":"headingTwo"},a.a.createElement("div",{className:"panel-body control-panel"},this.routesControls()))),a.a.createElement("div",{className:"panel panel-primary"},a.a.createElement("div",{className:"panel-heading",role:"tab",id:"headingThree"},a.a.createElement("h3",{className:"controls-title"},a.a.createElement("a",{className:"collapsed","data-toggle":"collapse","data-parent":"#accordion",href:"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree"},a.a.createElement("i",{className:"fa fa-tree","aria-hidden":"true"})," Your Trails"))),a.a.createElement("div",{id:"collapseThree",className:"collapse",role:"tabpanel","aria-labelledby":"headingThree"},a.a.createElement("div",{className:"panel-body control-panel"},a.a.createElement(b["a"],null),a.a.createElement("hr",null),a.a.createElement(y["a"],null),a.a.createElement(g["a"],null)))),a.a.createElement("div",{className:"panel panel-primary"},a.a.createElement("div",{className:"panel-heading",role:"tab",id:"headingFour"},a.a.createElement("h3",{className:"controls-title"},a.a.createElement("a",{className:"collapsed","data-toggle":"collapse","data-parent":"#accordion",href:"#collapseFour","aria-expanded":"false","aria-controls":"collapseFour"},a.a.createElement("i",{className:"fa fa-wrench","aria-hidden":"true"})," Tools"))),a.a.createElement("div",{id:"collapseFour",className:"collapse",role:"tabpanel","aria-labelledby":"headingFour"},a.a.createElement("div",{className:"panel-body control-panel"},a.a.createElement(_["a"],null)))))))}}]);return t}(c["a"]);t["a"]=T},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(18);var i=n.n(o);var s=n(12);var u=n.n(s);var l=n(6);var c=n(9);var f=n(8);var p=n.n(f);var d=n(62);var h=n.n(d);var m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function y(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function g(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var b=function(e){g(t,e);function t(){v(this,t);var e=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._bind("submit");return e}m(t,[{key:"submit",value:function e(t){var r=this.props.dispatch;t.preventDefault();u()("#distance-filter").modal("hide");var a=n.i(d["toInt"])(this.refs.distance.value);this.refs.distance.value="";if(!Number.isNaN(a)){r(n.i(c["f"])(a))}}},{key:"render",value:function e(){return a.a.createElement("div",{id:"distance-filter",className:"modal fade"},a.a.createElement("div",{className:"modal-dialog",role:"document"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-header"},a.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true"},"")),a.a.createElement("h4",{className:"modal-title"},"Distance Filter")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("form",{onSubmit:this.submit,className:"form-inline"},a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"sr-only",htmlFor:"distance"},"Display Features Within:"),a.a.createElement("label",{htmlFor:"distance"},"Display Features Within:"),a.a.createElement("div",{className:"input-group"},a.a.createElement("input",{type:"text",className:"form-control",ref:"distance",placeholder:this.props.userSession.distanceFilter}),a.a.createElement("div",{className:"input-group-addon"},"miles"))))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{onClick:this.submit,type:"button",className:"btn btn-default","data-dismiss":"modal"},"Save")))))}}]);return t}(l["a"]);b.propTypes={dispatch:i.a.func.isRequired,userSession:i.a.object.isRequired};t["a"]=n.i(f["connect"])(function(e){return e})(b)},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(6);var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var c=function(e){l(t,e);function t(){s(this,t);return u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}i(t,[{key:"render",value:function e(){return a.a.createElement("div",{id:"faq-modal",className:"modal fade"},a.a.createElement("div",{className:"modal-dialog",role:"document"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-header"},a.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true"},"")),a.a.createElement("h4",{className:"modal-title"},"Frequently Asked Questions")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("ol",null,a.a.createElement("li",null,a.a.createElement("h5",null,"What is Trailmaster?"),a.a.createElement("p",null,"Trailmaster is a publicly accessible, open-source web application for storing, sharing, and using GPS data from wearable athletic devices to plan new trail running and mountain biking courses.")),a.a.createElement("li",null,a.a.createElement("h5",null,"How Do I Use TrailMaster?"),a.a.createElement("p",null,"The website is meant to be simple to use. ",a.a.createElement("a",{target:"_blank",href:"https://www.youtube.com/watch?v=spYawo61iIc"},"This Youtube video")," explains how to use the site to plan new running and biking courses.")),a.a.createElement("li",null,a.a.createElement("h5",null,"How Can I Use the Site While Marking or Running a Course?"),a.a.createElement("p",null,"Trailmaster can be accessed from any Android or iOS device the same as you access it from your computer.  ",a.a.createElement("a",{target:"_blank",href:"http://www.howtogeek.com/196087/how-to-add-websites-to-the-home-screen-on-any-smartphone-or-tablet/"},"This page")," explains how to save Trailmaster to your mobile device's homescreen ")),a.a.createElement("li",null,a.a.createElement("h5",null,"Is There an App Store Version?"),a.a.createElement("p",null,"Not yet, but an Android version is in development.  Once finished it will have several new capabilities that the website does not have.")),a.a.createElement("li",null,a.a.createElement("h5",null,"How Do I Contribute to the Database?"),a.a.createElement("p",null,"Contributing to the database of running and biking routes is simple once you know how to get a GPX file from your GPS-capable device.  See ",a.a.createElement("a",{target:"_blank",href:"https://youtu.be/2LyszJVVjLk"},"this video")," for instructions on how to upload data.")),a.a.createElement("li",null,a.a.createElement("h5",null,"Why Don't I See Any POIs or Routes?"),a.a.createElement("p",null,"Trailmaster is currently set to only display data within 50 miles of the center of your current map view.  If you don't see any data, then no one in that area has shared any data yet.  Be the first!  Or, change the distance filter settings using the settings dropdown menu.")),a.a.createElement("li",null,a.a.createElement("h5",null,"I Found a Bug!"),a.a.createElement("p",null,"Send me an email at ",a.a.createElement("a",{target:"_blank",href:"mailto:tjscollins@gmail.com"},"tjscollins@gmail.com")," describing what you were doing and what happened.  Please include 'Trailmaster Bug' in the subject line.  Alternatively, please go to the ",a.a.createElement("a",{href:"https://github.com/tjscollins/trailmaster/issues"},"issues page")," and create a new issue.")))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{type:"submit",className:"btn btn-default","data-dismiss":"modal"},"Dismiss")))))}}]);return t}(o["a"]);t["a"]=c},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(18);var i=n.n(o);var s=n(8);var u=n.n(s);var l=n(12);var c=n.n(l);var f=n(61);var p=n.n(f);var d=n(15);var h=n(6);var m=n(9);var v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var _=function(e){b(t,e);function t(){y(this,t);var e=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._bind("logout","toggleAutoCenter");return e}v(t,[{key:"logout",value:function e(){var t=this.props,n=t.dispatch,r=t.userSession;c.a.ajax({url:"/users/logout",type:"GET",beforeSend:function e(t){t.setRequestHeader("x-auth",r.xAuth)},success:function e(t){n(m["w"]());n(m["x"]())},error:function e(t,n,r){console.error("Error logging out: "+n+" "+r,t)}})}},{key:"manageLoginDisplay",value:function e(){var t=this.props.userSession;return t.xAuth?[a.a.createElement("li",{key:p()()},a.a.createElement("a",{href:"#"},t.email)),a.a.createElement("li",{key:p()()},a.a.createElement("a",{href:"#",onClick:this.logout},"Log out"))]:[a.a.createElement("li",{key:p()()},a.a.createElement("a",{href:"#",onClick:this.showAccountCreator},"Create Account")),a.a.createElement("li",{key:p()()},a.a.createElement("a",{href:"#",onClick:this.showLogin},"Sign-in"))]}},{key:"setDistanceFilter",value:function e(){c()("#distance-filter").modal("show")}},{key:"setMockLocation",value:function e(){c()("#mock-location").modal("show")}},{key:"showAccountCreator",value:function e(){c()("#account-creator").modal("show")}},{key:"showFAQ",value:function e(){c()("#faq-modal").modal("show")}},{key:"showLogin",value:function e(){c()("#login-modal").modal("show")}},{key:"toggleHeader",value:function e(){if(c()("button.navbar-toggle").hasClass("collapsed")){setTimeout(function(){c()("nav").css("height","50px")},350)}else{c()("nav").css("height","auto")}}},{key:"toggleAutoCenter",value:function e(){this.props.dispatch(m["y"]())}},{key:"render",value:function e(){var t=this.props.userSession;var n=function e(){return t.mapCentering?"Disable Auto-Center":"Enable Auto-Center"};return a.a.createElement("nav",{id:"Header",className:"navbar navbar-default navbar-fixed-top"},a.a.createElement("div",{className:"navbar-header"},a.a.createElement("a",{className:"navbar-brand",href:"#",onClick:d["d"].bind(this,350)},a.a.createElement("i",{className:"fa fa-compass","aria-hidden":"true"}),"TrailMaster ",a.a.createElement("i",{className:"headerhidecontrols fa fa-arrow-right","aria-hidden":"true"})),a.a.createElement("button",{type:"button",className:"navbar-toggle collapsed","data-toggle":"collapse","data-target":"#navbarui","aria-expanded":"false",onClick:this.toggleHeader},a.a.createElement("span",{className:"sr-only"},"Toggle navigation"),a.a.createElement("span",{className:"icon-bar"}),a.a.createElement("span",{className:"icon-bar"}),a.a.createElement("span",{className:"icon-bar"}))),a.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarui"},a.a.createElement("ul",{className:"nav navbar-nav navbar-left"},this.manageLoginDisplay()),a.a.createElement("ul",{className:"nav navbar-nav navbar-right"},a.a.createElement("li",{className:"dropdown"},a.a.createElement("a",{href:"#",className:"dropdown-toggle","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"},"Settings",a.a.createElement("span",{className:"caret"})),a.a.createElement("ul",{className:"dropdown-menu"},a.a.createElement("li",null,a.a.createElement("a",{className:"autocenter",onClick:this.toggleAutoCenter,style:{cursor:"pointer"}},n())),a.a.createElement("li",null,a.a.createElement("a",{href:"#",onClick:this.setDistanceFilter},"Set Distance Filter")),a.a.createElement("li",null,a.a.createElement("a",{href:"#",onClick:this.setMockLocation},"Search Near")))),a.a.createElement("li",null,a.a.createElement("a",{onClick:this.showFAQ,style:{cursor:"pointer"}},"FAQ")))))}}]);return t}(h["a"]);_.propTypes={dispatch:i.a.func,userSession:i.a.object};t["a"]=n.i(s["connect"])(function(e){return e})(_)},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(18);var i=n.n(o);var s=n(8);var u=n.n(s);var l=n(122);var c=n.n(l);var f=n(327);var p=n.n(f);var d=n(15);var h=n(12);var m=n.n(h);var v=n(6);var y=n(9);var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};var b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function _(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}function x(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function w(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function E(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var S=function(e){E(t,e);function t(){x(this,t);var e=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._bind("dataEntry","formChange","importData");e.state={dataType:"gpx",importedGeoJSON:{features:[{}]}};return e}b(t,[{key:"dataEntry",value:function e(){var t=this.refs.data;var n=(new f["DOMParser"]).parseFromString(t.value);var r=this.state.dataType==="kml"?c.a.kml(n):c.a.gpx(n);this.setState({importedGeoJSON:r})}},{key:"formChange",value:function e(t){var n=this.refs,r=n.name,a=n.desc,o=n.cond,i=n.gpx,s=n.kml;var u=this.state.importedGeoJSON.features;if(Object.keys(u[0]).length===0)return;if(t.target===i||t.target===s){this.setState({dataType:t.target.value})}var l=g({},this.state.importedGeoJSON,{features:[g({},u[0],{properties:g({},u[0].properties,{name:r.value,desc:a.value,cond:o.value})})]});this.setState({importedGeoJSON:l})}},{key:"importData",value:function e(){var t=this;var r=this.refs,a=r.name,o=r.desc,i=r.cond;var s=this.props.dispatch;var u=this.state.importedGeoJSON.features[0].geometry.coordinates.map(function(e){return[e[0],e[1]]});var l=new Date;var c={type:"Feature",properties:{stroke:"#555555","stroke-width":2,"stroke-opacity":1,name:a.value,desc:o.value,condition:i.value,last:n.i(d["c"])(l.getMonth())+" "+l.getFullYear(),displayed:false},geometry:{type:"LineString",coordinates:[].concat(_(u))}};m.a.ajax({url:"/routes",type:"post",headers:{"Content-type":"application/json"},dataType:"json",data:JSON.stringify(c)}).done(function(e){s(y["h"](e));s(y["e"]());t.refs.name.value="";t.refs.desc.value="";t.refs.cond.value="";t.refs.data.value=""})}},{key:"render",value:function e(){return a.a.createElement("div",{id:"import-route",className:"modal fade"},a.a.createElement("div",{className:"modal-dialog",role:"document"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-header"},a.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true"},"")),a.a.createElement("h4",{className:"modal-title"},"Import Route from ","GPX file")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("p",null,"Instructions:"),a.a.createElement("p",null,"Fill out name, description, and current known condition of the route. Paste the contents from your ","GPX file into the box below. Based on the map view of the route, you can delete/trim the series of GPS coordinates from your data until only the section you want remains"),a.a.createElement("form",{onSubmit:this.importData,onChange:this.formChange,id:"importform",ref:"importform"},a.a.createElement("input",{className:"form-control",ref:"name",type:"text",placeholder:"Name"}),a.a.createElement("input",{className:"form-control",ref:"desc",type:"text",placeholder:"Description"}),a.a.createElement("input",{className:"form-control",ref:"cond",type:"text",placeholder:"Condition"}),a.a.createElement("textarea",{onChange:this.dataEntry,className:"form-control",ref:"data",rows:"10",wrap:"soft",required:true,placeholder:"Paste Route Data Here"}),a.a.createElement("div",{className:"form-check"},a.a.createElement("label",{className:"form-check-label"},"Data Type: ",a.a.createElement("input",{type:"radio",name:"data-type",ref:"gpx",value:"gpx",defaultChecked:this.state.dataType==="gpx"}),"GPX  ")))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{onClick:this.importData,type:"submit",className:"btn btn-secondary","data-dismiss":"modal"},"Import")))))}}]);return t}(v["a"]);S.propTypes={dispatch:i.a.func.isRequired};t["a"]=n.i(s["connect"])(function(e){return e})(S)},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(18);var i=n.n(o);var s=n(8);var u=n.n(s);var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=function(e){p(t,e);function t(){c(this,t);return f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}l(t,[{key:"render",value:function e(){var t=this.props.loading;var n={position:"fixed",top:"0px",left:"0px",zIndex:"10000",width:"100%",height:"100%",background:"rgba(0,0,0,0.5)"};return t?a.a.createElement("div",null,a.a.createElement("div",{className:"loading-indicator",style:n},a.a.createElement("div",{className:"uil-spin-css",style:{transform:"scale(0.6)"}},a.a.createElement("div",null,a.a.createElement("div",null)),a.a.createElement("div",null,a.a.createElement("div",null)),a.a.createElement("div",null,a.a.createElement("div",null)),a.a.createElement("div",null,a.a.createElement("div",null)),a.a.createElement("div",null,a.a.createElement("div",null)),a.a.createElement("div",null,a.a.createElement("div",null)),a.a.createElement("div",null,a.a.createElement("div",null)),a.a.createElement("div",null,a.a.createElement("div",null))))):a.a.createElement("div",null)}}]);return t}(r["Component"]);d.propTypes={loading:i.a.bool};function h(e){var t=e.map.center===undefined||e.geoJSON.features===undefined;return{loading:t}}t["a"]=n.i(s["connect"])(h)(d)},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(8);var i=n.n(o);var s=n(12);var u=n.n(s);var l=n(6);var c=n(9);var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var m=function(e){h(t,e);function t(){p(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._bind("create","login");e.state={wrongPassword:""};return e}f(t,[{key:"create",value:function e(){var t=this;var n=this.props.dispatch;var r=u.a.ajax({url:"/users",type:"post",beforeSend:function e(t){t.setRequestHeader("Content-type","application/json")},data:JSON.stringify({email:this.refs.createEmail.value,password:this.refs.createPassword.value})});r.done(function(e,r,a){n(c["v"](a.getResponseHeader("x-auth"),JSON.parse(a.responseText)._id,t.refs.createEmail.value))});r.fail(function(e,t,n){console.error("Error creating account: "+n,e)})}},{key:"forgotPassword",value:function e(){u()("#login-modal").modal("hide");u()("#pw-recovery").modal("show")}},{key:"login",value:function e(t){var n=this;t.preventDefault();var r=this.props.dispatch;var a=this.refs,o=a.password,i=a.email;var s=u.a.ajax({url:"/users/login",type:"post",beforeSend:function e(t){t.setRequestHeader("Content-type","application/json")},data:JSON.stringify({email:i.value,password:o.value})});s.done(function(e,t,a){r(c["v"](a.getResponseHeader("x-auth"),JSON.parse(a.responseText)._id,i.value));n.refs.email.value="";n.refs.password.value="";u()("#login-modal").modal("hide");u()(".wrong-password").css("color","white")});s.fail(function(e,t,n){console.error("Login error",e);u()(".wrong-password").css("color","red");setTimeout(function(){u()(".wrong-password").css("color","white")},1500)})}},{key:"render",value:function e(){return a.a.createElement("div",null,a.a.createElement("div",{id:"login-modal",className:"modal fade"},a.a.createElement("div",{className:"modal-dialog",role:"document"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-header"},a.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true"},"")),a.a.createElement("h4",{className:"modal-title"},"Login")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("form",{ref:"loginForm",onSubmit:this.login},a.a.createElement("input",{className:"form-control",ref:"email",type:"text",placeholder:"Email"}),a.a.createElement("input",{className:"form-control",ref:"password",type:"password",placeholder:"Password"}),a.a.createElement("button",{type:"submit",style:{display:"none"}}))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("div",{style:{float:"left"}},a.a.createElement("a",{onClick:this.forgotPassword,href:"#"},"Forgot Password?")),a.a.createElement("div",{className:"wrong-password"},a.a.createElement("p",null,"Incorrect email or password")),a.a.createElement("button",{onClick:this.login,type:"submit",className:"btn btn-primary"},"Login"))))),a.a.createElement("div",{id:"account-creator",className:"modal fade"},a.a.createElement("div",{className:"modal-dialog",role:"document"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-header"},a.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true"},"")),a.a.createElement("h4",{className:"modal-title"},"Create Account")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("form",{ref:"loginForm"},a.a.createElement("input",{className:"form-control",ref:"createEmail",type:"text",placeholder:"Email"}),a.a.createElement("input",{className:"form-control",ref:"createPassword",type:"password",placeholder:"Password"}))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("div",null,a.a.createElement("button",{onClick:this.create,type:"submit",className:"btn btn-primary","data-dismiss":"modal"},"Create")))))))}}]);return t}(l["a"]);t["a"]=n.i(o["connect"])(function(e){return e})(m)},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(6);var i=n(124);var s=n(125);var u=n(126);var l=n(127);var c=n(128);var f=n(129);var p=n(130);var d=n(132);var h=n(133);var m=n(134);var v=n(136);var y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function b(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function _(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var x=function(e){_(t,e);function t(){g(this,t);return b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}y(t,[{key:"render",value:function e(){return a.a.createElement("div",null,a.a.createElement(l["a"],null),a.a.createElement(p["a"],null),a.a.createElement(m["a"],null),a.a.createElement(d["a"],null),a.a.createElement(i["a"],null),a.a.createElement(c["a"],null),a.a.createElement(v["a"],null),a.a.createElement(u["a"],null),a.a.createElement(s["a"],null),a.a.createElement(h["a"],null),a.a.createElement(f["a"],null))}}]);return t}(o["a"]);t["a"]=x},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(74);var i=n.n(o);var s=n(8);var u=n.n(s);var l=n(27);var c=n.n(l);var f=n(162);var p=n.n(f);var d=n(15);var h=n(9);var m=function(){function e(e,t){var n=[];var r=true;var a=false;var o=undefined;try{for(var i=e[Symbol.iterator](),s;!(r=(s=i.next()).done);r=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){a=true;o=e}finally{try{if(!r&&i["return"])i["return"]()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t)){return t}else if(Symbol.iterator in Object(t)){return e(t,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var _=function(e){b(t,e);function t(){var e;var n,r,a;y(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++){i[s]=arguments[s]}return a=(n=(r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r),r.state={map:null,layerIDs:[],initCenter:true},n),g(r,a)}v(t,[{key:"componentDidMount",value:function e(){if(!this.state.map){this.createMap(this.props)}}},{key:"componentWillReceiveProps",value:function e(t){var r=this;var a=t.dispatch,o=t.geoJSON.features,i=t.map.update,s=t.searchText,u=s.POISearchText,l=s.RoutesSearchText,c=t.userSession,f=c.mapCentering,p=c.coords,m=p.longitude,v=p.latitude,y=c.distanceFilter;var g=this.state,b=g.map,_=g.layerIDs,x=g.initCenter;var w=new RegExp(u||"!!!!!!","i");var E=new RegExp(l||"!!!!!!","i");if(i&&this.state.map){this.refreshMap(t);a(h["s"]())}else if(y!==this.props.userSession.distanceFilter){this.refreshMap(t)}if(n.i(d["a"])({longitude:m,latitude:v},this.props.userSession.coords)&&b.getSource("user")!==undefined){var S=n.i(d["e"])([m,v],null),T=S.userSource;b.getSource("user").setData(T.data)}if((f||x)&&this.state.map){var M=b.getCenter(),C=M.lng,k=M.lat;if(n.i(d["a"])({longitude:m,latitude:v},{longitude:C,latitude:k})){this.centerMap(m,v,x)}this.setState({initCenter:false})}if(o!==undefined)o.forEach(function(e){var n=e.properties,a=n.name,o=n.displayed,i=e.geometry;var s=_.map(function(e){return e[0]}).indexOf(a);if(s>-1){if(r.shouldDisplay(a,w,t)&&_[s][1]==="symbol"){b.setLayoutProperty(a,"visibility","visible")}else if(r.shouldDisplay(a,E,t)&&_[s][1]!=="symbol"){b.setLayoutProperty(a,"visibility","visible");b.setLayoutProperty(a+" label","visibility","visible")}else{b.setLayoutProperty(a,"visibility","none");if(_[s][1]!=="symbol")b.setLayoutProperty(a+" label","visibility","none")}}})}},{key:"centerMap",value:function e(t,n,r){var a=this.state.map;if(r){a.jumpTo({center:[t,n],zoom:a.getZoom()})}else{a.easeTo({duration:5e3,animate:true,center:[t,n],zoom:a.getZoom()})}}},{key:"createMap",value:function e(t){var r=t.userSession.coords,a=r.longitude,o=r.latitude,s=t.dispatch,u=t.map.accessToken;i.a.accessToken=u;var l=new i.a.Map({container:"mapviewer",style:"mapbox://styles/mapbox/outdoors-v9",center:[a,o],zoom:12,hash:false,interactive:true});l.addControl(new i.a.GeolocateControl);l.addControl(new i.a.NavigationControl);l.addControl(new i.a.ScaleControl({maxWidth:120,unit:"imperial"}));l.on("load",function(){try{var e=n.i(d["e"])([a,o],[]),t=e.userSource,r=e.geoJSONSource;l.addSource("user",t);l.addSource("geoJSON",r)}catch(e){debugger}s(h["e"]())});l.on("moveend",function(){s(h["t"](l.getCenter()))});this.setState({map:l})}},{key:"createMapLayers",value:function e(t,r){var a=this.state,o=a.layerIDs,i=a.map;var s=r.userSession,u=s.coords,l=u.latitude,c=u.longitude,f=s.distanceFilter,h=r.dispatch;var v=[];o.forEach(function(e){var t=m(e,2),n=t[0],r=t[1];try{i.removeLayer(n)}catch(e){console.error(e)}});var y=n.i(d["e"])([c,l],t),g=y.userSource,b=y.userLayer,_=y.geoJSONSource,x=y.addGeoJSONLayers;try{if(!p.a.valid(g.data))console.log("WARNING: ",g);i.getSource("user").setData(g.data);i.addLayer(b);v.push(["You Are Here","user"]);if(!p.a.valid(_.data))console.log("WARNING: ",_);i.getSource("geoJSON").setData(_.data);t.forEach(function(e){var t=e.properties.name,n=e.geometry.type;var r=n==="Point"?"symbol":"line";x(e,i);if(n==="Point"){v.push([t,r])}else if(n==="LineString"){v.push([t,r]);v.push([t+" label",r])}});this.setState({layerIDs:v})}catch(e){console.error(e);debugger}}},{key:"refreshMap",value:function e(t){var r=this;var a=t.userSession,o=a.coords,i=o.latitude,s=o.longitude,u=a.distanceFilter,l=t.dispatch;n.i(d["f"])(i,s,u).then(function(e){l(h["u"](e));r.createMapLayers(e,t)}).catch(function(e){throw e})}},{key:"shouldDisplay",value:function e(t,n,r){var a=r.geoJSON,o=r.userSession;var i=a.features.filter(function(e){return e.properties.name===t})[0];return n.test(t)||o.visibleFeatures.indexOf(i._id)>-1}},{key:"render",value:function e(){return a.a.createElement("div",{id:"mapviewer",className:"mapviewer"})}}]);return t}(r["Component"]);_.propTypes={dispatch:r["PropTypes"].func.isRequired,userSession:r["PropTypes"].object.isRequired,geoJSON:r["PropTypes"].object.isRequired,searchText:r["PropTypes"].object.isRequired,map:r["PropTypes"].object.isRequired};t["a"]=n.i(s["connect"])(function(e){return e})(_)},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(18);var i=n.n(o);var s=n(6);var u=n(9);var l=n(8);var c=n.n(l);var f=n(62);var p=n.n(f);var d=n(15);var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function y(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var g=function(e){y(t,e);function t(){var e;var r,a,o;m(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++){s[l]=arguments[l]}return o=(r=(a=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a),a.clear=function(e){var t=a.props.dispatch;e.preventDefault();$("#mock-location").modal("hide");var n=a.refs,r=n.latitude,o=n.longitude;r.value="";o.value="";window.location.reload()},a.submit=function(e){var t=a.props.dispatch;e.preventDefault();$("#mock-location").modal("hide");var r=a.refs,o=r.latitude,i=r.longitude;var s=n.i(f["toFloat"])(o.value);var l=n.i(f["toFloat"])(i.value);if(n.i(d["b"])(s,l)){t(n.i(u["d"])({coords:{latitude:s,longitude:l}}));t(n.i(u["e"])())}},r),v(a,o)}h(t,[{key:"render",value:function e(){var t=this.props.userSession.coords,n=t.latitude,r=t.longitude;return a.a.createElement("div",{id:"mock-location",className:"modal fade"},a.a.createElement("div",{className:"modal-dialog",role:"document"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-header"},a.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true"},"")),a.a.createElement("h4",{className:"modal-title"},"Search Near")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("form",{onSubmit:this.submit,className:"form-inline"},a.a.createElement("div",{className:"form-group"},a.a.createElement("p",null,"Fetch Data Near:"),a.a.createElement("div",{className:"input-group"},a.a.createElement("label",{className:"sr-only",htmlFor:"latitude"},"Latitude to search near:"),a.a.createElement("div",{className:"input-group-addon"},"Latitude"),a.a.createElement("input",{type:"text",className:"form-control",ref:"latitude",placeholder:""+n}),a.a.createElement("label",{className:"sr-only",htmlFor:"longitude"},"Longitude to search near:"),a.a.createElement("div",{className:"input-group-addon"},"Longitude"),a.a.createElement("input",{type:"text",className:"form-control",ref:"longitude",placeholder:""+r}))))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{onClick:this.submit,type:"button",className:"btn btn-default","data-dismiss":"modal"},"Save"),a.a.createElement("button",{onClick:this.clear,type:"button",className:"btn btn-warning","data-dismiss":"modal"},"Clear")))))}}]);return t}(s["a"]);g.propTypes={dispatch:i.a.func,userSession:i.a.object};t["a"]=n.i(l["connect"])(function(e){return e})(g)},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(8);var i=n.n(o);var s=n(62);var u=n.n(s);var l=n(6);var c=n(9);var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var m=function(e){h(t,e);function t(){p(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}f(t,[{key:"resetPassword",value:function e(){var t=this.refs.email;if(u.a.isEmail(t.value)){var n=new XMLHttpRequest;n.open("POST","/users/reset",true);n.setRequestHeader("Content-type","application/json");n.send(JSON.stringify({email:t.value}));n.onload=function(){};this.refs.email.value=""}}},{key:"render",value:function e(){return a.a.createElement("div",null,a.a.createElement("div",{id:"pw-recovery",className:"modal fade"},a.a.createElement("div",{className:"modal-dialog",role:"document"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-header"},a.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true"},"")),a.a.createElement("h4",{className:"modal-title"},"Password Recovery")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("form",{ref:"loginForm"},a.a.createElement("input",{className:"form-control",ref:"email",type:"text",placeholder:"Email"}))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("p",{style:{float:"left",fontSize:"12px",paddingTop:"10px"}},"Submitting will send a link to reset your password to your email"),a.a.createElement("button",{onClick:this.resetPassword.bind(this),type:"submit",className:"btn btn-warning","data-dismiss":"modal"},"Request Password Reset Link"))))))}}]);return t}(l["a"]);t["a"]=m},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(8);var i=n.n(o);var s=n(6);var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var p=function(e){f(t,e);function t(){l(this,t);return c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}u(t,[{key:"importData",value:function e(){$("#import-route").modal("show")}},{key:"updateMarker",value:function e(){$("#select-poi-route").modal("show")}},{key:"render",value:function e(){return a.a.createElement("div",{className:""},a.a.createElement("div",{style:{cursor:"pointer"},onClick:this.updateMarker,className:"row tool"},a.a.createElement("div",{className:"col-xs-2"},a.a.createElement("i",{className:"fa fa-map-marker"})),a.a.createElement("div",{className:"col-xs-10"},a.a.createElement("p",null,"Update POI or Route"))),a.a.createElement("div",{style:{cursor:"pointer"},onClick:this.importData,className:"row tool"},a.a.createElement("div",{className:"col-xs-2"},a.a.createElement("i",{className:"fa fa-upload"})),a.a.createElement("div",{className:"col-xs-10"},a.a.createElement("p",null,"Import ","GPX File as Route"))))}}]);return t}(s["a"]);t["a"]=n.i(o["connect"])(function(e){return e})(p)},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(8);var i=n.n(o);var s=n(12);var u=n.n(s);var l=n(74);var c=n.n(l);var f=n(6);var p=n(9);var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function y(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function g(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var b=function(e){g(t,e);function t(){v(this,t);var e=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._bind("formChange","deleteLast","deleteFirst","deleteTen","deleteHund","quickDelete","undoDelete","isRoute","markForDelete");e.state={id:null,point:null,map:null,del:"first",deleteN:10,deletes:[]};return e}h(t,[{key:"deleteLast",value:function e(){this.setState({del:"last"})}},{key:"deleteFirst",value:function e(){this.setState({del:"first"})}},{key:"deleteTen",value:function e(){this.setState({deleteN:10})}},{key:"deleteHund",value:function e(){this.setState({deleteN:100})}},{key:"formChange",value:function e(){this.setState({point:d({},this.state.point,{geometry:d({},this.state.point.geometry,{coordinates:JSON.parse(this.refs.geometry.value)}),properties:d({},this.state.point.properties,{name:this.refs.name.value,desc:this.refs.desc.value,condition:this.refs.cond.value})})})}},{key:"formSubmit",value:function e(){var t=this.props.dispatch;this.state.map.remove();var n=this.state.point.geometry.type==="Point"?"pois":"routes";u.a.ajax({url:"/"+n+"/"+this.state.point._id,type:"patch",headers:{"Content-type":"application/json"},dataType:"json",data:JSON.stringify(this.state.point)}).done(function(e){window.location.reload(true)})}},{key:"isRoute",value:function e(){var t=this.state.point;if(t){return t.geometry.type==="Point"?{display:"none"}:{}}return{}}},{key:"listData",value:function e(){var t=this;var n=this.props,r=n.searchText,o=n.geoJSON.features;var i=r.updateSearchText;if(o===undefined){return[]}return o.map(function(e){var n=e._id;var r=e.properties,o=r.name,s=r.desc,u=r.condition,l=r.last;return o.match(new RegExp(i,"i"))?a.a.createElement("tr",{onClick:t.select(e,n),id:n,style:{cursor:"pointer"},className:"point-of-interest",key:n},a.a.createElement("td",null,o),a.a.createElement("td",null,s),a.a.createElement("td",null,u),a.a.createElement("td",null,l)):null})}},{key:"markForDelete",value:function e(){var t=this.state.id;var n=this.props.userSession;var r=this.state.point.geometry.type==="Point"?"pois":"routes";if(!n.xAuth){alert("You must sign-in in order to delete items");return}if(confirm("Are you sure you want to delete this item?")){u.a.ajax({url:"/"+r+"/"+t,type:"delete"}).done(function(e){window.location.reload(true)})}}},{key:"quickDelete",value:function e(t){t.preventDefault();var n=this.state,r=n.del,a=n.deleteN,o=n.point;var i=o.geometry,s=i.coordinates,u=i.type;if(u!=="LineString")return;if(r==="first"){var l=s.slice(a);this.setState({point:d({},this.state.point,{geometry:d({},o.geometry,{coordinates:l})}),deletes:[].concat(m(this.state.deletes),[{side:"first",coords:s.slice(0,a)}])})}else if(r==="last"){var c=s.slice(0,s.length-a);this.setState({point:d({},this.state.point,{geometry:d({},o.geometry,{coordinates:c})}),deletes:[].concat(m(this.state.deletes),[{side:"last",coords:s.slice(s.length-a)}])})}}},{key:"select",value:function e(t,n){var r=this;return function(){r.setState({id:n,point:t});u()("#select-poi-route").modal("hide");u()("#update-poi-route").modal("show")}}},{key:"shouldComponentUpdate",value:function e(t,n){return this.state.map===n.map}},{key:"undoDelete",value:function e(t){t.preventDefault();var n=this.state,r=n.deletes,a=n.point;var o=r.pop();if(o.side==="first"){this.setState({point:d({},this.state.point,{geometry:d({},a.geometry,{coordinates:[].concat(m(o.coords),m(a.geometry.coordinates))})}),deletes:r})}else if(o.side==="last"){this.setState({point:d({},this.state.point,{geometry:d({},a.geometry,{coordinates:[].concat(m(a.geometry.coordinates),m(o.coords))})}),deletes:r})}}},{key:"render",value:function e(){var t=this;var n=this.props.dispatch;var r=this.state.point;console.log(r);if(r){var o=r.properties,i=r.geometry;var s=o.name,u=o.desc,l=o.condition;c.a.accessToken="pk.eyJ1IjoidGpzY29sbGlucyIsImEiOiJjaXdhZjl4b3AwM2h5MzNwbzZ0eDg0YWZsIn0.uR5NCLn73_X2M9PxDO_4KA";if(this.state.map!==null){this.state.map.remove()}var f=new c.a.Map({container:"preview-map",style:"mapbox://styles/mapbox/outdoors-v9",center:i.type==="Point"?i.coordinates:[].concat(m(i.coordinates[0])),zoom:12,hash:false,interactive:true});f.on("load",function(){f.addSource("preview",{type:"geojson",data:{type:"FeatureCollection",features:[r]}});switch(r.geometry.type){case"Point":var e="symbol";var n={"icon-image":"marker-15","text-field":"{name}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":10,"text-offset":[0,.6],"text-anchor":"top"};break;case"LineString":var e="line";var n={"line-join":"round","line-cap":"round"};f.addLayer({id:"preview label",type:"symbol",source:"preview",layout:{"text-field":"{name}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":10,"text-offset":[0,.6],"text-anchor":"top"}});break;default:throw new Error("Unknown feature type "+e)}f.addLayer({id:"preview",type:e,source:"preview",layout:n});t.setState({map:f})})}return a.a.createElement("div",null,a.a.createElement("div",{id:"select-poi-route",className:"modal fade"},a.a.createElement("div",{className:"modal-dialog",role:"document"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-header"},a.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true"},"")),a.a.createElement("h4",{className:"modal-title"},"Update POI or Route")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("div",{className:"search-box"},a.a.createElement("div",null,a.a.createElement("input",{className:"form-control",type:"search",id:"update-searchText",ref:"updatesearchText",placeholder:"Search",onChange:function e(){n(p["g"](t.refs.updatesearchText.value))}}))),a.a.createElement("table",{className:"list-box table table-striped"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Description"),a.a.createElement("th",null,"Condition"),a.a.createElement("th",null,"Last Outing"))),a.a.createElement("tbody",null,this.listData()))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{type:"submit",className:"btn btn-secondary","data-dismiss":"modal"},"Close"))))),a.a.createElement("div",{id:"update-poi-route",className:"modal fade"},a.a.createElement("div",{className:"modal-dialog",role:"document"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-header"},a.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true"},"")),a.a.createElement("button",{className:"btn btn-danger delete-feature",onClick:this.markForDelete},a.a.createElement("i",{className:"fa fa-trash"})),a.a.createElement("h4",{className:"modal-title"},"Update POI or Route")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("p",null,"Instructions:"),a.a.createElement("p",null,"Make changes to the geoJSON data for the selected POI or Route and view them in the preview map. When you are satisfied with your changes, click save."),a.a.createElement("form",{onSubmit:this.formSubmit.bind(this),onChange:this.formChange,id:"updateform",ref:"updateform",className:"form-horizontal"},a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{htmlFor:"name",className:"col-xs-2 control-label"},"Name"),a.a.createElement("div",{className:"col-xs-10"},a.a.createElement("input",{className:"form-control",id:"name",ref:"name",type:"text",value:s}))),a.a.createElement("div",{className:"form-group "},a.a.createElement("label",{htmlFor:"desc",className:"col-xs-2 control-label"},"Description"),a.a.createElement("div",{className:"col-xs-10"},a.a.createElement("input",{className:"form-control",id:"desc",ref:"desc",type:"text",value:u}))),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{htmlFor:"cond",className:"col-xs-2 control-label"},"Condition"),a.a.createElement("div",{className:"col-xs-10"},a.a.createElement("input",{className:"form-control",id:"cond",ref:"cond",type:"text",value:l}))),a.a.createElement("div",{className:"form-group"},a.a.createElement("div",{className:"col-xs-8"},a.a.createElement("textarea",{id:"edit-json-coordinates",className:"form-control col-xs-8",ref:"geometry",rows:"10",wrap:"soft",required:true,value:JSON.stringify(i?i.coordinates:null,null,2)})),a.a.createElement("div",{style:this.isRoute(),className:"col-xs-4"},a.a.createElement("button",{onClick:this.quickDelete,className:"btn btn-default form-control"},"Quick Delete"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("div",{className:"form-check"},a.a.createElement("div",{className:"form-inline col-xs-6"},a.a.createElement("label",{className:"form-check-label"},a.a.createElement("input",{onChange:this.deleteFirst,type:"radio",name:"delete-type",ref:"first",value:"first",checked:this.state.del==="first"})," First")),a.a.createElement("div",{className:"col-xs-6"},a.a.createElement("label",{className:"form-check-label"},a.a.createElement("input",{onChange:this.deleteLast,type:"radio",name:"delete-type",ref:"last",value:"last",checked:this.state.del==="last"})," Last"))),a.a.createElement("div",{className:"form-check"},a.a.createElement("div",{className:"col-xs-6"},a.a.createElement("label",{className:"form-check-label"},a.a.createElement("input",{onChange:this.deleteTen,type:"radio",name:"deleteN",ref:"ten",value:"ten",checked:this.state.deleteN===10})," 10")),a.a.createElement("div",{className:"col-xs-6"},a.a.createElement("label",{className:"form-check-label"},a.a.createElement("input",{onChange:this.deleteHund,type:"radio",name:"deleteN",ref:"hund",value:"hund",checked:this.state.deleteN===100})," 100"),a.a.createElement("br",null),a.a.createElement("br",null))),a.a.createElement("button",{onClick:this.undoDelete,className:"btn btn-default form-control"},"Undo Delete")))),a.a.createElement("div",{id:"preview-map"})),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),a.a.createElement("button",{onClick:this.formSubmit.bind(this),type:"submit",className:"btn btn-primary","data-dismiss":"modal"},"Save"))))))}}]);return t}(f["a"]);t["a"]=n.i(o["connect"])(function(e){return e})(b)},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(8);var i=n.n(o);var s=n(12);var u=n.n(s);var l=n(15);var c=n(6);var f=n(9);var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=function(e){m(t,e);function t(){d(this,t);var e=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._bind("submit");return e}p(t,[{key:"modal",value:function e(){u()("#add-poi-modal").modal("show")}},{key:"submit",value:function e(){var t=this.props,r=t.dispatch,a=t.userSession;var o=this.refs,i=o.name,s=o.desc,c=o.cond;var p=new Date;var d={type:"Feature",properties:{"marker-color":"#7e7e7e","marker-size":"medium","marker-symbol":"",name:i.value,desc:s.value,condition:c.value,last:n.i(l["c"])(p.getMonth())+" "+p.getFullYear(),displayed:false},geometry:{type:"Point",coordinates:[a.coords.longitude,a.coords.latitude]}};u.a.ajax({url:"/pois",type:"post",headers:{"Content-type":"application/json"},dataType:"json",data:JSON.stringify(d)}).done(function(e){r(f["r"](e));r(f["e"]())})}},{key:"render",value:function e(){return a.a.createElement("div",null,a.a.createElement("button",{className:"btn btn-info form-control",onClick:this.modal,type:"button"},"Add New Point of Interest"),a.a.createElement("div",{id:"add-poi-modal",className:"modal fade"},a.a.createElement("div",{className:"modal-dialog",role:"document"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-header"},a.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true"},"")),a.a.createElement("h4",{className:"modal-title"},"Add New Point of Interest")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("form",{ref:"addPOI"},a.a.createElement("input",{className:"form-control",ref:"name",type:"text",placeholder:"Name"}),a.a.createElement("input",{className:"form-control",ref:"desc",type:"text",placeholder:"Description"}),a.a.createElement("input",{className:"form-control",ref:"cond",type:"text",placeholder:"Condition"}))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{onClick:this.submit,type:"submit",className:"btn btn-secondary","data-dismiss":"modal"},"Add POI"))))))}}]);return t}(c["a"]);t["a"]=n.i(o["connect"])(function(e){return e})(v)},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(8);var i=n.n(o);var s=n(27);var u=n.n(s);var l=n(6);var c=n(9);var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var m=function(e){h(t,e);function t(){p(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}f(t,[{key:"display",value:function e(t){var n=this;return function(){n.props.dispatch(c["j"](t))}}},{key:"displayStyle",value:function e(t){var n=this.props,r=n.geoJSON,a=n.userSession;var o=r.features.filter(function(e){return e._id===t})[0];return a.visibleFeatures.indexOf(o._id)>-1?{fontWeight:"bold",cursor:"pointer"}:{fontWeight:"normal",cursor:"pointer"}}},{key:"distanceFilter",value:function e(t){var e=this.props.userSession.distanceFilter;var n=this.props.map.center;if(!n)return[];var r={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[n.lng,n.lat]}};return t.filter(function(t){var n=t.geometry.coordinates;var a={type:"Feature",properties:{},geometry:{type:"Point",coordinates:n}};return u()(r,a,"miles")<e})}},{key:"listPoints",value:function e(){var t=this;var n=this.props,r=n.searchText,o=n.geoJSON.features;var i=r.POISearchText;if(o===undefined){return[]}return this.distanceFilter(o.filter(function(e){return e.geometry.type==="Point"})).map(function(e){var n=e._id;var r=e.properties,o=r.name,s=r.desc,u=r.condition,l=r.last;return o.match(new RegExp(i,"i"))?a.a.createElement("tr",{onClick:t.display(n),id:n,style:t.displayStyle(n),className:"point-of-interest",key:n},a.a.createElement("td",null,o),a.a.createElement("td",null,s),a.a.createElement("td",null,u),a.a.createElement("td",null,l)):null})}},{key:"render",value:function e(){return a.a.createElement("table",{className:"list-box table table-striped"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Description"),a.a.createElement("th",null,"Condition"),a.a.createElement("th",null,"Last Outing"))),a.a.createElement("tbody",null,this.listPoints()))}}]);return t}(l["a"]);t["a"]=n.i(o["connect"])(function(e){return e})(m)},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(8);var i=n.n(o);var s=n(6);var u=n(9);var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=function(e){p(t,e);function t(){c(this,t);return f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}l(t,[{key:"render",value:function e(){var t=this;var n=this.props.dispatch;return a.a.createElement("div",{className:"search-box"},a.a.createElement("div",null,a.a.createElement("input",{className:"form-control",type:"search",id:"poi-searchText",ref:"poisearchText",placeholder:"Search Points of Interest",onChange:function e(){n(u["q"](t.refs.poisearchText.value))}})))}}]);return t}(s["a"]);t["a"]=n.i(o["connect"])(function(e){return e})(d)},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(8);var i=n.n(o);var s=n(12);var u=n.n(s);var l=n(15);var c=n(6);var f=n(9);var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var y=function(e){v(t,e);function t(){h(this,t);var e=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._bind("tracking","stopTracking");return e}p(t,[{key:"modal",value:function e(){u()("#add-route-modal").modal("show")}},{key:"stopTracking",value:function e(){var t=this.props,r=t.dispatch,a=t.userSession;var o=this.refs,i=o.name,s=o.desc,c=o.cond;var p=new Date;r(f["n"]());if(a.routeList.length>0){var h={type:"Feature",properties:{stroke:"#555555","stroke-width":2,"stroke-opacity":1,name:i.value,desc:s.value,condition:c,last:n.i(l["c"])(p.getMonth())+" "+p.getFullYear(),displayed:false},geometry:{type:"LineString",coordinates:[].concat(d(a.routeList))}};u.a.ajax({url:"/routes",type:"post",headers:{"Content-type":"application/json"},dataType:"json",data:JSON.stringify(h)}).done(function(e){r(f["h"](e));r(f["o"]());r(f["e"]())})}else{console.error("No Route added due to lack of routeList")}}},{key:"tracking",value:function e(){var t=this.props.dispatch;t(f["p"]());u()("#tracking-modal").modal("show")}},{key:"render",value:function e(){return a.a.createElement("div",null,a.a.createElement("button",{className:"btn btn-info form-control",onClick:this.modal,type:"submit"},"Track New Route"),a.a.createElement("div",{id:"add-route-modal",className:"modal fade"},a.a.createElement("div",{className:"modal-dialog",role:"document"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-header"},a.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true"},"")),a.a.createElement("h4",{className:"modal-title"},"Track New Route")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("form",{ref:"addRoute"},a.a.createElement("input",{className:"form-control",ref:"name",type:"text",placeholder:"Name"}),a.a.createElement("input",{className:"form-control",ref:"desc",type:"text",placeholder:"Description"}),a.a.createElement("input",{className:"form-control",ref:"cond",type:"text",placeholder:"Condition"}))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{onClick:this.tracking,type:"submit",className:"btn btn-secondary","data-dismiss":"modal"},"Track Route"))))),a.a.createElement("div",{id:"tracking-modal",className:"modal fade"},a.a.createElement("div",{className:"modal-dialog",role:"document"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-header"},a.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true"},"")),a.a.createElement("h4",{className:"modal-title"},"Tracking...")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("p",null,a.a.createElement("span",{style:{color:"red"}},"Warning"),": Tracking only works while this message is visible. Locking or sleeping your device will pause GPS tracking and create gaps in your route. Unlocking or waking your device will resume tracking when this message is visible again.")),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{onClick:this.stopTracking,type:"submit",className:"btn btn-danger","data-dismiss":"modal"},"Stop Tracking"))))))}}]);return t}(c["a"]);t["a"]=n.i(o["connect"])(function(e){return e})(y)},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(8);var i=n.n(o);var s=n(27);var u=n.n(s);var l=n(67);var c=n.n(l);var f=n(6);var p=n(9);var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var y=function(e){v(t,e);function t(){h(this,t);return m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}d(t,[{key:"display",value:function e(t){var n=this.props.dispatch;return function(){n(p["j"](t))}}},{key:"displayStyle",value:function e(t){var n=this.props,r=n.geoJSON,a=n.userSession;var o=r.features.filter(function(e){return e._id===t})[0];return a.visibleFeatures.indexOf(o._id)>-1?{fontWeight:"bold",cursor:"pointer"}:{fontWeight:"normal",cursor:"pointer"}}},{key:"distanceFilter",value:function e(t){var e=this.props.userSession.distanceFilter;var n=this.props.map.center;if(!n)return[];var r={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[n.lng,n.lat]}};return t.filter(function(t){var n=t.geometry.coordinates;var a={type:"Feature",properties:{},geometry:{type:"Point",coordinates:n[0]}};return u()(r,a,"miles")<e})}},{key:"listRoutes",value:function e(){var t=this;var n=this.props.geoJSON.features;var r=this.props.searchText.RoutesSearchText;if(n===undefined){return[]}return this.distanceFilter(n.filter(function(e){return e.geometry.type==="LineString"})).map(function(e){var n=e._id;var o=e.properties,i=o.name,s=o.desc,u=o.condition,l=o.last;var f=c()(e,"miles");return i.match(new RegExp(r,"i"))?a.a.createElement("tr",{onClick:t.display(n),id:n,style:t.displayStyle(n),className:"routes",key:n},a.a.createElement("td",null,i),a.a.createElement("td",null,s),a.a.createElement("td",null,u,a.a.createElement("br",null)," ",a.a.createElement("br",null),Math.round(f*100)/100," miles"),a.a.createElement("td",null,l)):null})}},{key:"render",value:function e(){return a.a.createElement("table",{className:"list-box table table-striped"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Description"),a.a.createElement("th",null,"Condition"),a.a.createElement("th",null,"Last Outing"))),a.a.createElement("tbody",null,this.listRoutes()))}}]);return t}(f["a"]);t["a"]=n.i(o["connect"])(function(e){return e})(y)},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(8);var i=n.n(o);var s=n(6);var u=n(9);var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=function(e){p(t,e);function t(){c(this,t);return f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}l(t,[{key:"render",value:function e(){var t=this;var n=this.props.dispatch;return a.a.createElement("div",{className:"search-box"},a.a.createElement("div",null,a.a.createElement("input",{className:"form-control",type:"search",id:"routes-searchText",ref:"routessearchText",placeholder:"Search Routes",onChange:function e(){n(u["m"](t.refs.routessearchText.value))}})))}}]);return t}(s["a"]);t["a"]=n.i(o["connect"])(function(e){return e})(d)},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(8);var i=n.n(o);var s=n(12);var u=n.n(s);var l=n(9);var c=n(15);var f=n(6);var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=function(e){m(t,e);function t(){d(this,t);var e=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._bind("submit","fillRoads");return e}p(t,[{key:"currentTrail",value:function e(){var t=this;var n=this.props,r=n.geoJSON.features,o=n.userSession;if(r===undefined){return[]}return r.filter(function(e){return o.visibleFeatures.indexOf(e._id)>-1}).map(function(e){var n=e._id;var r=e.properties,o=r.name,i=r.desc,s=r.condition,u=r.last;return a.a.createElement("tr",{onClick:t.remove(n),id:n,className:"point-of-interest",key:n,style:{cursor:"pointer"}},a.a.createElement("td",null,o),a.a.createElement("td",null,i),a.a.createElement("td",null,s),a.a.createElement("td",null,u))})}},{key:"fillRoads",value:function e(t){}},{key:"remove",value:function e(t){var n=this.props.dispatch;return function(){n(l["j"](t))}}},{key:"saveTrail",value:function e(){u()("#save-trail-modal").modal("show")}},{key:"submit",value:function e(){var t=this.props,r=t.dispatch,a=t.geoJSON,o=t.userSession;var i=o.xAuth;var s=this.refs,f=s.name,p=s.desc;var d=a.features.filter(function(e){return o.visibleFeatures.indexOf(e._id)>-1});var h=new Date;var m={bounds:{},list:d,name:f.value,desc:p.value,date:n.i(c["c"])(h.getMonth())+" "+h.getFullYear()};var v=u.a.ajax({url:"/trails",type:"post",data:JSON.stringify(m),beforeSend:function e(t){t.setRequestHeader("Content-type","application/json");t.setRequestHeader("x-auth",i)}});v.done(function(e,t,n){u.a.ajax({url:"/trails",type:"get",beforeSend:function e(t){t.setRequestHeader("x-auth",i)},success:function e(t,n,a){r(l["i"](JSON.parse(a.responseText).trails))},error:function e(t,n,r){console.error("Error fetching new trail: "+r,t)}})});v.fail(function(e,t,n){console.error("Error saving new trail: "+n,e)})}},{key:"render",value:function e(){return a.a.createElement("div",null,a.a.createElement("button",{onClick:this.saveTrail,className:"btn btn-info form-control",type:"submit"},"Save Currently Displayed Trail"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("h4",{className:"current-trail-header"},"Currently Displayed Trail"),a.a.createElement("table",{className:"list-box table table-striped"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Description"),a.a.createElement("th",null,"Condition"),a.a.createElement("th",null,"Last Outing"))),a.a.createElement("tbody",null,this.currentTrail())),a.a.createElement("div",{id:"save-trail-modal",className:"modal fade"},a.a.createElement("div",{className:"modal-dialog",role:"document"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-header"},a.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},a.a.createElement("span",{"aria-hidden":"true"},"")),a.a.createElement("h4",{className:"modal-title"},"Save Current Trail")),a.a.createElement("div",{className:"modal-body"},a.a.createElement("form",{ref:"addPOI"},a.a.createElement("input",{className:"form-control",ref:"name",type:"text",placeholder:"Name"}),a.a.createElement("input",{className:"form-control",ref:"desc",type:"text",placeholder:"Description"}))),a.a.createElement("div",{className:"modal-footer"},a.a.createElement("button",{onClick:this.submit,type:"submit",className:"btn btn-primary","data-dismiss":"modal"},"Save Trail"))))))}}]);return t}(f["a"]);t["a"]=n.i(o["connect"])(function(e){return e})(v)},function(e,t,n){"use strict";var r=n(67);var a=n.n(r);var o=n(12);var i=n.n(o);var s=n(4);var u=n.n(s);var l=n(8);var c=n.n(l);var f=n(6);var p=n(9);var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var y=function(e){v(t,e);function t(){h(this,t);return m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}d(t,[{key:"componentWillReceiveProps",value:function e(t){var n=t.userSession,r=t.dispatch,a=t.trails;if(n.xAuth){var o=i.a.ajax({url:"trails",type:"get",beforeSend:function e(t){t.setRequestHeader("x-auth",n.xAuth)}});o.done(function(e,t,n){var o=JSON.parse(n.responseText).trails;if(o.length!==a.myTrails.length){r(p["i"](o))}});o.fail(function(e,t,n){console.error("Error retrieving user's trails "+n,e)})}}},{key:"display",value:function e(t){var n=this.props,r=n.dispatch,a=n.trails;var o=a.myTrails;return function(){var e=o.filter(function(e){return e._id===t});if(e.length>0){e[0].list.forEach(function(e){r(p["j"](e._id))})}}}},{key:"listTrails",value:function e(){var t=this;var n=this.props,r=n.searchText,a=n.trails;var o=r.trailSearchText;return a.myTrails.map(function(e){var n=e.name,r=e.desc,a=e.date,i=e._id;return n.match(new RegExp(o,"i"))?u.a.createElement("tr",{id:i,style:{cursor:"pointer"},className:"point-of-interest",key:i},u.a.createElement("td",{onClick:t.display(i)},n),u.a.createElement("td",{onClick:t.display(i)},r),u.a.createElement("td",{onClick:t.display(i)},a),u.a.createElement("td",{className:"trail-length",onClick:t.display(i)},u.a.createElement("p",null,t.trailLength(i)+" miles")),u.a.createElement("td",{style:{cursor:"default"}},u.a.createElement("button",{className:"btn btn-danger delete-trail",onClick:t.markForDelete(i)},u.a.createElement("i",{className:"fa fa-trash"})))):null})}},{key:"markForDelete",value:function e(t){var n=this.props,r=n.userSession,a=n.dispatch;return function(e){if(!r.xAuth){alert("You must sign-in in order to delete trails");return}if(confirm("Are you sure you want to delete this trail?")){i.a.ajax({url:"/trails/"+t,type:"delete"}).done(function(e){a(p["k"](e.name))})}}}},{key:"trailLength",value:function e(t){var n=this.props.trails.myTrails;var r=0;n.forEach(function(e){if(e._id===t){e.list.forEach(function(e){if(e.geometry.type==="LineString"){r+=a()(e,"miles")}})}});return Math.floor(r*100)/100}},{key:"render",value:function e(){return u.a.createElement("div",null,u.a.createElement("h4",{className:"list-trail-header"},"Your Saved Trails"),u.a.createElement("table",{className:"list-box table table-striped"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Name"),u.a.createElement("th",null,"Desc"),u.a.createElement("th",null,"Date"),u.a.createElement("th",null,"Mapped Distance"),u.a.createElement("th",null))),u.a.createElement("tbody",null,this.listTrails())))}}]);return t}(f["a"]);t["a"]=n.i(l["connect"])(function(e){return e})(y)},function(e,t,n){"use strict";var r=n(4);var a=n.n(r);var o=n(8);var i=n.n(o);var s=n(6);var u=n(9);var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=function(e){p(t,e);function t(){c(this,t);return f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}l(t,[{key:"render",value:function e(){var t=this;var n=this.props.dispatch;return a.a.createElement("div",{className:"search-box"},a.a.createElement("div",null,a.a.createElement("input",{className:"form-control",type:"search",ref:"searchText",placeholder:"Search Your Saved Trails",onChange:function e(){n(u["l"](t.refs.searchText.value))}})))}}]);return t}(s["a"]);t["a"]=n.i(o["connect"])(function(e){return e})(d)},function(e,t,n){"use strict";var r=n(103);var a=n(271);var o=n.n(a);var i=n(147);n.d(t,"a",function(){return s});var s=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=r["combineReducers"]({geoJSON:i["a"],searchText:i["b"],map:i["c"],trails:i["d"],userSession:i["e"]});var a=r["createStore"](n,t,r["compose"](r["applyMiddleware"](o.a),window.devToolsExtension?window.devToolsExtension():function(e){return e}));return a}},function(e,t,n){"use strict";var r=n(61);var a=n.n(r);var o=n(12);var i=n.n(o);n.d(t,"e",function(){return l});n.d(t,"d",function(){return c});n.d(t,"c",function(){return f});n.d(t,"b",function(){return p});n.d(t,"a",function(){return d});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var l=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{xAuth:"",email:"",_id:"",visibleFeatures:[],distanceFilter:50,trackingRoute:false,routeList:[],mapCentering:false,gpsTracking:{enable:true,watcher:null,mock:false,trueLocation:{}},coords:{latitude:15,longitude:145}};var n=arguments[1];switch(n.type){case"LOGIN":var r=n.xAuth,a=n.userId,o=n.email;var i={xAuth:r,_id:a,email:o};sessionStorage.setItem("trailmaster-login",JSON.stringify(i));return s({},t,{xAuth:r,_id:a,email:o});case"LOGOUT":sessionStorage.removeItem("trailmaster-login");return s({},t,{xAuth:null,_id:null,email:null});case"TOGGLE_VISIBILITY":return t.visibleFeatures.indexOf(n.id)>-1?s({},t,{visibleFeatures:t.visibleFeatures.filter(function(e){return e!==n.id})}):s({},t,{visibleFeatures:[].concat(u(t.visibleFeatures),[n.id])});case"UPDATE_DISTANCE_FILTER":return s({},t,{distanceFilter:n.distance});case"UPDATE_POS":return s({},t,{coords:{latitude:n.position.coords.latitude,longitude:n.position.coords.longitude},gpsTracking:s({},t.gpsTracking,{trueLocation:{latitude:n.position.coords.latitude,longitude:n.position.coords.longitude}})});case"MOCK_POS":return s({},t,{gpsTracking:s({},t.gpsTracking,{mock:true}),coords:{latitude:n.position.coords.latitude,longitude:n.position.coords.longitude}});case"UNMOCK_POS":return s({},t,{gpsTracking:s({},t.gpsTracking,{mock:false}),coords:{latitude:t.gpsTracking.trueLocation.latitude,longitude:t.gpsTracking.trueLocation.longitude}});case"WATCH_GPS":return s({},t,{gpsTracking:s({},t.gpsTracking,{watcher:n.watcher})});case"TOGGLE_MAP_CENTERING":return s({},t,{mapCentering:!t.mapCentering});case"TRACK_ROUTE":return s({},t,{trackingRoute:true});case"STOP_TRACKING_ROUTE":return s({},t,{trackingRoute:false});case"CLEAR_ROUTE_LIST":return s({},t,{routeList:[]});case"ADD_TO_ROUTE_LIST":return s({},t,{routeList:[].concat(u(t.routeList),[[n.position.coords.longitude,n.position.coords.latitude]])});default:return t}};var c=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{myTrails:[]};var n=arguments[1];switch(n.type){case"DISPLAY_TRAILS":var r=n.trails;return s({},t,{myTrails:r});case"CLEAR_TRAILS":return s({},t,{myTrails:[]});case"SAVE_TRAIL":var a=n.list,o=n.name,i=n.desc,l=n.bounds;var c=new Date;var f={list:a,name:o,desc:i,bounds:l,date:m(c.getMonth())+" "+c.getFullYear()};return s({},t,{myTrails:[].concat(u(t.myTrails),[f])});case"DEL_TRAIL":return s({},t,{myTrails:t.myTrails.filter(function(e){return e.name!==n.name})});default:return t}};var f=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{update:false,center:[]};var n=arguments[1];switch(n.type){case"UPDATE_MAP":return s({},t,{update:true});case"COMPLETE_UPDATE_MAP":return s({},t,{update:false});case"STORE_CENTER":return s({},t,{center:n.center});default:return t}};var p=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{POISearchText:"",RoutesSearchText:"",trailSearchText:"",updateSearchText:""};var n=arguments[1];switch(n.type){case"UPDATE_SEARCH_TEXT":return s({},t,{updateSearchText:n.updateSearchText});case"SET_POI_SEARCH_TEXT":return s({},t,{POISearchText:n.POISearchText});case"SET_ROUTES_SEARCH_TEXT":return s({},t,{RoutesSearchText:n.RoutesSearchText});case"SET_TRAIL_SEARCH_TEXT":return s({},t,{trailSearchText:n.trailSearchText});default:return t}};var d=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:h;var n=arguments[1];switch(n.type){case"REPLACE_GEO_JSON":var r=n.features;return s({},t,{features:r});case"UPDATE_GEO_JSON":var a=n.point;var o=t.features.filter(function(e){return e._id!==a._id});return s({},t,{features:[].concat(u(o),[a])});case"ADD_POI":var i=n.feature;return s({},t,{features:[].concat(u(t.features),[i])});case"ADD_ROUTE":var i=n.feature;return s({},t,{features:[].concat(u(t.features),[i])});default:return t}};var h={type:"FeatureCollection",features:[{_id:"1",type:"Feature",properties:{stroke:"#555555","stroke-width":2,"stroke-opacity":1,name:"Chalan Kiya to Kannat Tabla Connector",desc:"Trail to move from Kannat Tabla area down into Chalan Kiya near the start of the"+" Chalan Kiya ravine",condition:"Uncut, overgrown",last:"Dec 2015",displayed:false},geometry:{type:"LineString",coordinates:[[-214.27445769309995,15.167432624111209],[-214.27433967590332,15.167339428181535],[-214.27423238754272,15.16729800775516],[-214.27410364151,15.167266942430045],[-214.27393198013303,15.167173746427308],[-214.27384614944458,15.16707019526498],[-214.27374958992004,15.1669459338032],[-214.2737603187561,15.166790606873256],[-214.27362084388733,15.166666345247119],[-214.27348136901855,15.166593859264797],[-214.27334189414978,15.166583504122432],[-214.2730736732483,15.1665627938362],[-214.27295565605164,15.166511018111713],[-214.27278399467468,15.166500662965289],[-214.27260160446164,15.16647995267094],[-214.2724084854126,15.166438532076121],[-214.27226901054382,15.16641782177568],[-214.27207589149472,15.1663764011687],[-214.27189350128174,15.166283204773304],[-214.2716896533966,15.166148587685205],[-214.27155017852783,15.166127877356354],[-214.27136778831482,15.166179653174693],[-214.2711532115936,15.166210718659611],[-214.27094936370847,15.166231428980334],[-214.27080988883972,15.166190008336828],[-214.27067041397092,15.16606574635761],[-214.2705202102661,15.16600361534061],[-214.27037000656128,15.165972549825248]]}},{_id:"2",type:"Feature",properties:{"marker-color":"#7e7e7e","marker-size":"medium","marker-symbol":"",name:"Concrete Jesus",desc:"Concrete statue of Jesus at the peak of Mt. Tapotchau",condition:"Rough dirt road, easy access on foot",last:"June 2016",displayed:false},geometry:{type:"Point",coordinates:[-214.2563098669052+360,15.18629359866948]}},{_id:"4",type:"Feature",properties:{"marker-color":"#7e7e7e","marker-size":"medium","marker-symbol":"",name:"Rabbit Hole",desc:"Hole descends from top of cliff to bottom, forming climbable cave",condition:"Rope in good condition",last:"June 2014",displayed:false},geometry:{type:"Point",coordinates:[-214.25509214401245+360,15.10071455043649]}},{_id:"3",type:"Feature",properties:{stroke:"#555555","stroke-width":2,"stroke-opacity":1,name:"Laderan Tanki to Bird Island Overlook",desc:"Route runs downhill through jungle",condition:"Bees!",last:"Oct 2016",displayed:false},geometry:{type:"LineString",coordinates:[[-214.20404434204102,15.252627544019386],[-214.20395851135254,15.25263789493473],[-214.20381903648376,15.252668947677712],[-214.2036259174347,15.252658596763894],[-214.20349717140198,15.25263789493473],[-214.20326113700867,15.252544736678244],[-214.20304656028748,15.252482631150974],[-214.20283198356628,15.25243087653088],[-214.2026925086975,15.252368770969959],[-214.20254230499265,15.252368770969959],[-214.202241897583,15.252358420041357],[-214.2021024227142,15.252420525605345],[-214.20186638832092,15.252565438516593],[-214.2017161846161,15.252679298591021],[-214.20156598091125,15.252793158603772],[-214.2014479637146,15.252917369456375],[-214.201340675354,15.25310368559763],[-214.20119047164917,15.253217545380402],[-214.20100808143616,15.253383159499752],[-214.20082569122314,15.253476317384495],[-214.20072913169858,15.253662633030117],[-214.20072913169858,15.25378684336873],[-214.20037508010864,15.254004211284615],[-214.20001029968262,15.254190526462086],[-214.19988155364987,15.254273333154597],[-214.19947385787964,15.254376841474345],[-214.1991949081421,15.254563156321382],[-214.19880867004395,15.254749471003183],[-214.1985297203064,15.25493578551976],[-214.19844388961792,15.254977188723215],[-214.1982936859131,15.255101398284665],[-214.19805765151978,15.255246309346854],[-214.197735786438,15.25555683271498],[-214.19743537902832,15.255950161655683],[-214.19711351394653,15.256198579554576],[-214.19700622558594,15.256446997159715],[-214.19668436050415,15.25663331017077],[-214.1962766647339,15.256757518753004],[-214.19591188430786,15.256840324433693],[-214.19541835784912,15.256985234296353],[-214.19513940811157,15.256985234296353],[-214.19492483139038,15.257130144059044],[-214.194495677948,15.257275053721775],[-214.19430255889893,15.257875392688074],[-214.19423818588257,15.258227314732657],[-214.19385194778442,15.258744846079999],[-214.19357299804688,15.258931157052865],[-214.19318675994873,15.258951858261872],[-214.19297218322754,15.25882765097724],[-214.19267177581784,15.258869053413598],[-214.19241428375244,15.258889754628735],[-214.19222116470337,15.25882765097724]]}}]};var m=function e(t){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dev"][t]}},function(e,t,n){"use strict";t.byteLength=c;t.toByteArray=f;t.fromByteArray=h;var r=[];var a=[];var o=typeof Uint8Array!=="undefined"?Uint8Array:Array;var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var s=0,u=i.length;s<u;++s){r[s]=i[s];a[i.charCodeAt(s)]=s}a["-".charCodeAt(0)]=62;a["_".charCodeAt(0)]=63;function l(e){var t=e.length;if(t%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}return e[t-2]==="="?2:e[t-1]==="="?1:0}function c(e){return e.length*3/4-l(e)}function f(e){var t,n,r,i,s,u;var c=e.length;s=l(e);u=new o(c*3/4-s);r=s>0?c-4:c;var f=0;for(t=0,n=0;t<r;t+=4,n+=3){i=a[e.charCodeAt(t)]<<18|a[e.charCodeAt(t+1)]<<12|a[e.charCodeAt(t+2)]<<6|a[e.charCodeAt(t+3)];u[f++]=i>>16&255;u[f++]=i>>8&255;u[f++]=i&255}if(s===2){i=a[e.charCodeAt(t)]<<2|a[e.charCodeAt(t+1)]>>4;u[f++]=i&255}else if(s===1){i=a[e.charCodeAt(t)]<<10|a[e.charCodeAt(t+1)]<<4|a[e.charCodeAt(t+2)]>>2;u[f++]=i>>8&255;u[f++]=i&255}return u}function p(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[e&63]}function d(e,t,n){var r;var a=[];for(var o=t;o<n;o+=3){r=(e[o]<<16)+(e[o+1]<<8)+e[o+2];a.push(p(r))}return a.join("")}function h(e){var t;var n=e.length;var a=n%3;var o="";var i=[];var s=16383;for(var u=0,l=n-a;u<l;u+=s){i.push(d(e,u,u+s>l?l:u+s))}if(a===1){t=e[n-1];o+=r[t>>2];o+=r[t<<4&63];o+="=="}else if(a===2){t=(e[n-2]<<8)+e[n-1];o+=r[t>>10];o+=r[t>>4&63];o+=r[t<<2&63];o+="="}i.push(o);return i.join("")}},function(e,t,n){"use strict";(function(e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(148);var a=n(164);var o=n(166);t.Buffer=l;t.SlowBuffer=b;t.INSPECT_MAX_BYTES=50;l.TYPED_ARRAY_SUPPORT=e.TYPED_ARRAY_SUPPORT!==undefined?e.TYPED_ARRAY_SUPPORT:i();t.kMaxLength=s();function i(){try{var e=new Uint8Array(1);e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return e.foo()===42&&typeof e.subarray==="function"&&e.subarray(1,1).byteLength===0}catch(e){return false}}function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(s()<t){throw new RangeError("Invalid typed array length")}if(l.TYPED_ARRAY_SUPPORT){e=new Uint8Array(t);e.__proto__=l.prototype}else{if(e===null){e=new l(t)}e.length=t}return e}function l(e,t,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l)){return new l(e,t,n)}if(typeof e==="number"){if(typeof t==="string"){throw new Error("If encoding is specified then the first argument must be a string")}return d(this,e)}return c(this,e,t,n)}l.poolSize=8192;l._augment=function(e){e.__proto__=l.prototype;return e};function c(e,t,n,r){if(typeof t==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&t instanceof ArrayBuffer){return v(e,t,n,r)}if(typeof t==="string"){return h(e,t,n)}return y(e,t)}l.from=function(e,t,n){return c(null,e,t,n)};if(l.TYPED_ARRAY_SUPPORT){l.prototype.__proto__=Uint8Array.prototype;l.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&l[Symbol.species]===l){Object.defineProperty(l,Symbol.species,{value:null,configurable:true})}}function f(e){if(typeof e!=="number"){throw new TypeError('"size" argument must be a number')}else if(e<0){throw new RangeError('"size" argument must not be negative')}}function p(e,t,n,r){f(t);if(t<=0){return u(e,t)}if(n!==undefined){return typeof r==="string"?u(e,t).fill(n,r):u(e,t).fill(n)}return u(e,t)}l.alloc=function(e,t,n){return p(null,e,t,n)};function d(e,t){f(t);e=u(e,t<0?0:g(t)|0);if(!l.TYPED_ARRAY_SUPPORT){for(var n=0;n<t;++n){e[n]=0}}return e}l.allocUnsafe=function(e){return d(null,e)};l.allocUnsafeSlow=function(e){return d(null,e)};function h(e,t,n){if(typeof n!=="string"||n===""){n="utf8"}if(!l.isEncoding(n)){throw new TypeError('"encoding" must be a valid string encoding')}var r=_(t,n)|0;e=u(e,r);var a=e.write(t,n);if(a!==r){e=e.slice(0,a)}return e}function m(e,t){var n=t.length<0?0:g(t.length)|0;e=u(e,n);for(var r=0;r<n;r+=1){e[r]=t[r]&255}return e}function v(e,t,n,r){t.byteLength;if(n<0||t.byteLength<n){throw new RangeError("'offset' is out of bounds")}if(t.byteLength<n+(r||0)){throw new RangeError("'length' is out of bounds")}if(n===undefined&&r===undefined){t=new Uint8Array(t)}else if(r===undefined){t=new Uint8Array(t,n)}else{t=new Uint8Array(t,n,r)}if(l.TYPED_ARRAY_SUPPORT){e=t;e.__proto__=l.prototype}else{e=m(e,t)}return e}function y(e,t){if(l.isBuffer(t)){var n=g(t.length)|0;e=u(e,n);if(e.length===0){return e}t.copy(e,0,0,n);return e}if(t){if(typeof ArrayBuffer!=="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t){if(typeof t.length!=="number"||te(t.length)){return u(e,0)}return m(e,t)}if(t.type==="Buffer"&&o(t.data)){return m(e,t.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(e){if(e>=s()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+s().toString(16)+" bytes")}return e|0}function b(e){if(+e!=e){e=0}return l.alloc(+e)}l.isBuffer=function e(t){return!!(t!=null&&t._isBuffer)};l.compare=function e(t,n){if(!l.isBuffer(t)||!l.isBuffer(n)){throw new TypeError("Arguments must be Buffers")}if(t===n)return 0;var r=t.length;var a=n.length;for(var o=0,i=Math.min(r,a);o<i;++o){if(t[o]!==n[o]){r=t[o];a=n[o];break}}if(r<a)return-1;if(a<r)return 1;return 0};l.isEncoding=function e(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};l.concat=function e(t,n){if(!o(t)){throw new TypeError('"list" argument must be an Array of Buffers')}if(t.length===0){return l.alloc(0)}var r;if(n===undefined){n=0;for(r=0;r<t.length;++r){n+=t[r].length}}var a=l.allocUnsafe(n);var i=0;for(r=0;r<t.length;++r){var s=t[r];if(!l.isBuffer(s)){throw new TypeError('"list" argument must be an Array of Buffers')}s.copy(a,i);i+=s.length}return a};function _(e,t){if(l.isBuffer(e)){return e.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)){return e.byteLength}if(typeof e!=="string"){e=""+e}var n=e.length;if(n===0)return 0;var r=false;for(;;){switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case undefined:return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return Q(e).length;default:if(r)return X(e).length;t=(""+t).toLowerCase();r=true}}}l.byteLength=_;function x(e,t,n){var r=false;if(t===undefined||t<0){t=0}if(t>this.length){return""}if(n===undefined||n>this.length){n=this.length}if(n<=0){return""}n>>>=0;t>>>=0;if(n<=t){return""}if(!e)e="utf8";while(true){switch(e){case"hex":return L(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return D(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();r=true}}}l.prototype._isBuffer=true;function w(e,t,n){var r=e[t];e[t]=e[n];e[n]=r}l.prototype.swap16=function e(){var t=this.length;if(t%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var n=0;n<t;n+=2){w(this,n,n+1)}return this};l.prototype.swap32=function e(){var t=this.length;if(t%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var n=0;n<t;n+=4){w(this,n,n+3);w(this,n+1,n+2)}return this};l.prototype.swap64=function e(){var t=this.length;if(t%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var n=0;n<t;n+=8){w(this,n,n+7);w(this,n+1,n+6);w(this,n+2,n+5);w(this,n+3,n+4)}return this};l.prototype.toString=function e(){var t=this.length|0;if(t===0)return"";if(arguments.length===0)return N(this,0,t);return x.apply(this,arguments)};l.prototype.equals=function e(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(this===t)return true;return l.compare(this,t)===0};l.prototype.inspect=function e(){var n="";var r=t.INSPECT_MAX_BYTES;if(this.length>0){n=this.toString("hex",0,r).match(/.{2}/g).join(" ");if(this.length>r)n+=" ... "}return"<Buffer "+n+">"};l.prototype.compare=function e(t,n,r,a,o){if(!l.isBuffer(t)){throw new TypeError("Argument must be a Buffer")}if(n===undefined){n=0}if(r===undefined){r=t?t.length:0}if(a===undefined){a=0}if(o===undefined){o=this.length}if(n<0||r>t.length||a<0||o>this.length){throw new RangeError("out of range index")}if(a>=o&&n>=r){return 0}if(a>=o){return-1}if(n>=r){return 1}n>>>=0;r>>>=0;a>>>=0;o>>>=0;if(this===t)return 0;var i=o-a;var s=r-n;var u=Math.min(i,s);var c=this.slice(a,o);var f=t.slice(n,r);for(var p=0;p<u;++p){if(c[p]!==f[p]){i=c[p];s=f[p];break}}if(i<s)return-1;if(s<i)return 1;return 0};function E(e,t,n,r,a){if(e.length===0)return-1;if(typeof n==="string"){r=n;n=0}else if(n>2147483647){n=2147483647}else if(n<-2147483648){n=-2147483648}n=+n;if(isNaN(n)){n=a?0:e.length-1}if(n<0)n=e.length+n;if(n>=e.length){if(a)return-1;else n=e.length-1}else if(n<0){if(a)n=0;else return-1}if(typeof t==="string"){t=l.from(t,r)}if(l.isBuffer(t)){if(t.length===0){return-1}return S(e,t,n,r,a)}else if(typeof t==="number"){t=t&255;if(l.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==="function"){if(a){return Uint8Array.prototype.indexOf.call(e,t,n)}else{return Uint8Array.prototype.lastIndexOf.call(e,t,n)}}return S(e,[t],n,r,a)}throw new TypeError("val must be string, number or Buffer")}function S(e,t,n,r,a){var o=1;var i=e.length;var s=t.length;if(r!==undefined){r=String(r).toLowerCase();if(r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le"){if(e.length<2||t.length<2){return-1}o=2;i/=2;s/=2;n/=2}}function u(e,t){if(o===1){return e[t]}else{return e.readUInt16BE(t*o)}}var l;if(a){var c=-1;for(l=n;l<i;l++){if(u(e,l)===u(t,c===-1?0:l-c)){if(c===-1)c=l;if(l-c+1===s)return c*o}else{if(c!==-1)l-=l-c;c=-1}}}else{if(n+s>i)n=i-s;for(l=n;l>=0;l--){var f=true;for(var p=0;p<s;p++){if(u(e,l+p)!==u(t,p)){f=false;break}}if(f)return l}}return-1}l.prototype.includes=function e(t,n,r){return this.indexOf(t,n,r)!==-1};l.prototype.indexOf=function e(t,n,r){return E(this,t,n,r,true)};l.prototype.lastIndexOf=function e(t,n,r){return E(this,t,n,r,false)};function T(e,t,n,r){n=Number(n)||0;var a=e.length-n;if(!r){r=a}else{r=Number(r);if(r>a){r=a}}var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");if(r>o/2){r=o/2}for(var i=0;i<r;++i){var s=parseInt(t.substr(i*2,2),16);if(isNaN(s))return i;e[n+i]=s}return i}function M(e,t,n,r){return ee(X(t,e.length-n),e,n,r)}function C(e,t,n,r){return ee(K(t),e,n,r)}function k(e,t,n,r){return C(e,t,n,r)}function I(e,t,n,r){return ee(Q(t),e,n,r)}function P(e,t,n,r){return ee(J(t,e.length-n),e,n,r)}l.prototype.write=function e(t,n,r,a){if(n===undefined){a="utf8";r=this.length;n=0}else if(r===undefined&&typeof n==="string"){a=n;r=this.length;n=0}else if(isFinite(n)){n=n|0;if(isFinite(r)){r=r|0;if(a===undefined)a="utf8"}else{a=r;r=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var o=this.length-n;if(r===undefined||r>o)r=o;if(t.length>0&&(r<0||n<0)||n>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!a)a="utf8";var i=false;for(;;){switch(a){case"hex":return T(this,t,n,r);case"utf8":case"utf-8":return M(this,t,n,r);case"ascii":return C(this,t,n,r);case"latin1":case"binary":return k(this,t,n,r);case"base64":return I(this,t,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n,r);default:if(i)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase();i=true}}};l.prototype.toJSON=function e(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(e,t,n){if(t===0&&n===e.length){return r.fromByteArray(e)}else{return r.fromByteArray(e.slice(t,n))}}function N(e,t,n){n=Math.min(e.length,n);var r=[];var a=t;while(a<n){var o=e[a];var i=null;var s=o>239?4:o>223?3:o>191?2:1;if(a+s<=n){var u,l,c,f;switch(s){case 1:if(o<128){i=o}break;case 2:u=e[a+1];if((u&192)===128){f=(o&31)<<6|u&63;if(f>127){i=f}}break;case 3:u=e[a+1];l=e[a+2];if((u&192)===128&&(l&192)===128){f=(o&15)<<12|(u&63)<<6|l&63;if(f>2047&&(f<55296||f>57343)){i=f}}break;case 4:u=e[a+1];l=e[a+2];c=e[a+3];if((u&192)===128&&(l&192)===128&&(c&192)===128){f=(o&15)<<18|(u&63)<<12|(l&63)<<6|c&63;if(f>65535&&f<1114112){i=f}}}}if(i===null){i=65533;s=1}else if(i>65535){i-=65536;r.push(i>>>10&1023|55296);i=56320|i&1023}r.push(i);a+=s}return O(r)}var A=4096;function O(e){var t=e.length;if(t<=A){return String.fromCharCode.apply(String,e)}var n="";var r=0;while(r<t){n+=String.fromCharCode.apply(String,e.slice(r,r+=A))}return n}function R(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a){r+=String.fromCharCode(e[a]&127)}return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a){r+=String.fromCharCode(e[a])}return r}function L(e,t,n){var r=e.length;if(!t||t<0)t=0;if(!n||n<0||n>r)n=r;var a="";for(var o=t;o<n;++o){a+=Z(e[o])}return a}function F(e,t,n){var r=e.slice(t,n);var a="";for(var o=0;o<r.length;o+=2){a+=String.fromCharCode(r[o]+r[o+1]*256)}return a}l.prototype.slice=function e(t,n){var r=this.length;t=~~t;n=n===undefined?r:~~n;if(t<0){t+=r;if(t<0)t=0}else if(t>r){t=r}if(n<0){n+=r;if(n<0)n=0}else if(n>r){n=r}if(n<t)n=t;var a;if(l.TYPED_ARRAY_SUPPORT){a=this.subarray(t,n);a.__proto__=l.prototype}else{var o=n-t;a=new l(o,undefined);for(var i=0;i<o;++i){a[i]=this[i+t]}}return a};function z(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUIntLE=function e(t,n,r){t=t|0;n=n|0;if(!r)z(t,n,this.length);var a=this[t];var o=1;var i=0;while(++i<n&&(o*=256)){a+=this[t+i]*o}return a};l.prototype.readUIntBE=function e(t,n,r){t=t|0;n=n|0;if(!r){z(t,n,this.length)}var a=this[t+--n];var o=1;while(n>0&&(o*=256)){a+=this[t+--n]*o}return a};l.prototype.readUInt8=function e(t,n){if(!n)z(t,1,this.length);return this[t]};l.prototype.readUInt16LE=function e(t,n){if(!n)z(t,2,this.length);return this[t]|this[t+1]<<8};l.prototype.readUInt16BE=function e(t,n){if(!n)z(t,2,this.length);return this[t]<<8|this[t+1]};l.prototype.readUInt32LE=function e(t,n){if(!n)z(t,4,this.length);return(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};l.prototype.readUInt32BE=function e(t,n){if(!n)z(t,4,this.length);return this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};l.prototype.readIntLE=function e(t,n,r){t=t|0;n=n|0;if(!r)z(t,n,this.length);var a=this[t];var o=1;var i=0;while(++i<n&&(o*=256)){a+=this[t+i]*o}o*=128;if(a>=o)a-=Math.pow(2,8*n);return a};l.prototype.readIntBE=function e(t,n,r){t=t|0;n=n|0;if(!r)z(t,n,this.length);var a=n;var o=1;var i=this[t+--a];while(a>0&&(o*=256)){i+=this[t+--a]*o}o*=128;if(i>=o)i-=Math.pow(2,8*n);return i};l.prototype.readInt8=function e(t,n){if(!n)z(t,1,this.length);if(!(this[t]&128))return this[t];return(255-this[t]+1)*-1};l.prototype.readInt16LE=function e(t,n){if(!n)z(t,2,this.length);var r=this[t]|this[t+1]<<8;return r&32768?r|4294901760:r};l.prototype.readInt16BE=function e(t,n){if(!n)z(t,2,this.length);var r=this[t+1]|this[t]<<8;return r&32768?r|4294901760:r};l.prototype.readInt32LE=function e(t,n){if(!n)z(t,4,this.length);return this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};l.prototype.readInt32BE=function e(t,n){if(!n)z(t,4,this.length);return this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};l.prototype.readFloatLE=function e(t,n){if(!n)z(t,4,this.length);return a.read(this,t,true,23,4)};l.prototype.readFloatBE=function e(t,n){if(!n)z(t,4,this.length);return a.read(this,t,false,23,4)};l.prototype.readDoubleLE=function e(t,n){if(!n)z(t,8,this.length);return a.read(this,t,true,52,8)};l.prototype.readDoubleBE=function e(t,n){if(!n)z(t,8,this.length);return a.read(this,t,false,52,8)};function U(e,t,n,r,a,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}l.prototype.writeUIntLE=function e(t,n,r,a){t=+t;n=n|0;r=r|0;if(!a){var o=Math.pow(2,8*r)-1;U(this,t,n,r,o,0)}var i=1;var s=0;this[n]=t&255;while(++s<r&&(i*=256)){this[n+s]=t/i&255}return n+r};l.prototype.writeUIntBE=function e(t,n,r,a){t=+t;n=n|0;r=r|0;if(!a){var o=Math.pow(2,8*r)-1;U(this,t,n,r,o,0)}var i=r-1;var s=1;this[n+i]=t&255;while(--i>=0&&(s*=256)){this[n+i]=t/s&255}return n+r};l.prototype.writeUInt8=function e(t,n,r){t=+t;n=n|0;if(!r)U(this,t,n,1,255,0);if(!l.TYPED_ARRAY_SUPPORT)t=Math.floor(t);this[n]=t&255;return n+1};function B(e,t,n,r){if(t<0)t=65535+t+1;for(var a=0,o=Math.min(e.length-n,2);a<o;++a){e[n+a]=(t&255<<8*(r?a:1-a))>>>(r?a:1-a)*8}}l.prototype.writeUInt16LE=function e(t,n,r){t=+t;n=n|0;if(!r)U(this,t,n,2,65535,0);if(l.TYPED_ARRAY_SUPPORT){this[n]=t&255;this[n+1]=t>>>8}else{B(this,t,n,true)}return n+2};l.prototype.writeUInt16BE=function e(t,n,r){t=+t;n=n|0;if(!r)U(this,t,n,2,65535,0);if(l.TYPED_ARRAY_SUPPORT){this[n]=t>>>8;this[n+1]=t&255}else{B(this,t,n,false)}return n+2};function q(e,t,n,r){if(t<0)t=4294967295+t+1;for(var a=0,o=Math.min(e.length-n,4);a<o;++a){e[n+a]=t>>>(r?a:3-a)*8&255}}l.prototype.writeUInt32LE=function e(t,n,r){t=+t;n=n|0;if(!r)U(this,t,n,4,4294967295,0);if(l.TYPED_ARRAY_SUPPORT){this[n+3]=t>>>24;this[n+2]=t>>>16;this[n+1]=t>>>8;this[n]=t&255}else{q(this,t,n,true)}return n+4};l.prototype.writeUInt32BE=function e(t,n,r){t=+t;n=n|0;if(!r)U(this,t,n,4,4294967295,0);if(l.TYPED_ARRAY_SUPPORT){this[n]=t>>>24;this[n+1]=t>>>16;this[n+2]=t>>>8;this[n+3]=t&255}else{q(this,t,n,false)}return n+4};l.prototype.writeIntLE=function e(t,n,r,a){t=+t;n=n|0;if(!a){var o=Math.pow(2,8*r-1);U(this,t,n,r,o-1,-o)}var i=0;var s=1;var u=0;this[n]=t&255;while(++i<r&&(s*=256)){if(t<0&&u===0&&this[n+i-1]!==0){u=1}this[n+i]=(t/s>>0)-u&255}return n+r};l.prototype.writeIntBE=function e(t,n,r,a){t=+t;n=n|0;if(!a){var o=Math.pow(2,8*r-1);U(this,t,n,r,o-1,-o)}var i=r-1;var s=1;var u=0;this[n+i]=t&255;while(--i>=0&&(s*=256)){if(t<0&&u===0&&this[n+i+1]!==0){u=1}this[n+i]=(t/s>>0)-u&255}return n+r};l.prototype.writeInt8=function e(t,n,r){t=+t;n=n|0;if(!r)U(this,t,n,1,127,-128);if(!l.TYPED_ARRAY_SUPPORT)t=Math.floor(t);if(t<0)t=255+t+1;this[n]=t&255;return n+1};l.prototype.writeInt16LE=function e(t,n,r){t=+t;n=n|0;if(!r)U(this,t,n,2,32767,-32768);if(l.TYPED_ARRAY_SUPPORT){this[n]=t&255;this[n+1]=t>>>8}else{B(this,t,n,true)}return n+2};l.prototype.writeInt16BE=function e(t,n,r){t=+t;n=n|0;if(!r)U(this,t,n,2,32767,-32768);if(l.TYPED_ARRAY_SUPPORT){this[n]=t>>>8;this[n+1]=t&255}else{B(this,t,n,false)}return n+2};l.prototype.writeInt32LE=function e(t,n,r){t=+t;n=n|0;if(!r)U(this,t,n,4,2147483647,-2147483648);if(l.TYPED_ARRAY_SUPPORT){this[n]=t&255;this[n+1]=t>>>8;this[n+2]=t>>>16;this[n+3]=t>>>24}else{q(this,t,n,true)}return n+4};l.prototype.writeInt32BE=function e(t,n,r){t=+t;n=n|0;if(!r)U(this,t,n,4,2147483647,-2147483648);if(t<0)t=4294967295+t+1;if(l.TYPED_ARRAY_SUPPORT){this[n]=t>>>24;this[n+1]=t>>>16;this[n+2]=t>>>8;this[n+3]=t&255}else{q(this,t,n,false)}return n+4};function V(e,t,n,r,a,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function $(e,t,n,r,o){if(!o){V(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38)}a.write(e,t,n,r,23,4);return n+4}l.prototype.writeFloatLE=function e(t,n,r){return $(this,t,n,true,r)};l.prototype.writeFloatBE=function e(t,n,r){return $(this,t,n,false,r)};function H(e,t,n,r,o){if(!o){V(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308)}a.write(e,t,n,r,52,8);return n+8}l.prototype.writeDoubleLE=function e(t,n,r){return H(this,t,n,true,r)};l.prototype.writeDoubleBE=function e(t,n,r){return H(this,t,n,false,r)};l.prototype.copy=function e(t,n,r,a){if(!r)r=0;if(!a&&a!==0)a=this.length;if(n>=t.length)n=t.length;if(!n)n=0;if(a>0&&a<r)a=r;if(a===r)return 0;if(t.length===0||this.length===0)return 0;if(n<0){throw new RangeError("targetStart out of bounds")}if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");if(a>this.length)a=this.length;if(t.length-n<a-r){a=t.length-n+r}var o=a-r;var i;if(this===t&&r<n&&n<a){for(i=o-1;i>=0;--i){t[i+n]=this[i+r]}}else if(o<1e3||!l.TYPED_ARRAY_SUPPORT){for(i=0;i<o;++i){t[i+n]=this[i+r]}}else{Uint8Array.prototype.set.call(t,this.subarray(r,r+o),n)}return o};l.prototype.fill=function e(t,n,r,a){if(typeof t==="string"){if(typeof n==="string"){a=n;n=0;r=this.length}else if(typeof r==="string"){a=r;r=this.length}if(t.length===1){var o=t.charCodeAt(0);if(o<256){t=o}}if(a!==undefined&&typeof a!=="string"){throw new TypeError("encoding must be a string")}if(typeof a==="string"&&!l.isEncoding(a)){throw new TypeError("Unknown encoding: "+a)}}else if(typeof t==="number"){t=t&255}if(n<0||this.length<n||this.length<r){throw new RangeError("Out of range index")}if(r<=n){return this}n=n>>>0;r=r===undefined?this.length:r>>>0;if(!t)t=0;var i;if(typeof t==="number"){for(i=n;i<r;++i){this[i]=t}}else{var s=l.isBuffer(t)?t:X(new l(t,a).toString());var u=s.length;for(i=0;i<r-n;++i){this[i+n]=s[i%u]}}return this};var W=/[^+\/0-9A-Za-z-_]/g;function G(e){e=Y(e).replace(W,"");if(e.length<2)return"";while(e.length%4!==0){e=e+"="}return e}function Y(e){if(e.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}function Z(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function X(e,t){t=t||Infinity;var n;var r=e.length;var a=null;var o=[];for(var i=0;i<r;++i){n=e.charCodeAt(i);if(n>55295&&n<57344){if(!a){if(n>56319){if((t-=3)>-1)o.push(239,191,189);continue}else if(i+1===r){if((t-=3)>-1)o.push(239,191,189);continue}a=n;continue}if(n<56320){if((t-=3)>-1)o.push(239,191,189);a=n;continue}n=(a-55296<<10|n-56320)+65536}else if(a){if((t-=3)>-1)o.push(239,191,189)}a=null;if(n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,n&63|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else{throw new Error("Invalid code point")}}return o}function K(e){var t=[];for(var n=0;n<e.length;++n){t.push(e.charCodeAt(n)&255)}return t}function J(e,t){var n,r,a;var o=[];for(var i=0;i<e.length;++i){if((t-=2)<0)break;n=e.charCodeAt(i);r=n>>8;a=n%256;o.push(a);o.push(r)}return o}function Q(e){return r.toByteArray(G(e))}function ee(e,t,n,r){for(var a=0;a<r;++a){if(a+n>=t.length||a>=e.length)break;t[a+n]=e[a]}return a}function te(e){return e!==e}}).call(t,n(26))},function(e,t,n){"use strict";var r=/-(.)/g;function a(e){return e.replace(r,function(e,t){return t.toUpperCase()})}e.exports=a},function(e,t,n){"use strict";var r=n(150);var a=/^-ms-/;function o(e){return r(e.replace(a,"ms-"))}e.exports=o},function(e,t,n){"use strict";var r=n(160);function a(e,t){if(!e||!t){return false}else if(e===t){return true}else if(r(e)){return false}else if(r(t)){return a(e,t.parentNode)}else if("contains"in e){return e.contains(t)}else if(e.compareDocumentPosition){return!!(e.compareDocumentPosition(t)&16)}else{return false}}e.exports=a},function(e,t,n){"use strict";var r=n(1);function a(e){var t=e.length;!(!Array.isArray(e)&&(typeof e==="object"||typeof e==="function"))?false?r(false,"toArray: Array-like object expected"):r(false):void 0;!(typeof t==="number")?false?r(false,"toArray: Object needs a length property"):r(false):void 0;!(t===0||t-1 in e)?false?r(false,"toArray: Object should have keys for indices"):r(false):void 0;!(typeof e.callee!=="function")?false?r(false,"toArray: Object can't be `arguments`. Use rest params "+"(function(...args) {}) or Array.from() instead."):r(false):void 0;if(e.hasOwnProperty){try{return Array.prototype.slice.call(e)}catch(e){}}var n=Array(t);for(var a=0;a<t;a++){n[a]=e[a]}return n}function o(e){return!!e&&(typeof e=="object"||typeof e=="function")&&"length"in e&&!("setInterval"in e)&&typeof e.nodeType!="number"&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){if(!o(e)){return[e]}else if(Array.isArray(e)){return e.slice()}else{return a(e)}}e.exports=i},function(e,t,n){"use strict";var r=n(10);var a=n(153);var o=n(155);var i=n(1);var s=r.canUseDOM?document.createElement("div"):null;var u=/^\s*<(\w+)/;function l(e){var t=e.match(u);return t&&t[1].toLowerCase()}function c(e,t){var n=s;!!!s?false?i(false,"createNodesFromMarkup dummy not initialized"):i(false):void 0;var r=l(e);var u=r&&o(r);if(u){n.innerHTML=u[1]+e+u[2];var c=u[0];while(c--){n=n.lastChild}}else{n.innerHTML=e}var f=n.getElementsByTagName("script");if(f.length){!t?false?i(false,"createNodesFromMarkup(...): Unexpected <script> element rendered."):i(false):void 0;a(f).forEach(t)}var p=Array.from(n.childNodes);while(n.lastChild){n.removeChild(n.lastChild)}return p}e.exports=c},function(e,t,n){"use strict";var r=n(10);var a=n(1);var o=r.canUseDOM?document.createElement("div"):null;var i={};var s=[1,'<select multiple="true">',"</select>"];var u=[1,"<table>","</table>"];var l=[3,"<table><tbody><tr>","</tr></tbody></table>"];var c=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"];var f={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:l,th:l};var p=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];p.forEach(function(e){f[e]=c;i[e]=true});function d(e){!!!o?false?a(false,"Markup wrapping node not initialized"):a(false):void 0;if(!f.hasOwnProperty(e)){e="*"}if(!i.hasOwnProperty(e)){if(e==="*"){o.innerHTML="<link />"}else{o.innerHTML="<"+e+"></"+e+">"}i[e]=!o.firstChild}return i[e]?f[e]:null}e.exports=d},function(e,t,n){"use strict";function r(e){if(e.Window&&e instanceof e.Window){return{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}}return{x:e.scrollLeft,y:e.scrollTop}}e.exports=r},function(e,t,n){"use strict";var r=/([A-Z])/g;function a(e){return e.replace(r,"-$1").toLowerCase()}e.exports=a},function(e,t,n){"use strict";var r=n(157);var a=/^ms-/;function o(e){return r(e).replace(a,"-ms-")}e.exports=o},function(e,t,n){"use strict";function r(e){var t=e?e.ownerDocument||e:document;var n=t.defaultView||window;return!!(e&&(typeof n.Node==="function"?e instanceof n.Node:typeof e==="object"&&typeof e.nodeType==="number"&&typeof e.nodeName==="string"))}e.exports=r},function(e,t,n){"use strict";var r=n(159);function a(e){return r(e)&&e.nodeType==3}e.exports=a},function(e,t,n){"use strict";function r(e){var t={};return function(n){if(!t.hasOwnProperty(n)){t[n]=e.call(this,n)}return t[n]}}e.exports=r},function(e,t,n){(function(e){var t={};function n(e){return typeof e=="function"}function r(e){return e===Object(e)}function a(e,t){var r=false;if(typeof t==="string"){t=[t]}else if(Object.prototype.toString.call(t)==="[object Array]"){if(t.length===0){r=true}}else{r=true}if(n(e)){if(r){e(r,[])}else{e(r,t)}}return r}function o(e,r){var a;if(n(t[e])){try{a=t[e](r)}catch(t){a=["Problem with custom definition for '"+e+": "+t]}if(typeof result==="string"){a=[a]}if(Object.prototype.toString.call(a)==="[object Array]"){return a}}return[]}e.define=function(e,r){if(e in l&&n(r)){t[e]=r;return true}return false};e.isPosition=function(e,t){var n=[];if(Array.isArray(e)){if(e.length<=1){n.push("Position must be at least two elements")}}else{n.push("Position must be an array")}n=n.concat(o("Position",e));return a(t,n)};e.isGeoJSONObject=e.valid=function(e,t){if(!r(e)){return a(t,["must be a JSON Object"])}var n=[];if("type"in e){if(s[e.type]){return s[e.type](e,t)}else if(u[e.type]){return u[e.type](e,t)}else{n.push('type must be one of: "Point", "MultiPoint", "LineString", "MultiLineString", "Polygon", "MultiPolygon", "GeometryCollection", "Feature", or "FeatureCollection"')}}else{n.push("must have a member with the name 'type'")}n=n.concat(o("GeoJSONObject",e));return a(t,n)};e.isGeometryObject=function(e,t){if(!r(e)){return a(t,["must be a JSON Object"])}var n=[];if("type"in e){if(u[e.type]){return u[e.type](e,t)}else{n.push('type must be one of: "Point", "MultiPoint", "LineString", "MultiLineString", "Polygon", "MultiPolygon" or "GeometryCollection"')}}else{n.push("must have a member with the name 'type'")}n=n.concat(o("GeometryObject",e));return a(t,n)};e.isPoint=function(t,n){if(!r(t)){return a(n,["must be a JSON Object"])}var i=[];if("bbox"in t){e.isBbox(t.bbox,function(e,t){if(!e){i=i.concat(t)}})}if("type"in t){if(t.type!=="Point"){i.push("type must be 'Point'")}}else{i.push("must have a member with the name 'type'")}if("coordinates"in t){e.isPosition(t.coordinates,function(e,t){if(!e){i.push("Coordinates must be a single position")}})}else{i.push("must have a member with the name 'coordinates'")}i=i.concat(o("Point",t));return a(n,i)};e.isMultiPointCoor=function(t,n){var r=[];if(Array.isArray(t)){t.forEach(function(t,n){e.isPosition(t,function(e,t){if(!e){t[0]="at "+n+": ".concat(t[0]);r=r.concat(t)}})})}else{r.push("coordinates must be an array")}return a(n,r)};e.isMultiPoint=function(t,n){if(!r(t)){return a(n,["must be a JSON Object"])}var i=[];if("bbox"in t){e.isBbox(t.bbox,function(e,t){if(!e){i=i.concat(t)}})}if("type"in t){if(t.type!=="MultiPoint"){i.push("type must be 'MultiPoint'")}}else{i.push("must have a member with the name 'type'")}if("coordinates"in t){e.isMultiPointCoor(t.coordinates,function(e,t){if(!e){i=i.concat(t)}})}else{i.push("must have a member with the name 'coordinates'")}i=i.concat(o("MultiPoint",t));return a(n,i)};e.isLineStringCoor=function(t,n){var r=[];if(Array.isArray(t)){if(t.length>1){t.forEach(function(t,n){e.isPosition(t,function(e,t){if(!e){t[0]="at "+n+": ".concat(t[0]);r=r.concat(t)}})})}else{r.push("coordinates must have at least two elements")}}else{r.push("coordinates must be an array")}return a(n,r)};e.isLineString=function(t,n){if(!r(t)){return a(n,["must be a JSON Object"])}var i=[];if("bbox"in t){e.isBbox(t.bbox,function(e,t){if(!e){i=i.concat(t)}})}if("type"in t){if(t.type!=="LineString"){i.push("type must be 'LineString'")}}else{i.push("must have a member with the name 'type'")}if("coordinates"in t){e.isLineStringCoor(t.coordinates,function(e,t){if(!e){i=i.concat(t)}})}else{i.push("must have a member with the name 'coordinates'")}i=i.concat(o("LineString",t));return a(n,i)};e.isMultiLineStringCoor=function(t,n){var r=[];if(Array.isArray(t)){t.forEach(function(t,n){e.isLineStringCoor(t,function(e,t){if(!e){t[0]="at "+n+": ".concat(t[0]);r=r.concat(t)}})})}else{r.push("coordinates must be an array")}a(n,r)};e.isMultiLineString=function(t,n){if(!r(t)){return a(n,["must be a JSON Object"])}var i=[];if("bbox"in t){e.isBbox(t.bbox,function(e,t){if(!e){i=i.concat(t)}})}if("type"in t){if(t.type!=="MultiLineString"){i.push("type must be 'MultiLineString'")}}else{i.push("must have a member with the name 'type'")}if("coordinates"in t){e.isMultiLineStringCoor(t.coordinates,function(e,t){if(!e){i=i.concat(t)}})}else{i.push("must have a member with the name 'coordinates'")}i=i.concat(o("MultiPoint",t));return a(n,i)};function i(t,n){var r=[];if(Array.isArray(t)){t.forEach(function(t,n){e.isPosition(t,function(e,t){if(!e){t[0]="at "+n+": ".concat(t[0]);r=r.concat(t)}})});if(t[0].toString()!==t[t.length-1].toString()){r.push("The first and last positions must be equivalent")}if(t.length<4){r.push("coordinates must have at least four positions")}}else{r.push("coordinates must be an array")}return a(n,r)}e.isPolygonCoor=function(e,t){var n=[];if(Array.isArray(e)){e.forEach(function(e,t){i(e,function(e,r){if(!e){r[0]="at "+t+": ".concat(r[0]);n=n.concat(r)}})})}else{n.push("coordinates must be an array")}return a(t,n)};e.isPolygon=function(t,n){if(!r(t)){return a(n,["must be a JSON Object"])}var i=[];if("bbox"in t){e.isBbox(t.bbox,function(e,t){if(!e){i=i.concat(t)}})}if("type"in t){if(t.type!=="Polygon"){i.push("type must be 'Polygon'")}}else{i.push("must have a member with the name 'type'")}if("coordinates"in t){e.isPolygonCoor(t.coordinates,function(e,t){if(!e){i=i.concat(t)}})}else{i.push("must have a member with the name 'coordinates'")}i=i.concat(o("Polygon",t));return a(n,i)};e.isMultiPolygonCoor=function(t,n){var r=[];if(Array.isArray(t)){t.forEach(function(t,n){e.isPolygonCoor(t,function(e,t){if(!e){t[0]="at "+n+": ".concat(t[0]);r=r.concat(t)}})})}else{r.push("coordinates must be an array")}a(n,r)};e.isMultiPolygon=function(t,n){if(!r(t)){return a(n,["must be a JSON Object"])}var i=[];if("bbox"in t){e.isBbox(t.bbox,function(e,t){if(!e){i=i.concat(t)}})}if("type"in t){if(t.type!=="MultiPolygon"){i.push("type must be 'MultiPolygon'")}}else{i.push("must have a member with the name 'type'")}if("coordinates"in t){e.isMultiPolygonCoor(t.coordinates,function(e,t){if(!e){i=i.concat(t)}})}else{i.push("must have a member with the name 'coordinates'")}i=i.concat(o("MultiPolygon",t));return a(n,i)};e.isGeometryCollection=function(t,n){if(!r(t)){return a(n,["must be a JSON Object"])}var i=[];if("bbox"in t){e.isBbox(t.bbox,function(e,t){if(!e){i=i.concat(t)}})}if("type"in t){if(t.type!=="GeometryCollection"){i.push("type must be 'GeometryCollection'")}}else{i.push("must have a member with the name 'type'")}if("geometries"in t){if(Array.isArray(t.geometries)){t.geometries.forEach(function(t,n){e.isGeometryObject(t,function(e,t){if(!e){t[0]="at "+n+": ".concat(t[0]);i=i.concat(t)}})})}else{i.push("'geometries' must be an array")}}else{i.push("must have a member with the name 'geometries'")}i=i.concat(o("GeometryCollection",t));return a(n,i)};e.isFeature=function(t,n){if(!r(t)){return a(n,["must be a JSON Object"])}var i=[];if("bbox"in t){e.isBbox(t.bbox,function(e,t){if(!e){i=i.concat(t)}})}if("type"in t){if(t.type!=="Feature"){i.push("type must be 'feature'")}}else{i.push("must have a member with the name 'type'")}if(!("properties"in t)){i.push("must have a member with the name 'properties'")}if("geometry"in t){if(t.geometry!==null){e.isGeometryObject(t.geometry,function(e,t){if(!e){i=i.concat(t)}})}}else{i.push("must have a member with the name 'geometry'")}i=i.concat(o("Feature",t));return a(n,i)};e.isFeatureCollection=function(t,n){if(!r(t)){return a(n,["must be a JSON Object"])}var i=[];if("bbox"in t){e.isBbox(t.bbox,function(e,t){if(!e){i=i.concat(t)}})}if("type"in t){if(t.type!=="FeatureCollection"){i.push("type must be 'FeatureCollection'")}}else{i.push("must have a member with the name 'type'")}if("features"in t){if(Array.isArray(t.features)){t.features.forEach(function(t,n){e.isFeature(t,function(e,t){if(!e){t[0]="at "+n+": ".concat(t[0]);i=i.concat(t)}})})}else{i.push("'features' must be an array")}}else{i.push("must have a member with the name 'features'")}i=i.concat(o("FeatureCollection",t));return a(n,i)};e.isBbox=function(e,t){var n=[];if(Array.isArray(e)){if(e.length%2!==0){n.push("bbox, must be a 2*n array")}}else{n.push("bbox must be an array")}n=n.concat(o("Bbox",e));a(t,n)};var s={Feature:e.isFeature,FeatureCollection:e.isFeatureCollection},u={Point:e.isPoint,MultiPoint:e.isMultiPoint,LineString:e.isLineString,MultiLineString:e.isMultiLineString,Polygon:e.isPolygon,MultiPolygon:e.isMultiPolygon,GeometryCollection:e.isGeometryCollection},l={Feature:e.isFeature,FeatureCollection:e.isFeatureCollection,Point:e.isPoint,MultiPoint:e.isMultiPoint,LineString:e.isLineString,MultiLineString:e.isMultiLineString,Polygon:e.isPolygon,MultiPolygon:e.isMultiPolygon,GeometryCollection:e.isGeometryCollection,Bbox:e.isBox,Position:e.isPosition,GeoJSON:e.isGeoJSONObject,GeometryObject:e.isGeometryObject};e.all_types=l})(false?this["GJV"]={}:t)},function(e,t,n){"use strict";var r={childContextTypes:true,contextTypes:true,defaultProps:true,displayName:true,getDefaultProps:true,mixins:true,propTypes:true,type:true};var a={name:true,length:true,prototype:true,caller:true,arguments:true,arity:true};var o=typeof Object.getOwnPropertySymbols==="function";e.exports=function e(t,n,i){if(typeof n!=="string"){var s=Object.getOwnPropertyNames(n);if(o){s=s.concat(Object.getOwnPropertySymbols(n))}for(var u=0;u<s.length;++u){if(!r[s[u]]&&!a[s[u]]&&(!i||!i[s[u]])){try{t[s[u]]=n[s[u]]}catch(e){}}}}return t}},function(e,t){t.read=function(e,t,n,r,a){var o,i;var s=a*8-r-1;var u=(1<<s)-1;var l=u>>1;var c=-7;var f=n?a-1:0;var p=n?-1:1;var d=e[t+f];f+=p;o=d&(1<<-c)-1;d>>=-c;c+=s;for(;c>0;o=o*256+e[t+f],f+=p,c-=8){}i=o&(1<<-c)-1;o>>=-c;c+=r;for(;c>0;i=i*256+e[t+f],f+=p,c-=8){}if(o===0){o=1-l}else if(o===u){return i?NaN:(d?-1:1)*Infinity}else{i=i+Math.pow(2,r);o=o-l}return(d?-1:1)*i*Math.pow(2,o-r)};t.write=function(e,t,n,r,a,o){var i,s,u;var l=o*8-a-1;var c=(1<<l)-1;var f=c>>1;var p=a===23?Math.pow(2,-24)-Math.pow(2,-77):0;var d=r?0:o-1;var h=r?1:-1;var m=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){s=isNaN(t)?1:0;i=c}else{i=Math.floor(Math.log(t)/Math.LN2);if(t*(u=Math.pow(2,-i))<1){i--;u*=2}if(i+f>=1){t+=p/u}else{t+=p*Math.pow(2,1-f)}if(t*u>=2){i++;u/=2}if(i+f>=c){s=0;i=c}else if(i+f>=1){s=(t*u-1)*Math.pow(2,a);i=i+f}else{s=t*Math.pow(2,f-1)*Math.pow(2,a);i=0}}for(;a>=8;e[n+d]=s&255,d+=h,s/=256,a-=8){}i=i<<a|s;l+=a;for(;l>0;e[n+d]=i&255,d+=h,i/=256,l-=8){}e[n+d-h]|=m*128}},function(e,t,n){"use strict";var r=function(e,t,n,r,a,o,i,s){if(false){if(t===undefined){throw new Error("invariant requires an error message argument")}}if(!e){var u;if(t===undefined){u=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var l=[n,r,a,o,i,s];var c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]}));u.name="Invariant Violation"}u.framesToPop=1;throw u}};e.exports=r},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return n.call(e)=="[object Array]"}},function(e,t,n){"use strict";var r=n(71);var a=n(170);var o=n(171);var i="[object Null]",s="[object Undefined]";var u=r["a"]?r["a"].toStringTag:undefined;function l(e){if(e==null){return e===undefined?s:i}return u&&u in Object(e)?n.i(a["a"])(e):n.i(o["a"])(e)}t["a"]=l},function(e,t,n){"use strict";(function(e){var n=typeof e=="object"&&e&&e.Object===Object&&e;t["a"]=n}).call(t,n(26))},function(e,t,n){"use strict";var r=n(172);var a=n.i(r["a"])(Object.getPrototypeOf,Object);t["a"]=a},function(e,t,n){"use strict";var r=n(71);var a=Object.prototype;var o=a.hasOwnProperty;var i=a.toString;var s=r["a"]?r["a"].toStringTag:undefined;function u(e){var t=o.call(e,s),n=e[s];try{e[s]=undefined;var r=true}catch(e){}var a=i.call(e);if(r){if(t){e[s]=n}else{delete e[s]}}return a}t["a"]=u},function(e,t,n){"use strict";var r=Object.prototype;var a=r.toString;function o(e){return a.call(e)}t["a"]=o},function(e,t,n){"use strict";function r(e,t){return function(n){return e(t(n))}}t["a"]=r},function(e,t,n){"use strict";var r=n(168);var a=typeof self=="object"&&self&&self.Object===Object&&self;var o=r["a"]||a||Function("return this")();t["a"]=o},function(e,t,n){"use strict";function r(e){return e!=null&&typeof e=="object"}t["a"]=r},function(e,t,n){var r=n(73),a=n(178),o=n(179);var i="[object Null]",s="[object Undefined]";var u=r?r.toStringTag:undefined;function l(e){if(e==null){return e===undefined?s:i}return u&&u in Object(e)?a(e):o(e)}e.exports=l},function(e,t,n){(function(t){var n=typeof t=="object"&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(26))},function(e,t,n){var r=n(180);var a=r(Object.getPrototypeOf,Object);e.exports=a},function(e,t,n){var r=n(73);var a=Object.prototype;var o=a.hasOwnProperty;var i=a.toString;var s=r?r.toStringTag:undefined;function u(e){var t=o.call(e,s),n=e[s];try{e[s]=undefined;var r=true}catch(e){}var a=i.call(e);if(r){if(t){e[s]=n}else{delete e[s]}}return a}e.exports=u},function(e,t){var n=Object.prototype;var r=n.toString;function a(e){return r.call(e)}e.exports=a},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){var r=n(176);var a=typeof self=="object"&&self&&self.Object===Object&&self;var o=r||a||Function("return this")();e.exports=o},function(e,t){function n(e){return e!=null&&typeof e=="object"}e.exports=n},function(e,t,n){var r=n(175),a=n(177),o=n(182);var i="[object Object]";var s=Function.prototype,u=Object.prototype;var l=s.toString;var c=u.hasOwnProperty;var f=l.call(Object);function p(e){if(!o(e)||r(e)!=i){return false}var t=a(e);if(t===null){return true}var n=c.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&l.call(n)==f}e.exports=p},function(e,t,n){"use strict";if(false){var r=require("fbjs/lib/invariant");var a=require("fbjs/lib/warning");var o=require("./lib/ReactPropTypesSecret");var i={}}function s(e,t,n,s,u){if(false){for(var l in e){if(e.hasOwnProperty(l)){var c;try{r(typeof e[l]==="function","%s: %s type `%s` is invalid; it must be a function, usually from "+"React.PropTypes.",s||"React class",n,l);c=e[l](t,l,s,n,null,o)}catch(e){c=e}a(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker "+"function must return `null` or an `Error` but returned a %s. "+"You may have forgotten to pass an argument to the type checker "+"creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and "+"shape all require an argument).",s||"React class",n,l,typeof c);if(c instanceof Error&&!(c.message in i)){i[c.message]=true;var f=u?u():"";a(false,"Failed %s type: %s%s",n,c.message,f!=null?f:"")}}}}}e.exports=s},function(e,t,n){"use strict";var r=n(11);var a=n(1);e.exports=function(){function e(){a(false,"Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use PropTypes.checkPropTypes() to call them. "+"Read more at http://fb.me/use-check-prop-types")}e.isRequired=e;function t(){return e}var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};n.checkPropTypes=r;n.PropTypes=n;return n}},function(e,t,n){"use strict";var r=n(11);var a=n(1);var o=n(2);var i=n(187);var s=n(184);e.exports=function(e,t){var n=typeof Symbol==="function"&&Symbol.iterator;var u="@@iterator";function l(e){var t=e&&(n&&e[n]||e[u]);if(typeof t==="function"){return t}}var c="<<anonymous>>";var f={array:m("array"),bool:m("boolean"),func:m("function"),number:m("number"),object:m("object"),string:m("string"),symbol:m("symbol"),any:v(),arrayOf:y,element:g(),instanceOf:b,node:E(),objectOf:x,oneOf:_,oneOfType:w,shape:S};function p(e,t){if(e===t){return e!==0||1/e===1/t}else{return e!==e&&t!==t}}function d(e){this.message=e;this.stack=""}d.prototype=Error.prototype;function h(e){if(false){var n={};var r=0}function s(s,u,l,f,p,h,m){f=f||c;h=h||l;if(m!==i){if(t){a(false,"Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use `PropTypes.checkPropTypes()` to call them. "+"Read more at http://fb.me/use-check-prop-types")}else if(false){var v=f+":"+l;if(!n[v]&&r<3){o(false,"You are manually calling a React.PropTypes validation "+"function for the `%s` prop on `%s`. This is deprecated "+"and will throw in the standalone `prop-types` package. "+"You may be seeing this warning due to a third-party PropTypes "+"library. See https://fb.me/react-warning-dont-call-proptypes "+"for details.",h,f);n[v]=true;r++}}}if(u[l]==null){if(s){if(u[l]===null){return new d("The "+p+" `"+h+"` is marked as required "+("in `"+f+"`, but its value is `null`."))}return new d("The "+p+" `"+h+"` is marked as required in "+("`"+f+"`, but its value is `undefined`."))}return null}else{return e(u,l,f,p,h)}}var u=s.bind(null,false);u.isRequired=s.bind(null,true);return u}function m(e){function t(t,n,r,a,o,i){var s=t[n];var u=C(s);if(u!==e){var l=k(s);return new d("Invalid "+a+" `"+o+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return h(t)}function v(){return h(r.thatReturnsNull)}function y(e){function t(t,n,r,a,o){if(typeof e!=="function"){return new d("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.")}var s=t[n];if(!Array.isArray(s)){var u=C(s);return new d("Invalid "+a+" `"+o+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an array."))}for(var l=0;l<s.length;l++){var c=e(s,l,r,a,o+"["+l+"]",i);if(c instanceof Error){return c}}return null}return h(t)}function g(){function t(t,n,r,a,o){var i=t[n];if(!e(i)){var s=C(i);return new d("Invalid "+a+" `"+o+"` of type "+("`"+s+"` supplied to `"+r+"`, expected a single ReactElement."))}return null}return h(t)}function b(e){function t(t,n,r,a,o){if(!(t[n]instanceof e)){var i=e.name||c;var s=I(t[n]);return new d("Invalid "+a+" `"+o+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("instance of `"+i+"`."))}return null}return h(t)}function _(e){if(!Array.isArray(e)){false?o(false,"Invalid argument supplied to oneOf, expected an instance of array."):void 0;return r.thatReturnsNull}function t(t,n,r,a,o){var i=t[n];for(var s=0;s<e.length;s++){if(p(i,e[s])){return null}}var u=JSON.stringify(e);return new d("Invalid "+a+" `"+o+"` of value `"+i+"` "+("supplied to `"+r+"`, expected one of "+u+"."))}return h(t)}function x(e){function t(t,n,r,a,o){if(typeof e!=="function"){return new d("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.")}var s=t[n];var u=C(s);if(u!=="object"){return new d("Invalid "+a+" `"+o+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var l in s){if(s.hasOwnProperty(l)){var c=e(s,l,r,a,o+"."+l,i);if(c instanceof Error){return c}}}return null}return h(t)}function w(e){if(!Array.isArray(e)){false?o(false,"Invalid argument supplied to oneOfType, expected an instance of array."):void 0;return r.thatReturnsNull}function t(t,n,r,a,o){for(var s=0;s<e.length;s++){var u=e[s];if(u(t,n,r,a,o,i)==null){return null}}return new d("Invalid "+a+" `"+o+"` supplied to "+("`"+r+"`."))}return h(t)}function E(){function e(e,t,n,r,a){if(!T(e[t])){return new d("Invalid "+r+" `"+a+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return h(e)}function S(e){function t(t,n,r,a,o){var s=t[n];var u=C(s);if(u!=="object"){return new d("Invalid "+a+" `"+o+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var l in e){var c=e[l];if(!c){continue}var f=c(s,l,r,a,o+"."+l,i);if(f){return f}}return null}return h(t)}function T(t){switch(typeof t){case"number":case"string":case"undefined":return true;case"boolean":return!t;case"object":if(Array.isArray(t)){return t.every(T)}if(t===null||e(t)){return true}var n=l(t);if(n){var r=n.call(t);var a;if(n!==t.entries){while(!(a=r.next()).done){if(!T(a.value)){return false}}}else{while(!(a=r.next()).done){var o=a.value;if(o){if(!T(o[1])){return false}}}}}else{return false}return true;default:return false}}function M(e,t){if(e==="symbol"){return true}if(t["@@toStringTag"]==="Symbol"){return true}if(typeof Symbol==="function"&&t instanceof Symbol){return true}return false}function C(e){var t=typeof e;if(Array.isArray(e)){return"array"}if(e instanceof RegExp){return"object"}if(M(t,e)){return"symbol"}return t}function k(e){var t=C(e);if(t==="object"){if(e instanceof Date){return"date"}else if(e instanceof RegExp){return"regexp"}}return t}function I(e){if(!e.constructor||!e.constructor.name){return c}return e.constructor.name}f.checkPropTypes=s;f.PropTypes=f;return f}},function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},function(e,t){e.exports='/*!\n * Bootstrap v3.3.7 (http://getbootstrap.com)\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under the MIT license\n */\nif("undefined"==typeof jQuery)throw new Error("Bootstrap\'s JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>3)throw new Error("Bootstrap\'s JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c=\'[data-dismiss="alert"]\',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.7",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\\s]*$)/,""));var g=a("#"===f?[]:f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.7",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c).prop(c,!0)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c).prop(c,!1))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest(\'[data-toggle="buttons"]\');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",\'[data-toggle^="button"]\',function(c){var d=a(c.target).closest(".btn");b.call(d,"toggle"),a(c.target).is(\'input[type="radio"], input[type="checkbox"]\')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",\'[data-toggle^="button"]\',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||a<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){if(!this.sliding)return this.slide("next")},c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a(\'[data-ride="carousel"]\').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a(\'[data-toggle="collapse"][href="#\'+b.id+\'"],[data-toggle="collapse"][data-target="#\'+b.id+\'"]\'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.7",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find(\'[data-toggle="collapse"][data-parent="\'+this.options.parent+\'"]\').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",\'[data-toggle="collapse"]\',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f=\'[data-toggle="dropdown"]\',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.7",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",\'[data-dismiss="modal"]\',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",\'[data-toggle="modal"]\',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:\'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>\',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),!c.isInStateTrue())return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\\s?auto?\\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);if(this.$element.trigger(g),!g.isDefaultPrevented())return f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.7",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:\'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>\'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.7",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){\nthis.activeTarget=b,this.clear();var c=this.selector+\'[data-target="\'+b+\'"],\'+this.selector+\'[href="\'+b+\'"]\',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a(\'[data-spy="scroll"]\').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find(\'[data-toggle="tab"]\').attr("aria-expanded",!1),b.addClass("active").find(\'[data-toggle="tab"]\').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find(\'[data-toggle="tab"]\').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",\'[data-toggle="tab"]\',e).on("click.bs.tab.data-api",\'[data-toggle="pill"]\',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return e<c&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(e+g<=a-d)&&"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&e<=c?"top":null!=d&&i+j>=a-d&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a(\'[data-spy="affix"]\').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);'},function(e,t){e.exports='/*! jQuery v2.2.4 | (c) jQuery Foundation | jquery.org/license */\n!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,p=/^-ms-/,q=/-([\\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\\\x20\\\\t\\\\r\\\\n\\\\f]",M="(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+",N="\\\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:\'((?:\\\\\\\\.|[^\\\\\\\\\'])*)\'|\\"((?:\\\\\\\\.|[^\\\\\\\\\\"])*)\\"|("+M+"))|)"+L+"*\\\\]",O=":("+M+")(?:\\\\(((\'((?:\\\\\\\\.|[^\\\\\\\\\'])*)\'|\\"((?:\\\\\\\\.|[^\\\\\\\\\\"])*)\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|"+N+")*)|.*)\\\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\\\]\'\\"]*?)"+L+"*\\\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\("+L+"*(even|odd|(([+-]|)(\\\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\\\d+)|))"+L+"*\\\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\("+L+"*((?:-\\\\d)?\\\\d*)"+L+"*\\\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\\d$/i,Z=/^[^{]+\\{\\s*\\[native \\w/,$=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,_=/[+~]/,aa=/\'|\\\\/g,ba=new RegExp("\\\\\\\\([\\\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id=\'"+k+"\']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id=\'"+u+"\'></a><select id=\'"+u+"-\\r\\\\\' msallowcapture=\'\'><option selected=\'\'></option></select>",a.querySelectorAll("[msallowcapture^=\'\']").length&&q.push("[*^$]="+L+"*(?:\'\'|\\"\\")"),a.querySelectorAll("[selected]").length||q.push("\\\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!=\'\']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"=\'$1\']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href=\'#\'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\\w-]+)\\s*\\/?>(?:<\\/\\1>|)$/,y=/^.[^:#\\[\\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c;\n}catch(e){}O.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\\w:-]+)/,Z=/^$|\\/(?:java|ecma)script/i,$={option:[1,"<select multiple=\'multiple\'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}var ba=/<|&#?\\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\\\.)"+p.join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:-]+)[^>]*)\\/>/gi,la=/<script|<style|<link/i,ma=/checked\\s*(?:[^=]|=\\s*.checked.)/i,na=/^true\\/(.*)/,oa=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder=\'0\' width=\'0\' height=\'0\'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ca(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Fa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ba.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Oa(a,b,c||(g?"border":"content"),d,f)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),\nvoid 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\\t\\r\\n\\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\\r/g,hb=/[\\x20\\t\\r\\n\\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(hb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\\\.)"+r.join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b)}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\\/\\//,sb={},tb={},ub="*/".concat("*"),vb=d.createElement("a");vb.href=jb.href;function wb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:"GET",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+"").replace(mb,"").replace(rb,jb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+"//"+vb.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,"$1_="+kb++):f+(lb.test(f)?"&":"?")+"_="+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ub+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\\[\\]$/,Db=/\\r?\\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Gb(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join("&").replace(Bb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,"\\r\\n")}}):{name:b.name,value:c.replace(Db,"\\r\\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&"withCredentials"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\\?(?=&|$)|\\?\\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});\n'},function(e,t,n){"use strict";e.exports=n(204)},function(e,t,n){"use strict";var r={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};e.exports=r},function(e,t,n){"use strict";var r=n(7);var a=n(69);var o={focusDOMComponent:function(){a(r.getNodeFromInstance(this))}};e.exports=o},function(e,t,n){"use strict";var r=n(31);var a=n(10);var o=n(199);var i=n(236);var s=n(239);var u=[9,13,27,32];var l=229;var c=a.canUseDOM&&"CompositionEvent"in window;var f=null;if(a.canUseDOM&&"documentMode"in document){f=document.documentMode}var p=a.canUseDOM&&"TextEvent"in window&&!f&&!h();var d=a.canUseDOM&&(!c||f&&f>8&&f<=11);function h(){var e=window.opera;return typeof e==="object"&&typeof e.version==="function"&&parseInt(e.version(),10)<=12}var m=32;var v=String.fromCharCode(m);var y={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}};var g=false;function b(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function _(e){switch(e){case"topCompositionStart":return y.compositionStart;case"topCompositionEnd":return y.compositionEnd;case"topCompositionUpdate":return y.compositionUpdate}}function x(e,t){return e==="topKeyDown"&&t.keyCode===l}function w(e,t){switch(e){case"topKeyUp":return u.indexOf(t.keyCode)!==-1;case"topKeyDown":return t.keyCode!==l;case"topKeyPress":case"topMouseDown":case"topBlur":return true;default:return false}}function E(e){var t=e.detail;if(typeof t==="object"&&"data"in t){return t.data}return null}var S=null;function T(e,t,n,a){var s;var u;if(c){s=_(e)}else if(!S){if(x(e,n)){s=y.compositionStart}}else if(w(e,n)){s=y.compositionEnd}if(!s){return null}if(d){if(!S&&s===y.compositionStart){S=o.getPooled(a)}else if(s===y.compositionEnd){if(S){u=S.getData()}}}var l=i.getPooled(s,t,n,a);if(u){l.data=u}else{var f=E(n);if(f!==null){l.data=f}}r.accumulateTwoPhaseDispatches(l);return l}function M(e,t){switch(e){case"topCompositionEnd":return E(t);case"topKeyPress":var n=t.which;if(n!==m){return null}g=true;return v;case"topTextInput":var r=t.data;if(r===v&&g){return null}return r;default:return null}}function C(e,t){if(S){if(e==="topCompositionEnd"||!c&&w(e,t)){var n=S.getData();o.release(S);S=null;return n}return null}switch(e){case"topPaste":return null;case"topKeyPress":if(t.which&&!b(t)){return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return d?null:t.data;default:return null}}function k(e,t,n,a){var o;if(p){o=M(e,n)}else{o=C(e,n)}if(!o){return null}var i=s.getPooled(y.beforeInput,t,n,a);i.data=o;r.accumulateTwoPhaseDispatches(i);return i}var I={eventTypes:y,extractEvents:function(e,t,n,r){return[T(e,t,n,r),k(e,t,n,r)]}};e.exports=I},function(e,t,n){"use strict";var r=n(76);var a=n(10);var o=n(13);var i=n(151);var s=n(245);var u=n(158);var l=n(161);var c=n(2);var f=l(function(e){return u(e)});var p=false;var d="cssFloat";if(a.canUseDOM){var h=document.createElement("div").style;try{h.font=""}catch(e){p=true}if(document.documentElement.style.cssFloat===undefined){d="styleFloat"}}if(false){var m=/^(?:webkit|moz|o)[A-Z]/;var v=/;\s*$/;var y={};var g={};var b=false;var _=function(e,t){if(y.hasOwnProperty(e)&&y[e]){return}y[e]=true;process.env.NODE_ENV!=="production"?c(false,"Unsupported style property %s. Did you mean %s?%s",e,i(e),S(t)):void 0};var x=function(e,t){if(y.hasOwnProperty(e)&&y[e]){return}y[e]=true;process.env.NODE_ENV!=="production"?c(false,"Unsupported vendor-prefixed style property %s. Did you mean %s?%s",e,e.charAt(0).toUpperCase()+e.slice(1),S(t)):void 0};var w=function(e,t,n){if(g.hasOwnProperty(t)&&g[t]){return}g[t]=true;process.env.NODE_ENV!=="production"?c(false,"Style property values shouldn't contain a semicolon.%s "+'Try "%s: %s" instead.',S(n),e,t.replace(v,"")):void 0};var E=function(e,t,n){if(b){return}b=true;process.env.NODE_ENV!=="production"?c(false,"`NaN` is an invalid value for the `%s` css style property.%s",e,S(n)):void 0};var S=function(e){if(e){var t=e.getName();if(t){return" Check the render method of `"+t+"`."}}return""};var T=function(e,t,n){var r;if(n){r=n._currentElement._owner}if(e.indexOf("-")>-1){_(e,r)}else if(m.test(e)){x(e,r)}else if(v.test(t)){w(e,t,r)}if(typeof t==="number"&&isNaN(t)){E(e,t,r)}}}var M={createMarkupForStyles:function(e,t){var n="";for(var r in e){if(!e.hasOwnProperty(r)){continue}var a=e[r];if(false){T(r,a,t)}if(a!=null){n+=f(r)+":";n+=s(r,a,t)+";"}}return n||null},setValueForStyles:function(e,t,n){if(false){o.debugTool.onHostOperation({instanceID:n._debugID,type:"update styles",payload:t})}var a=e.style;for(var i in t){if(!t.hasOwnProperty(i)){continue}if(false){T(i,t[i],n)}var u=s(i,t[i],n);if(i==="float"||i==="cssFloat"){i=d}if(u){a[i]=u}else{var l=p&&r.shorthandPropertyExpansions[i];if(l){for(var c in l){a[c]=""}}else{a[i]=""}}}}};e.exports=M},function(e,t,n){"use strict";var r=n(30);var a=n(31);var o=n(10);var i=n(7);var s=n(14);var u=n(16);var l=n(55);var c=n(56);var f=n(93);var p={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}};var d=null;var h=null;var m=null;var v=null;function y(e){var t=e.nodeName&&e.nodeName.toLowerCase();return t==="select"||t==="input"&&e.type==="file"}var g=false;if(o.canUseDOM){g=c("change")&&(!document.documentMode||document.documentMode>8)}function b(e){var t=u.getPooled(p.change,h,e,l(e));a.accumulateTwoPhaseDispatches(t);s.batchedUpdates(_,t)}function _(e){r.enqueueEvents(e);r.processEventQueue(false)}function x(e,t){d=e;h=t;d.attachEvent("onchange",b)}function w(){if(!d){return}d.detachEvent("onchange",b);d=null;h=null}function E(e,t){if(e==="topChange"){return t}}function S(e,t,n){if(e==="topFocus"){w();x(t,n)}else if(e==="topBlur"){w()}}var T=false;if(o.canUseDOM){T=c("input")&&(!document.documentMode||document.documentMode>11)}var M={get:function(){return v.get.call(this)},set:function(e){m=""+e;v.set.call(this,e)}};function C(e,t){d=e;h=t;m=e.value;v=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value");Object.defineProperty(d,"value",M);if(d.attachEvent){d.attachEvent("onpropertychange",I)}else{d.addEventListener("propertychange",I,false)}}function k(){if(!d){return}delete d.value;if(d.detachEvent){d.detachEvent("onpropertychange",I)}else{d.removeEventListener("propertychange",I,false)}d=null;h=null;m=null;v=null}function I(e){if(e.propertyName!=="value"){return}var t=e.srcElement.value;if(t===m){return}m=t;b(e)}function P(e,t){if(e==="topInput"){return t}}function D(e,t,n){if(e==="topFocus"){k();C(t,n)}else if(e==="topBlur"){k()}}function N(e,t){if(e==="topSelectionChange"||e==="topKeyUp"||e==="topKeyDown"){if(d&&d.value!==m){m=d.value;return h}}}function A(e){return e.nodeName&&e.nodeName.toLowerCase()==="input"&&(e.type==="checkbox"||e.type==="radio")}function O(e,t){if(e==="topClick"){return t}}function R(e,t){if(e==null){return}var n=e._wrapperState||t._wrapperState;if(!n||!n.controlled||t.type!=="number"){return}var r=""+t.value;if(t.getAttribute("value")!==r){t.setAttribute("value",r)}}var j={eventTypes:p,extractEvents:function(e,t,n,r){var o=t?i.getNodeFromInstance(t):window;var s,l;if(y(o)){if(g){s=E}else{l=S}}else if(f(o)){if(T){s=P}else{s=N;l=D}}else if(A(o)){s=O}if(s){var c=s(e,t);if(c){var d=u.getPooled(p.change,c,n,r);d.type="change";a.accumulateTwoPhaseDispatches(d);return d}}if(l){l(e,o,t)}if(e==="topBlur"){R(t,o)}}};e.exports=j},function(e,t,n){"use strict";var r=n(3);var a=n(20);var o=n(10);var i=n(154);var s=n(11);var u=n(1);var l={dangerouslyReplaceNodeWithMarkup:function(e,t){!o.canUseDOM?false?u(false,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."):r("56"):void 0;!t?false?u(false,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):r("57"):void 0;!(e.nodeName!=="HTML")?false?u(false,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):r("58"):void 0;if(typeof t==="string"){var n=i(t,s)[0];e.parentNode.replaceChild(n,e)}else{a.replaceChildWithTree(e,t)}}};e.exports=l},function(e,t,n){"use strict";var r=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];e.exports=r},function(e,t,n){"use strict";var r=n(31);var a=n(7);var o=n(37);var i={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}};var s={eventTypes:i,extractEvents:function(e,t,n,s){if(e==="topMouseOver"&&(n.relatedTarget||n.fromElement)){return null}if(e!=="topMouseOut"&&e!=="topMouseOver"){return null}var u;if(s.window===s){u=s}else{var l=s.ownerDocument;if(l){u=l.defaultView||l.parentWindow}else{u=window}}var c;var f;if(e==="topMouseOut"){c=t;var p=n.relatedTarget||n.toElement;f=p?a.getClosestInstanceFromNode(p):null}else{c=null;f=t}if(c===f){return null}var d=c==null?u:a.getNodeFromInstance(c);var h=f==null?u:a.getNodeFromInstance(f);var m=o.getPooled(i.mouseLeave,c,n,s);m.type="mouseleave";m.target=d;m.relatedTarget=h;var v=o.getPooled(i.mouseEnter,f,n,s);v.type="mouseenter";v.target=h;v.relatedTarget=d;r.accumulateEnterLeaveDispatches(m,v,c,f);return[m,v]}};e.exports=s},function(e,t,n){"use strict";var r=n(5);var a=n(19);var o=n(91);function i(e){this._root=e;this._startText=this.getText();this._fallbackText=null}r(i.prototype,{destructor:function(){this._root=null;this._startText=null;this._fallbackText=null},getText:function(){if("value"in this._root){return this._root.value}return this._root[o()]},getData:function(){if(this._fallbackText){return this._fallbackText}var e;var t=this._startText;var n=t.length;var r;var a=this.getText();var o=a.length;for(e=0;e<n;e++){if(t[e]!==a[e]){break}}var i=n-e;for(r=1;r<=i;r++){if(t[n-r]!==a[o-r]){break}}var s=r>1?1-r:undefined;this._fallbackText=a.slice(e,s);return this._fallbackText}});a.addPoolingTo(i);e.exports=i},function(e,t,n){"use strict";var r=n(21);var a=r.injection.MUST_USE_PROPERTY;var o=r.injection.HAS_BOOLEAN_VALUE;var i=r.injection.HAS_NUMERIC_VALUE;var s=r.injection.HAS_POSITIVE_NUMERIC_VALUE;var u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE;var l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,as:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:a|o,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,default:o,defer:o,dir:0,disabled:o,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:a|o,muted:a|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,playsInline:o,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,referrerPolicy:0,rel:0,required:o,reversed:o,role:0,rows:s,rowSpan:i,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:a|o,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:i,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){if(t==null){return e.removeAttribute("value")}if(e.type!=="number"||e.hasAttribute("value")===false){e.setAttribute("value",""+t)}else if(e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e){e.setAttribute("value",""+t)}}}};e.exports=l},function(e,t,n){"use strict";(function(t){var r=n(22);var a=n(92);var o=n(47);var i=n(57);var s=n(95);var u=n(2);var l;if(typeof t!=="undefined"&&n.i({NODE_ENV:"production"})&&"production"==="test"){l=n(98)}function c(e,n,r,i){var s=e[r]===undefined;if(false){if(!l){l=require("react/lib/ReactComponentTreeHook")}if(!s){t.env.NODE_ENV!=="production"?u(false,"flattenChildren(...): Encountered two children with the same key, "+"`%s`. Child keys must be unique; when two children share a key, only "+"the first child will be used.%s",o.unescape(r),l.getStackAddendumByID(i)):void 0}}if(n!=null&&s){e[r]=a(n,true)}}var f={instantiateChildren:function(e,t,n,r){if(e==null){return null}var a={};if(false){s(e,function(e,t,n){return c(e,t,n,r)},a)}else{s(e,c,a)}return a},updateChildren:function(e,t,n,o,s,u,l,c,f){if(!t&&!e){return}var p;var d;for(p in t){if(!t.hasOwnProperty(p)){continue}d=e&&e[p];var h=d&&d._currentElement;var m=t[p];if(d!=null&&i(h,m)){r.receiveComponent(d,m,s,c);t[p]=d}else{if(d){o[p]=r.getHostNode(d);r.unmountComponent(d,false)}var v=a(m,true);t[p]=v;var y=r.mountComponent(v,s,u,l,c,f);n.push(y)}}for(p in e){if(e.hasOwnProperty(p)&&!(t&&t.hasOwnProperty(p))){d=e[p];o[p]=r.getHostNode(d);r.unmountComponent(d,false)}}},unmountChildren:function(e,t){for(var n in e){if(e.hasOwnProperty(n)){var a=e[n];r.unmountComponent(a,t)}}}};e.exports=f}).call(t,n(42))},function(e,t,n){"use strict";var r=n(43);var a=n(209);var o={processChildrenUpdates:a.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};e.exports=o},function(e,t,n){"use strict";var r=n(3),a=n(5);var o=n(23);var i=n(49);var s=n(17);var u=n(50);var l=n(32);var c=n(13);var f=n(86);var p=n(22);if(false){var d=require("./checkReactTypeSpec")}var h=n(29);var m=n(1);var v=n(41);var y=n(57);var g=n(2);var b={ImpureClass:0,PureClass:1,StatelessFunctional:2};function _(e){}_.prototype.render=function(){var e=l.get(this)._currentElement.type;var t=e(this.props,this.context,this.updater);x(e,t);return t};function x(e,t){if(false){process.env.NODE_ENV!=="production"?g(t===null||t===false||o.isValidElement(t),"%s(...): A valid React element (or null) must be returned. You may have "+"returned undefined, an array or some other invalid object.",e.displayName||e.name||"Component"):void 0;process.env.NODE_ENV!=="production"?g(!e.childContextTypes,"%s(...): childContextTypes cannot be defined on a functional component.",e.displayName||e.name||"Component"):void 0}}function w(e){return!!(e.prototype&&e.prototype.isReactComponent)}function E(e){return!!(e.prototype&&e.prototype.isPureReactComponent)}function S(e,t,n){if(t===0){return e()}c.debugTool.onBeginLifeCycleTimer(t,n);try{return e()}finally{c.debugTool.onEndLifeCycleTimer(t,n)}}var T=1;var M={construct:function(e){this._currentElement=e;this._rootNodeID=0;this._compositeType=null;this._instance=null;this._hostParent=null;this._hostContainerInfo=null;this._updateBatchNumber=null;this._pendingElement=null;this._pendingStateQueue=null;this._pendingReplaceState=false;this._pendingForceUpdate=false;this._renderedNodeType=null;this._renderedComponent=null;this._context=null;this._mountOrder=0;this._topLevelWrapper=null;this._pendingCallbacks=null;this._calledComponentWillUnmount=false;if(false){this._warnedAboutRefsInRender=false}},mountComponent:function(e,t,n,a){var i=this;this._context=a;this._mountOrder=T++;this._hostParent=t;this._hostContainerInfo=n;var s=this._currentElement.props;var u=this._processContext(a);var c=this._currentElement.type;var f=e.getUpdateQueue();var p=w(c);var d=this._constructComponent(p,s,u,f);var v;if(!p&&(d==null||d.render==null)){v=d;x(c,v);!(d===null||d===false||o.isValidElement(d))?false?m(false,"%s(...): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",c.displayName||c.name||"Component"):r("105",c.displayName||c.name||"Component"):void 0;d=new _(c);this._compositeType=b.StatelessFunctional}else{if(E(c)){this._compositeType=b.PureClass}else{this._compositeType=b.ImpureClass}}if(false){if(d.render==null){process.env.NODE_ENV!=="production"?g(false,"%s(...): No `render` method found on the returned component "+"instance: you may have forgotten to define `render`.",c.displayName||c.name||"Component"):void 0}var y=d.props!==s;var M=c.displayName||c.name||"Component";process.env.NODE_ENV!=="production"?g(d.props===undefined||!y,"%s(...): When calling super() in `%s`, make sure to pass "+"up the same props that your component's constructor was passed.",M,M):void 0}d.props=s;d.context=u;d.refs=h;d.updater=f;this._instance=d;l.set(d,this);if(false){process.env.NODE_ENV!=="production"?g(!d.getInitialState||d.getInitialState.isReactClassApproved||d.state,"getInitialState was defined on %s, a plain JavaScript class. "+"This is only supported for classes created using React.createClass. "+"Did you mean to define a state property instead?",this.getName()||"a component"):void 0;process.env.NODE_ENV!=="production"?g(!d.getDefaultProps||d.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. "+"This is only supported for classes created using React.createClass. "+"Use a static property to define defaultProps instead.",this.getName()||"a component"):void 0;process.env.NODE_ENV!=="production"?g(!d.propTypes,"propTypes was defined as an instance property on %s. Use a static "+"property to define propTypes instead.",this.getName()||"a component"):void 0;process.env.NODE_ENV!=="production"?g(!d.contextTypes,"contextTypes was defined as an instance property on %s. Use a "+"static property to define contextTypes instead.",this.getName()||"a component"):void 0;process.env.NODE_ENV!=="production"?g(typeof d.componentShouldUpdate!=="function","%s has a method called "+"componentShouldUpdate(). Did you mean shouldComponentUpdate()? "+"The name is phrased as a question because the function is "+"expected to return a value.",this.getName()||"A component"):void 0;process.env.NODE_ENV!=="production"?g(typeof d.componentDidUnmount!=="function","%s has a method called "+"componentDidUnmount(). But there is no such lifecycle method. "+"Did you mean componentWillUnmount()?",this.getName()||"A component"):void 0;process.env.NODE_ENV!=="production"?g(typeof d.componentWillRecieveProps!=="function","%s has a method called "+"componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component"):void 0}var C=d.state;if(C===undefined){d.state=C=null}!(typeof C==="object"&&!Array.isArray(C))?false?m(false,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):r("106",this.getName()||"ReactCompositeComponent"):void 0;this._pendingStateQueue=null;this._pendingReplaceState=false;this._pendingForceUpdate=false;var k;if(d.unstable_handleError){k=this.performInitialMountWithErrorHandling(v,t,n,e,a)}else{k=this.performInitialMount(v,t,n,e,a)}if(d.componentDidMount){if(false){e.getReactMountReady().enqueue(function(){S(function(){return d.componentDidMount()},i._debugID,"componentDidMount")})}else{e.getReactMountReady().enqueue(d.componentDidMount,d)}}return k},_constructComponent:function(e,t,n,r){if(false){s.current=this;try{return this._constructComponentWithoutOwner(e,t,n,r)}finally{s.current=null}}else{return this._constructComponentWithoutOwner(e,t,n,r)}},_constructComponentWithoutOwner:function(e,t,n,r){var a=this._currentElement.type;if(e){if(false){return S(function(){return new a(t,n,r)},this._debugID,"ctor")}else{return new a(t,n,r)}}if(false){return S(function(){return a(t,n,r)},this._debugID,"render")}else{return a(t,n,r)}},performInitialMountWithErrorHandling:function(e,t,n,r,a){var o;var i=r.checkpoint();try{o=this.performInitialMount(e,t,n,r,a)}catch(s){r.rollback(i);this._instance.unstable_handleError(s);if(this._pendingStateQueue){this._instance.state=this._processPendingState(this._instance.props,this._instance.context)}i=r.checkpoint();this._renderedComponent.unmountComponent(true);r.rollback(i);o=this.performInitialMount(e,t,n,r,a)}return o},performInitialMount:function(e,t,n,r,a){var o=this._instance;var i=0;if(false){i=this._debugID}if(o.componentWillMount){if(false){S(function(){return o.componentWillMount()},i,"componentWillMount")}else{o.componentWillMount()}if(this._pendingStateQueue){o.state=this._processPendingState(o.props,o.context)}}if(e===undefined){e=this._renderValidatedComponent()}var s=f.getType(e);this._renderedNodeType=s;var u=this._instantiateReactComponent(e,s!==f.EMPTY);this._renderedComponent=u;var l=p.mountComponent(u,r,t,n,this._processChildContext(a),i);if(false){if(i!==0){var d=u._debugID!==0?[u._debugID]:[];c.debugTool.onSetChildren(i,d)}}return l},getHostNode:function(){return p.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(!this._renderedComponent){return}var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount){t._calledComponentWillUnmount=true;if(e){var n=this.getName()+".componentWillUnmount()";u.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else{if(false){S(function(){return t.componentWillUnmount()},this._debugID,"componentWillUnmount")}else{t.componentWillUnmount()}}}if(this._renderedComponent){p.unmountComponent(this._renderedComponent,e);this._renderedNodeType=null;this._renderedComponent=null;this._instance=null}this._pendingStateQueue=null;this._pendingReplaceState=false;this._pendingForceUpdate=false;this._pendingCallbacks=null;this._pendingElement=null;this._context=null;this._rootNodeID=0;this._topLevelWrapper=null;l.remove(t)},_maskContext:function(e){var t=this._currentElement.type;var n=t.contextTypes;if(!n){return h}var r={};for(var a in n){r[a]=e[a]}return r},_processContext:function(e){var t=this._maskContext(e);if(false){var n=this._currentElement.type;if(n.contextTypes){this._checkContextTypes(n.contextTypes,t,"context")}}return t},_processChildContext:function(e){var t=this._currentElement.type;var n=this._instance;var o;if(n.getChildContext){if(false){c.debugTool.onBeginProcessingChildContext();try{o=n.getChildContext()}finally{c.debugTool.onEndProcessingChildContext()}}else{o=n.getChildContext()}}if(o){!(typeof t.childContextTypes==="object")?false?m(false,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):r("107",this.getName()||"ReactCompositeComponent"):void 0;if(false){this._checkContextTypes(t.childContextTypes,o,"child context")}for(var i in o){!(i in t.childContextTypes)?false?m(false,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",i):r("108",this.getName()||"ReactCompositeComponent",i):void 0}return a({},e,o)}return e},_checkContextTypes:function(e,t,n){if(false){d(e,t,n,this.getName(),null,this._debugID)}},receiveComponent:function(e,t,n){var r=this._currentElement;var a=this._context;this._pendingElement=null;this.updateComponent(t,r,e,a,n)},performUpdateIfNecessary:function(e){if(this._pendingElement!=null){p.receiveComponent(this,this._pendingElement,e,this._context)}else if(this._pendingStateQueue!==null||this._pendingForceUpdate){this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)}else{this._updateBatchNumber=null}},updateComponent:function(e,t,n,a,o){var i=this._instance;!(i!=null)?false?m(false,"Attempted to update component `%s` that has already been unmounted (or failed to mount).",this.getName()||"ReactCompositeComponent"):r("136",this.getName()||"ReactCompositeComponent"):void 0;var s=false;var u;if(this._context===o){u=i.context}else{u=this._processContext(o);s=true}var l=t.props;var c=n.props;if(t!==n){s=true}if(s&&i.componentWillReceiveProps){if(false){S(function(){return i.componentWillReceiveProps(c,u)},this._debugID,"componentWillReceiveProps")}else{i.componentWillReceiveProps(c,u)}}var f=this._processPendingState(c,u);var p=true;if(!this._pendingForceUpdate){if(i.shouldComponentUpdate){if(false){p=S(function(){return i.shouldComponentUpdate(c,f,u)},this._debugID,"shouldComponentUpdate")}else{p=i.shouldComponentUpdate(c,f,u)}}else{if(this._compositeType===b.PureClass){p=!v(l,c)||!v(i.state,f)}}}if(false){process.env.NODE_ENV!=="production"?g(p!==undefined,"%s.shouldComponentUpdate(): Returned undefined instead of a "+"boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):void 0}this._updateBatchNumber=null;if(p){this._pendingForceUpdate=false;this._performComponentUpdate(n,c,f,u,e,o)}else{this._currentElement=n;this._context=o;i.props=c;i.state=f;i.context=u}},_processPendingState:function(e,t){var n=this._instance;var r=this._pendingStateQueue;var o=this._pendingReplaceState;this._pendingReplaceState=false;this._pendingStateQueue=null;if(!r){return n.state}if(o&&r.length===1){return r[0]}var i=a({},o?r[0]:n.state);for(var s=o?1:0;s<r.length;s++){var u=r[s];a(i,typeof u==="function"?u.call(n,i,e,t):u)}return i},_performComponentUpdate:function(e,t,n,r,a,o){var i=this;var s=this._instance;var u=Boolean(s.componentDidUpdate);var l;var c;var f;if(u){l=s.props;c=s.state;f=s.context}if(s.componentWillUpdate){if(false){S(function(){return s.componentWillUpdate(t,n,r)},this._debugID,"componentWillUpdate")}else{s.componentWillUpdate(t,n,r)}}this._currentElement=e;this._context=o;s.props=t;s.state=n;s.context=r;this._updateRenderedComponent(a,o);if(u){if(false){a.getReactMountReady().enqueue(function(){S(s.componentDidUpdate.bind(s,l,c,f),i._debugID,"componentDidUpdate")})}else{a.getReactMountReady().enqueue(s.componentDidUpdate.bind(s,l,c,f),s)}}},_updateRenderedComponent:function(e,t){var n=this._renderedComponent;var r=n._currentElement;var a=this._renderValidatedComponent();var o=0;if(false){o=this._debugID}if(y(r,a)){p.receiveComponent(n,a,e,this._processChildContext(t))}else{var i=p.getHostNode(n);p.unmountComponent(n,false);var s=f.getType(a);this._renderedNodeType=s;var u=this._instantiateReactComponent(a,s!==f.EMPTY);this._renderedComponent=u;var l=p.mountComponent(u,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),o);if(false){if(o!==0){var d=u._debugID!==0?[u._debugID]:[];c.debugTool.onSetChildren(o,d)}}this._replaceNodeWithMarkup(i,l,n)}},_replaceNodeWithMarkup:function(e,t,n){i.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance;var t;if(false){t=S(function(){return e.render()},this._debugID,"render")}else{t=e.render()}if(false){if(t===undefined&&e.render._isMockFunction){t=null}}return t},_renderValidatedComponent:function(){var e;if("production"!=="production"||this._compositeType!==b.StatelessFunctional){s.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{s.current=null}}else{e=this._renderValidatedComponentWithoutOwnerOrContext()}!(e===null||e===false||o.isValidElement(e))?false?m(false,"%s.render(): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):r("109",this.getName()||"ReactCompositeComponent"):void 0;return e},attachRef:function(e,t){var n=this.getPublicInstance();!(n!=null)?false?m(false,"Stateless function components cannot have refs."):r("110"):void 0;var a=t.getPublicInstance();if(false){var o=t&&t.getName?t.getName():"a component";process.env.NODE_ENV!=="production"?g(a!=null||t._compositeType!==b.StatelessFunctional,"Stateless function components cannot be given refs "+'(See ref "%s" in %s created by %s). '+"Attempts to access this ref will fail.",e,o,this.getName()):void 0}var i=n.refs===h?n.refs={}:n.refs;i[e]=a},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type;var t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;if(this._compositeType===b.StatelessFunctional){return null}return e},_instantiateReactComponent:null};e.exports=M},function(e,t,n){"use strict";var r=n(7);var a=n(217);var o=n(85);var i=n(22);var s=n(14);var u=n(230);var l=n(246);var c=n(90);var f=n(253);var p=n(2);a.inject();var d={findDOMNode:l,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:f};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject==="function"){__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){if(e._renderedComponent){e=c(e)}if(e){return r.getNodeFromInstance(e)}else{return null}}},Mount:o,Reconciler:i})}if(false){var h=require("fbjs/lib/ExecutionEnvironment");if(h.canUseDOM&&window.top===window.self){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"){if(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1){var m=window.location.protocol.indexOf("http")===-1&&navigator.userAgent.indexOf("Firefox")===-1;console.debug("Download the React DevTools "+(m?"and use an HTTP server (instead of a file: URL) ":"")+"for a better development experience: "+"https://fb.me/react-devtools")}}var v=function e(){};process.env.NODE_ENV!=="production"?p((v.name||v.toString()).indexOf("testFn")!==-1,"It looks like you're using a minified copy of the development build "+"of React. When deploying React apps to production, make sure to use "+"the production build which skips development warnings and is faster. "+"See https://fb.me/react-minification for more details."):void 0;var y=document.documentMode&&document.documentMode<8;process.env.NODE_ENV!=="production"?p(!y,"Internet Explorer is running in compatibility mode; please add the "+"following tag to your HTML to prevent this from happening: "+'<meta http-equiv="X-UA-Compatible" content="IE=edge" />'):void 0;var g=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.trim];for(var b=0;b<g.length;b++){if(!g[b]){process.env.NODE_ENV!=="production"?p(false,"One or more ES5 shims expected by React are not available: "+"https://fb.me/react-warning-polyfills"):void 0;break}}}}if(false){var _=require("./ReactInstrumentation");var x=require("./ReactDOMUnknownPropertyHook");var w=require("./ReactDOMNullInputValuePropHook");var E=require("./ReactDOMInvalidARIAHook");_.debugTool.addHook(x);_.debugTool.addHook(w);_.debugTool.addHook(E)}e.exports=d},function(e,t,n){"use strict";var r=n(3),a=n(5);var o=n(192);var i=n(194);var s=n(20);var u=n(44);var l=n(21);var c=n(78);var f=n(30);var p=n(45);var d=n(36);var h=n(79);var m=n(7);var v=n(210);var y=n(211);var g=n(80);var b=n(214);var _=n(13);var x=n(223);var w=n(228);var E=n(11);var S=n(39);var T=n(1);var M=n(56);var C=n(41);var k=n(58);var I=n(2);var P=h;var D=f.deleteListener;var N=m.getNodeFromInstance;var A=d.listenTo;var O=p.registrationNameModules;var R={string:true,number:true};var j="style";var L="__html";var F={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null};var z=11;function U(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n){return" This DOM node was rendered by `"+n+"`."}}}return""}function B(e){if(typeof e==="object"){if(Array.isArray(e)){return"["+e.map(B).join(", ")+"]"}else{var t=[];for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var r=/^[a-z$_][\w$_]*$/i.test(n)?n:JSON.stringify(n);t.push(r+": "+B(e[n]))}}return"{"+t.join(", ")+"}"}}else if(typeof e==="string"){return JSON.stringify(e)}else if(typeof e==="function"){return"[function object]"}return String(e)}var q={};function V(e,t,n){if(e==null||t==null){return}if(C(e,t)){return}var r=n._tag;var a=n._currentElement._owner;var o;if(a){o=a.getName()}var i=o+"|"+r;if(q.hasOwnProperty(i)){return}q[i]=true;false?I(false,"`%s` was passed a style object that has previously been mutated. "+"Mutating `style` is deprecated. Consider cloning it beforehand. Check "+"the `render` %s. Previous style: %s. Mutated style: %s.",r,a?"of `"+o+"`":"using <"+r+">",B(e),B(t)):void 0}function $(e,t){if(!t){return}if(ne[e._tag]){!(t.children==null&&t.dangerouslySetInnerHTML==null)?false?T(false,"%s is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.%s",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):r("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):void 0}if(t.dangerouslySetInnerHTML!=null){!(t.children==null)?false?T(false,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):r("60"):void 0;!(typeof t.dangerouslySetInnerHTML==="object"&&L in t.dangerouslySetInnerHTML)?false?T(false,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information."):r("61"):void 0}if(false){process.env.NODE_ENV!=="production"?I(t.innerHTML==null,"Directly setting property `innerHTML` is not permitted. "+"For more information, lookup documentation on `dangerouslySetInnerHTML`."):void 0;process.env.NODE_ENV!=="production"?I(t.suppressContentEditableWarning||!t.contentEditable||t.children==null,"A component is `contentEditable` and contains `children` managed by "+"React. It is now your responsibility to guarantee that none of "+"those nodes are unexpectedly modified or duplicated. This is "+"probably not intentional."):void 0;process.env.NODE_ENV!=="production"?I(t.onFocusIn==null&&t.onFocusOut==null,"React uses onFocus and onBlur instead of onFocusIn and onFocusOut. "+"All React events are normalized to bubble, so onFocusIn and onFocusOut "+"are not needed/supported by React."):void 0}!(t.style==null||typeof t.style==="object")?false?T(false,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",U(e)):r("62",U(e)):void 0}function H(e,t,n,r){if(r instanceof w){return}if(false){process.env.NODE_ENV!=="production"?I(t!=="onScroll"||M("scroll",true),"This browser doesn't support the `onScroll` event"):void 0}var a=e._hostContainerInfo;var o=a._node&&a._node.nodeType===z;var i=o?a._node:a._ownerDocument;A(t,i);r.getReactMountReady().enqueue(W,{inst:e,registrationName:t,listener:n})}function W(){var e=this;f.putListener(e.inst,e.registrationName,e.listener)}function G(){var e=this;v.postMountWrapper(e)}function Y(){var e=this;b.postMountWrapper(e)}function Z(){var e=this;y.postMountWrapper(e)}var X=E;if(false){X=function(e){var t=this._contentDebugID!=null;var n=this._debugID;var r=-n;if(e==null){if(t){_.debugTool.onUnmountComponent(this._contentDebugID)}this._contentDebugID=null;return}k(null,String(e),this,this._ancestorInfo);this._contentDebugID=r;if(t){_.debugTool.onBeforeUpdateComponent(r,e);_.debugTool.onUpdateComponent(r)}else{_.debugTool.onBeforeMountComponent(r,e,n);_.debugTool.onMountComponent(r);_.debugTool.onSetChildren(n,[r])}}}var K={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"};function J(){var e=this;!e._rootNodeID?false?T(false,"Must be mounted to trap events"):r("63"):void 0;var t=N(e);!t?false?T(false,"trapBubbledEvent(...): Requires node to be rendered."):r("64"):void 0;switch(e._tag){case"iframe":case"object":e._wrapperState.listeners=[d.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in K){if(K.hasOwnProperty(n)){e._wrapperState.listeners.push(d.trapBubbledEvent(n,K[n],t))}}break;case"source":e._wrapperState.listeners=[d.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[d.trapBubbledEvent("topError","error",t),d.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[d.trapBubbledEvent("topReset","reset",t),d.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[d.trapBubbledEvent("topInvalid","invalid",t)];break}}function Q(){g.postUpdateWrapper(this)}var ee={area:true,base:true,br:true,col:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true};var te={listing:true,pre:true,textarea:true};var ne=a({menuitem:true},ee);var re=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/;var ae={};var oe={}.hasOwnProperty;function ie(e){if(!oe.call(ae,e)){!re.test(e)?false?T(false,"Invalid tag: %s",e):r("65",e):void 0;ae[e]=true}}function se(e,t){return e.indexOf("-")>=0||t.is!=null}var ue=1;function le(e){var t=e.type;ie(t);this._currentElement=e;this._tag=t.toLowerCase();this._namespaceURI=null;this._renderedChildren=null;this._previousStyle=null;this._previousStyleCopy=null;this._hostNode=null;this._hostParent=null;this._rootNodeID=0;this._domID=0;this._hostContainerInfo=null;this._wrapperState=null;this._topLevelWrapper=null;this._flags=0;if(false){this._ancestorInfo=null;X.call(this,null)}}le.displayName="ReactDOMComponent";le.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=ue++;this._domID=n._idCounter++;this._hostParent=t;this._hostContainerInfo=n;var a=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null};e.getReactMountReady().enqueue(J,this);break;case"input":v.mountWrapper(this,a,t);a=v.getHostProps(this,a);e.getReactMountReady().enqueue(J,this);break;case"option":y.mountWrapper(this,a,t);a=y.getHostProps(this,a);break;case"select":g.mountWrapper(this,a,t);a=g.getHostProps(this,a);e.getReactMountReady().enqueue(J,this);break;case"textarea":b.mountWrapper(this,a,t);a=b.getHostProps(this,a);e.getReactMountReady().enqueue(J,this);break}$(this,a);var i;var l;if(t!=null){i=t._namespaceURI;l=t._tag}else if(n._tag){i=n._namespaceURI;l=n._tag}if(i==null||i===u.svg&&l==="foreignobject"){i=u.html}if(i===u.html){if(this._tag==="svg"){i=u.svg}else if(this._tag==="math"){i=u.mathml}}this._namespaceURI=i;if(false){var f;if(t!=null){f=t._ancestorInfo}else if(n._tag){f=n._ancestorInfo}if(f){k(this._tag,null,this,f)}this._ancestorInfo=k.updatedAncestorInfo(f,this._tag,this)}var p;if(e.useCreateElement){var d=n._ownerDocument;var h;if(i===u.html){if(this._tag==="script"){var _=d.createElement("div");var x=this._currentElement.type;_.innerHTML="<"+x+"></"+x+">";h=_.removeChild(_.firstChild)}else if(a.is){h=d.createElement(this._currentElement.type,a.is)}else{h=d.createElement(this._currentElement.type)}}else{h=d.createElementNS(i,this._currentElement.type)}m.precacheNode(this,h);this._flags|=P.hasCachedChildNodes;if(!this._hostParent){c.setAttributeForRoot(h)}this._updateDOMProperties(null,a,e);var w=s(h);this._createInitialChildren(e,a,r,w);p=w}else{var E=this._createOpenTagMarkupAndPutListeners(e,a);var S=this._createContentMarkup(e,a,r);if(!S&&ee[this._tag]){p=E+"/>"}else{p=E+">"+S+"</"+this._currentElement.type+">"}}switch(this._tag){case"input":e.getReactMountReady().enqueue(G,this);if(a.autoFocus){e.getReactMountReady().enqueue(o.focusDOMComponent,this)}break;case"textarea":e.getReactMountReady().enqueue(Y,this);if(a.autoFocus){e.getReactMountReady().enqueue(o.focusDOMComponent,this)}break;case"select":if(a.autoFocus){e.getReactMountReady().enqueue(o.focusDOMComponent,this)}break;case"button":if(a.autoFocus){e.getReactMountReady().enqueue(o.focusDOMComponent,this)}break;case"option":e.getReactMountReady().enqueue(Z,this);break}return p},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t){if(!t.hasOwnProperty(r)){continue}var o=t[r];if(o==null){continue}if(O.hasOwnProperty(r)){if(o){H(this,r,o,e)}}else{if(r===j){if(o){if(false){this._previousStyle=o}o=this._previousStyleCopy=a({},t.style)}o=i.createMarkupForStyles(o,this)}var s=null;if(this._tag!=null&&se(this._tag,t)){if(!F.hasOwnProperty(r)){s=c.createMarkupForCustomAttribute(r,o)}}else{s=c.createMarkupForProperty(r,o)}if(s){n+=" "+s}}}if(e.renderToStaticMarkup){return n}if(!this._hostParent){n+=" "+c.createMarkupForRoot()}n+=" "+c.createMarkupForID(this._domID);return n},_createContentMarkup:function(e,t,n){var r="";var a=t.dangerouslySetInnerHTML;if(a!=null){if(a.__html!=null){r=a.__html}}else{var o=R[typeof t.children]?t.children:null;var i=o!=null?null:t.children;if(o!=null){r=S(o);if(false){X.call(this,o)}}else if(i!=null){var s=this.mountChildren(i,e,n);r=s.join("")}}if(te[this._tag]&&r.charAt(0)==="\n"){return"\n"+r}else{return r}},_createInitialChildren:function(e,t,n,r){var a=t.dangerouslySetInnerHTML;if(a!=null){if(a.__html!=null){s.queueHTML(r,a.__html)}}else{var o=R[typeof t.children]?t.children:null;var i=o!=null?null:t.children;if(o!=null){if(o!==""){if(false){X.call(this,o)}s.queueText(r,o)}}else if(i!=null){var u=this.mountChildren(i,e,n);for(var l=0;l<u.length;l++){s.queueChild(r,u[l])}}}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e;this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var a=t.props;var o=this._currentElement.props;switch(this._tag){case"input":a=v.getHostProps(this,a);o=v.getHostProps(this,o);break;case"option":a=y.getHostProps(this,a);o=y.getHostProps(this,o);break;case"select":a=g.getHostProps(this,a);o=g.getHostProps(this,o);break;case"textarea":a=b.getHostProps(this,a);o=b.getHostProps(this,o);break}$(this,o);this._updateDOMProperties(a,o,e);this._updateDOMChildren(a,o,e,r);switch(this._tag){case"input":v.updateWrapper(this);break;case"textarea":b.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(Q,this);break}},_updateDOMProperties:function(e,t,n){var r;var o;var s;for(r in e){if(t.hasOwnProperty(r)||!e.hasOwnProperty(r)||e[r]==null){continue}if(r===j){var u=this._previousStyleCopy;for(o in u){if(u.hasOwnProperty(o)){s=s||{};s[o]=""}}this._previousStyleCopy=null}else if(O.hasOwnProperty(r)){if(e[r]){D(this,r)}}else if(se(this._tag,e)){if(!F.hasOwnProperty(r)){c.deleteValueForAttribute(N(this),r)}}else if(l.properties[r]||l.isCustomAttribute(r)){c.deleteValueForProperty(N(this),r)}}for(r in t){var f=t[r];var p=r===j?this._previousStyleCopy:e!=null?e[r]:undefined;if(!t.hasOwnProperty(r)||f===p||f==null&&p==null){continue}if(r===j){if(f){if(false){V(this._previousStyleCopy,this._previousStyle,this);this._previousStyle=f}f=this._previousStyleCopy=a({},f)}else{this._previousStyleCopy=null}if(p){for(o in p){if(p.hasOwnProperty(o)&&(!f||!f.hasOwnProperty(o))){s=s||{};s[o]=""}}for(o in f){if(f.hasOwnProperty(o)&&p[o]!==f[o]){s=s||{};s[o]=f[o]}}}else{s=f}}else if(O.hasOwnProperty(r)){if(f){H(this,r,f,n)}else if(p){D(this,r)}}else if(se(this._tag,t)){if(!F.hasOwnProperty(r)){c.setValueForAttribute(N(this),r,f)}}else if(l.properties[r]||l.isCustomAttribute(r)){var d=N(this);if(f!=null){c.setValueForProperty(d,r,f)}else{c.deleteValueForProperty(d,r)}}}if(s){i.setValueForStyles(N(this),s,this)}},_updateDOMChildren:function(e,t,n,r){var a=R[typeof e.children]?e.children:null;var o=R[typeof t.children]?t.children:null;var i=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html;var s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html;var u=a!=null?null:e.children;var l=o!=null?null:t.children;var c=a!=null||i!=null;var f=o!=null||s!=null;if(u!=null&&l==null){this.updateChildren(null,n,r)}else if(c&&!f){this.updateTextContent("");if(false){_.debugTool.onSetChildren(this._debugID,[])}}if(o!=null){if(a!==o){this.updateTextContent(""+o);if(false){X.call(this,o)}}}else if(s!=null){if(i!==s){this.updateMarkup(""+s)}if(false){_.debugTool.onSetChildren(this._debugID,[])}}else if(l!=null){if(false){X.call(this,null)}this.updateChildren(l,n,r)}},getHostNode:function(){return N(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t){for(var n=0;n<t.length;n++){t[n].remove()}}break;case"html":case"head":case"body":true?false?T(false,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag):r("66",this._tag):void 0;break}this.unmountChildren(e);m.uncacheNode(this);f.deleteAllListeners(this);this._rootNodeID=0;this._domID=0;this._wrapperState=null;if(false){X.call(this,null)}},getPublicInstance:function(){return N(this)}};a(le.prototype,le.Mixin,x.Mixin);e.exports=le},function(e,t,n){"use strict";var r=n(58);var a=9;function o(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===a?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};if(false){n._ancestorInfo=t?r.updatedAncestorInfo(null,n._tag,null):null}return n}e.exports=o},function(e,t,n){"use strict";var r=n(5);var a=n(20);var o=n(7);var i=function(e){this._currentElement=null;this._hostNode=null;this._hostParent=null;this._hostContainerInfo=null;this._domID=0};r(i.prototype,{mountComponent:function(e,t,n,r){var i=n._idCounter++;this._domID=i;this._hostParent=t;this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var u=n._ownerDocument;var l=u.createComment(s);o.precacheNode(this,l);return a(l)}else{if(e.renderToStaticMarkup){return""}return"\x3c!--"+s+"--\x3e"}},receiveComponent:function(){},getHostNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}});e.exports=i},function(e,t,n){"use strict";var r={useCreateElement:true,useFiber:false};e.exports=r},function(e,t,n){"use strict";var r=n(43);var a=n(7);var o={dangerouslyProcessChildrenUpdates:function(e,t){var n=a.getNodeFromInstance(e);r.processUpdates(n,t)}};e.exports=o},function(e,t,n){"use strict";var r=n(3),a=n(5);var o=n(78);var i=n(48);var s=n(7);var u=n(14);var l=n(1);var c=n(2);var f=false;var p=false;var d=false;var h=false;var m=false;var v=false;function y(){if(this._rootNodeID){b.updateWrapper(this)}}function g(e){var t=e.type==="checkbox"||e.type==="radio";return t?e.checked!=null:e.value!=null}var b={getHostProps:function(e,t){var n=i.getValue(t);var r=i.getChecked(t);var o=a({type:undefined,step:undefined,min:undefined,max:undefined},t,{defaultChecked:undefined,defaultValue:undefined,value:n!=null?n:e._wrapperState.initialValue,checked:r!=null?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,t){if(false){i.checkPropTypes("input",t,e._currentElement._owner);var n=e._currentElement._owner;if(t.valueLink!==undefined&&!f){process.env.NODE_ENV!=="production"?c(false,"`valueLink` prop on `input` is deprecated; set `value` and `onChange` instead."):void 0;f=true}if(t.checkedLink!==undefined&&!p){process.env.NODE_ENV!=="production"?c(false,"`checkedLink` prop on `input` is deprecated; set `value` and `onChange` instead."):void 0;p=true}if(t.checked!==undefined&&t.defaultChecked!==undefined&&!h){process.env.NODE_ENV!=="production"?c(false,"%s contains an input of type %s with both checked and defaultChecked props. "+"Input elements must be either controlled or uncontrolled "+"(specify either the checked prop, or the defaultChecked prop, but not "+"both). Decide between using a controlled or uncontrolled input "+"element and remove one of these props. More info: "+"https://fb.me/react-controlled-components",n&&n.getName()||"A component",t.type):void 0;h=true}if(t.value!==undefined&&t.defaultValue!==undefined&&!d){process.env.NODE_ENV!=="production"?c(false,"%s contains an input of type %s with both value and defaultValue props. "+"Input elements must be either controlled or uncontrolled "+"(specify either the value prop, or the defaultValue prop, but not "+"both). Decide between using a controlled or uncontrolled input "+"element and remove one of these props. More info: "+"https://fb.me/react-controlled-components",n&&n.getName()||"A component",t.type):void 0;d=true}}var r=t.defaultValue;e._wrapperState={initialChecked:t.checked!=null?t.checked:t.defaultChecked,initialValue:t.value!=null?t.value:r,listeners:null,onChange:_.bind(e),controlled:g(t)}},updateWrapper:function(e){var t=e._currentElement.props;if(false){var n=g(t);var r=e._currentElement._owner;if(!e._wrapperState.controlled&&n&&!v){process.env.NODE_ENV!=="production"?c(false,"%s is changing an uncontrolled input of type %s to be controlled. "+"Input elements should not switch from uncontrolled to controlled (or vice versa). "+"Decide between using a controlled or uncontrolled input "+"element for the lifetime of the component. More info: https://fb.me/react-controlled-components",r&&r.getName()||"A component",t.type):void 0;v=true}if(e._wrapperState.controlled&&!n&&!m){process.env.NODE_ENV!=="production"?c(false,"%s is changing a controlled input of type %s to be uncontrolled. "+"Input elements should not switch from controlled to uncontrolled (or vice versa). "+"Decide between using a controlled or uncontrolled input "+"element for the lifetime of the component. More info: https://fb.me/react-controlled-components",r&&r.getName()||"A component",t.type):void 0;m=true}}var a=t.checked;if(a!=null){o.setValueForProperty(s.getNodeFromInstance(e),"checked",a||false)}var u=s.getNodeFromInstance(e);var l=i.getValue(t);if(l!=null){if(l===0&&u.value===""){u.value="0"}else if(t.type==="number"){var f=parseFloat(u.value,10)||0;if(l!=f){u.value=""+l}}else if(l!=u.value){u.value=""+l}}else{if(t.value==null&&t.defaultValue!=null){if(u.defaultValue!==""+t.defaultValue){u.defaultValue=""+t.defaultValue}}if(t.checked==null&&t.defaultChecked!=null){u.defaultChecked=!!t.defaultChecked}}},postMountWrapper:function(e){var t=e._currentElement.props;var n=s.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="";n.value=n.defaultValue;break;default:n.value=n.value;break}var r=n.name;if(r!==""){n.name=""}n.defaultChecked=!n.defaultChecked;n.defaultChecked=!n.defaultChecked;if(r!==""){n.name=r}}};function _(e){var t=this._currentElement.props;var n=i.executeOnChange(t,e);u.asap(y,this);var a=t.name;if(t.type==="radio"&&a!=null){var o=s.getNodeFromInstance(this);var c=o;while(c.parentNode){c=c.parentNode}var f=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]');for(var p=0;p<f.length;p++){var d=f[p];if(d===o||d.form!==o.form){continue}var h=s.getInstanceFromNode(d);!h?false?l(false,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):r("90"):void 0;u.asap(y,h)}}return n}e.exports=b},function(e,t,n){"use strict";var r=n(5);var a=n(23);var o=n(7);var i=n(80);var s=n(2);var u=false;function l(e){var t="";a.Children.forEach(e,function(e){if(e==null){return}if(typeof e==="string"||typeof e==="number"){t+=e}else if(!u){u=true;false?s(false,"Only strings and numbers are supported as <option> children."):void 0}});return t}var c={mountWrapper:function(e,t,n){if(false){process.env.NODE_ENV!=="production"?s(t.selected==null,"Use the `defaultValue` or `value` props on <select> instead of "+"setting `selected` on <option>."):void 0}var r=null;if(n!=null){var a=n;if(a._tag==="optgroup"){a=a._hostParent}if(a!=null&&a._tag==="select"){r=i.getSelectValueContext(a)}}var o=null;if(r!=null){var u;if(t.value!=null){u=t.value+""}else{u=l(t.children)}o=false;if(Array.isArray(r)){for(var c=0;c<r.length;c++){if(""+r[c]===u){o=true;break}}}else{o=""+r===u}}e._wrapperState={selected:o}},postMountWrapper:function(e){var t=e._currentElement.props;if(t.value!=null){var n=o.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getHostProps:function(e,t){var n=r({selected:undefined,children:undefined},t);if(e._wrapperState.selected!=null){n.selected=e._wrapperState.selected}var a=l(t.children);if(a){n.children=a}return n}};e.exports=c},function(e,t,n){"use strict";var r=n(10);var a=n(250);var o=n(91);function i(e,t,n,r){return e===n&&t===r}function s(e){var t=document.selection;var n=t.createRange();var r=n.text.length;var a=n.duplicate();a.moveToElementText(e);a.setEndPoint("EndToStart",n);var o=a.text.length;var i=o+r;return{start:o,end:i}}function u(e){var t=window.getSelection&&window.getSelection();if(!t||t.rangeCount===0){return null}var n=t.anchorNode;var r=t.anchorOffset;var a=t.focusNode;var o=t.focusOffset;var s=t.getRangeAt(0);try{s.startContainer.nodeType;s.endContainer.nodeType}catch(e){return null}var u=i(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset);var l=u?0:s.toString().length;var c=s.cloneRange();c.selectNodeContents(e);c.setEnd(s.startContainer,s.startOffset);var f=i(c.startContainer,c.startOffset,c.endContainer,c.endOffset);var p=f?0:c.toString().length;var d=p+l;var h=document.createRange();h.setStart(n,r);h.setEnd(a,o);var m=h.collapsed;return{start:m?d:p,end:m?p:d}}function l(e,t){var n=document.selection.createRange().duplicate();var r,a;if(t.end===undefined){r=t.start;a=r}else if(t.start>t.end){r=t.end;a=t.start}else{r=t.start;a=t.end}n.moveToElementText(e);n.moveStart("character",r);n.setEndPoint("EndToStart",n);n.moveEnd("character",a-r);n.select()}function c(e,t){if(!window.getSelection){return}var n=window.getSelection();var r=e[o()].length;var i=Math.min(t.start,r);var s=t.end===undefined?i:Math.min(t.end,r);if(!n.extend&&i>s){var u=s;s=i;i=u}var l=a(e,i);var c=a(e,s);if(l&&c){var f=document.createRange();f.setStart(l.node,l.offset);n.removeAllRanges();if(i>s){n.addRange(f);n.extend(c.node,c.offset)}else{f.setEnd(c.node,c.offset);n.addRange(f)}}}var f=r.canUseDOM&&"selection"in document&&!("getSelection"in window);var p={getOffsets:f?s:u,setOffsets:f?l:c};e.exports=p},function(e,t,n){"use strict";var r=n(3),a=n(5);var o=n(43);var i=n(20);var s=n(7);var u=n(39);var l=n(1);var c=n(58);var f=function(e){this._currentElement=e;this._stringText=""+e;this._hostNode=null;this._hostParent=null;this._domID=0;this._mountIndex=0;this._closingComment=null;this._commentNodes=null};a(f.prototype,{mountComponent:function(e,t,n,r){if(false){var a;if(t!=null){a=t._ancestorInfo}else if(n!=null){a=n._ancestorInfo}if(a){c(null,this._stringText,this,a)}}var o=n._idCounter++;var l=" react-text: "+o+" ";var f=" /react-text ";this._domID=o;this._hostParent=t;if(e.useCreateElement){var p=n._ownerDocument;var d=p.createComment(l);var h=p.createComment(f);var m=i(p.createDocumentFragment());i.queueChild(m,i(d));if(this._stringText){i.queueChild(m,i(p.createTextNode(this._stringText)))}i.queueChild(m,i(h));s.precacheNode(this,d);this._closingComment=h;return m}else{var v=u(this._stringText);if(e.renderToStaticMarkup){return v}return"\x3c!--"+l+"--\x3e"+v+"\x3c!--"+f+"--\x3e"}},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();o.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e){return e}if(!this._closingComment){var t=s.getNodeFromInstance(this);var n=t.nextSibling;while(true){!(n!=null)?false?l(false,"Missing closing comment for text component %s",this._domID):r("67",this._domID):void 0;if(n.nodeType===8&&n.nodeValue===" /react-text "){this._closingComment=n;break}n=n.nextSibling}}e=[this._hostNode,this._closingComment];this._commentNodes=e;return e},unmountComponent:function(){this._closingComment=null;this._commentNodes=null;s.uncacheNode(this)}});e.exports=f},function(e,t,n){"use strict";var r=n(3),a=n(5);var o=n(48);var i=n(7);var s=n(14);var u=n(1);var l=n(2);var c=false;var f=false;function p(){if(this._rootNodeID){d.updateWrapper(this)}}var d={getHostProps:function(e,t){!(t.dangerouslySetInnerHTML==null)?false?u(false,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):r("91"):void 0;var n=a({},t,{value:undefined,defaultValue:undefined,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){if(false){o.checkPropTypes("textarea",t,e._currentElement._owner);if(t.valueLink!==undefined&&!c){process.env.NODE_ENV!=="production"?l(false,"`valueLink` prop on `textarea` is deprecated; set `value` and `onChange` instead."):void 0;c=true}if(t.value!==undefined&&t.defaultValue!==undefined&&!f){process.env.NODE_ENV!=="production"?l(false,"Textarea elements must be either controlled or uncontrolled "+"(specify either the value prop, or the defaultValue prop, but not "+"both). Decide between using a controlled or uncontrolled textarea "+"and remove one of these props. More info: "+"https://fb.me/react-controlled-components"):void 0;f=true}}var n=o.getValue(t);var a=n;if(n==null){var i=t.defaultValue;var s=t.children;if(s!=null){if(false){process.env.NODE_ENV!=="production"?l(false,"Use the `defaultValue` or `value` props instead of setting "+"children on <textarea>."):void 0}!(i==null)?false?u(false,"If you supply `defaultValue` on a <textarea>, do not pass children."):r("92"):void 0;if(Array.isArray(s)){!(s.length<=1)?false?u(false,"<textarea> can only have at most one child."):r("93"):void 0;s=s[0]}i=""+s}if(i==null){i=""}a=i}e._wrapperState={initialValue:""+a,listeners:null,onChange:h.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props;var n=i.getNodeFromInstance(e);var r=o.getValue(t);if(r!=null){var a=""+r;if(a!==n.value){n.value=a}if(t.defaultValue==null){n.defaultValue=a}}if(t.defaultValue!=null){n.defaultValue=t.defaultValue}},postMountWrapper:function(e){var t=i.getNodeFromInstance(e);var n=t.textContent;if(n===e._wrapperState.initialValue){t.value=n}}};function h(e){var t=this._currentElement.props;var n=o.executeOnChange(t,e);s.asap(p,this);return n}e.exports=d},function(e,t,n){"use strict";var r=n(3);var a=n(1);function o(e,t){!("_hostNode"in e)?false?a(false,"getNodeFromInstance: Invalid argument."):r("33"):void 0;!("_hostNode"in t)?false?a(false,"getNodeFromInstance: Invalid argument."):r("33"):void 0;var n=0;for(var o=e;o;o=o._hostParent){n++}var i=0;for(var s=t;s;s=s._hostParent){i++}while(n-i>0){e=e._hostParent;n--}while(i-n>0){t=t._hostParent;i--}var u=n;while(u--){if(e===t){return e}e=e._hostParent;t=t._hostParent}return null}function i(e,t){!("_hostNode"in e)?false?a(false,"isAncestor: Invalid argument."):r("35"):void 0;!("_hostNode"in t)?false?a(false,"isAncestor: Invalid argument."):r("35"):void 0;while(t){if(t===e){return true}t=t._hostParent}return false}function s(e){!("_hostNode"in e)?false?a(false,"getParentInstance: Invalid argument."):r("36"):void 0;return e._hostParent}function u(e,t,n){var r=[];while(e){r.push(e);e=e._hostParent}var a;for(a=r.length;a-- >0;){t(r[a],"captured",n)}for(a=0;a<r.length;a++){t(r[a],"bubbled",n)}}function l(e,t,n,r,a){var i=e&&t?o(e,t):null;var s=[];while(e&&e!==i){s.push(e);e=e._hostParent}var u=[];while(t&&t!==i){u.push(t);t=t._hostParent}var l;for(l=0;l<s.length;l++){n(s[l],"bubbled",r)}for(l=u.length;l-- >0;){n(u[l],"captured",a)}}e.exports={isAncestor:i,getLowestCommonAncestor:o,getParentInstance:s,traverseTwoPhase:u,traverseEnterLeave:l}},function(e,t,n){"use strict";var r=n(5);var a=n(14);var o=n(38);var i=n(11);var s={initialize:i,close:function(){p.isBatchingUpdates=false}};var u={initialize:i,close:a.flushBatchedUpdates.bind(a)};var l=[u,s];function c(){this.reinitializeTransaction()}r(c.prototype,o,{getTransactionWrappers:function(){return l}});var f=new c;var p={isBatchingUpdates:false,batchedUpdates:function(e,t,n,r,a,o){var i=p.isBatchingUpdates;p.isBatchingUpdates=true;if(i){return e(t,n,r,a,o)}else{return f.perform(e,null,t,n,r,a,o)}}};e.exports=p},function(e,t,n){"use strict";var r=n(191);var a=n(193);var o=n(195);var i=n(197);var s=n(198);var u=n(200);var l=n(202);var c=n(205);var f=n(7);var p=n(207);var d=n(215);var h=n(213);var m=n(216);var v=n(220);var y=n(221);var g=n(226);var b=n(231);var _=n(232);var x=n(233);var w=false;function E(){if(w){return}w=true;y.EventEmitter.injectReactEventListener(v);y.EventPluginHub.injectEventPluginOrder(i);y.EventPluginUtils.injectComponentTree(f);y.EventPluginUtils.injectTreeTraversal(d);y.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:x,EnterLeaveEventPlugin:s,ChangeEventPlugin:o,SelectEventPlugin:_,BeforeInputEventPlugin:a});y.HostComponent.injectGenericComponentClass(c);y.HostComponent.injectTextComponentClass(h);y.DOMProperty.injectDOMPropertyConfig(r);y.DOMProperty.injectDOMPropertyConfig(u);y.DOMProperty.injectDOMPropertyConfig(b);y.EmptyComponent.injectEmptyComponentFactory(function(e){return new p(e)});y.Updates.injectReconcileTransaction(g);y.Updates.injectBatchingStrategy(m);y.Component.injectEnvironment(l)}e.exports={inject:E}},function(e,t,n){"use strict";var r=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;e.exports=r},function(e,t,n){"use strict";var r=n(30);function a(e){r.enqueueEvents(e);r.processEventQueue(false)}var o={handleTopLevel:function(e,t,n,o){var i=r.extractEvents(e,t,n,o);a(i)}};e.exports=o},function(e,t,n){"use strict";var r=n(5);var a=n(68);var o=n(10);var i=n(19);var s=n(7);var u=n(14);var l=n(55);var c=n(156);function f(e){while(e._hostParent){e=e._hostParent}var t=s.getNodeFromInstance(e);var n=t.parentNode;return s.getClosestInstanceFromNode(n)}function p(e,t){this.topLevelType=e;this.nativeEvent=t;this.ancestors=[]}r(p.prototype,{destructor:function(){this.topLevelType=null;this.nativeEvent=null;this.ancestors.length=0}});i.addPoolingTo(p,i.twoArgumentPooler);function d(e){var t=l(e.nativeEvent);var n=s.getClosestInstanceFromNode(t);var r=n;do{e.ancestors.push(r);r=r&&f(r)}while(r);for(var a=0;a<e.ancestors.length;a++){n=e.ancestors[a];m._handleTopLevel(e.topLevelType,n,e.nativeEvent,l(e.nativeEvent))}}function h(e){var t=c(window);e(t)}var m={_enabled:true,_handleTopLevel:null,WINDOW_HANDLE:o.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){if(!n){return null}return a.listen(n,t,m.dispatchEvent.bind(null,e))},trapCapturedEvent:function(e,t,n){if(!n){return null}return a.capture(n,t,m.dispatchEvent.bind(null,e))},monitorScrollValue:function(e){var t=h.bind(null,e);a.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(!m._enabled){return}var n=p.getPooled(e,t);try{u.batchedUpdates(d,n)}finally{p.release(n)}}};e.exports=m},function(e,t,n){"use strict";var r=n(21);var a=n(30);var o=n(46);var i=n(49);var s=n(81);var u=n(36);var l=n(83);var c=n(14);var f={Component:i.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:a.injection,EventPluginUtils:o.injection,EventEmitter:u.injection,HostComponent:l.injection,Updates:c.injection};e.exports=f},function(e,t,n){"use strict";var r=n(244);var a=/\/?>/;var o=/^<\!\-\-/;var i={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);if(o.test(e)){return e}else{return e.replace(a," "+i.CHECKSUM_ATTR_NAME+'="'+t+'"$&')}},canReuseMarkup:function(e,t){var n=t.getAttribute(i.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var a=r(e);return a===n}};e.exports=i},function(e,t,n){"use strict";var r=n(3);var a=n(49);var o=n(32);var i=n(13);var s=n(17);var u=n(22);var l=n(201);var c=n(11);var f=n(247);var p=n(1);function d(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function h(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:u.getHostNode(e),toIndex:n,afterNode:t}}function m(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function v(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function y(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function g(e,t){if(t){e=e||[];e.push(t)}return e}function b(e,t){a.processChildrenUpdates(e,t)}var _=c;if(false){var x=function(e){if(!e._debugID){var t;if(t=o.get(e)){e=t}}return e._debugID};_=function(e){var t=x(this);if(t!==0){i.debugTool.onSetChildren(t,e?Object.keys(e).map(function(t){return e[t]._debugID}):[])}}}var w={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){if(false){var r=x(this);if(this._currentElement){try{s.current=this._currentElement._owner;return l.instantiateChildren(e,t,n,r)}finally{s.current=null}}}return l.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,a,o){var i;var u=0;if(false){u=x(this);if(this._currentElement){try{s.current=this._currentElement._owner;i=f(t,u)}finally{s.current=null}l.updateChildren(e,i,n,r,a,this,this._hostContainerInfo,o,u);return i}}i=f(t,u);l.updateChildren(e,i,n,r,a,this,this._hostContainerInfo,o,u);return i},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var a=[];var o=0;for(var i in r){if(r.hasOwnProperty(i)){var s=r[i];var l=0;if(false){l=x(this)}var c=u.mountComponent(s,t,this,this._hostContainerInfo,n,l);s._mountIndex=o++;a.push(c)}}if(false){_.call(this,r)}return a},updateTextContent:function(e){var t=this._renderedChildren;l.unmountChildren(t,false);for(var n in t){if(t.hasOwnProperty(n)){true?false?p(false,"updateTextContent called on non-empty component."):r("118"):void 0}}var a=[y(e)];b(this,a)},updateMarkup:function(e){var t=this._renderedChildren;l.unmountChildren(t,false);for(var n in t){if(t.hasOwnProperty(n)){true?false?p(false,"updateTextContent called on non-empty component."):r("118"):void 0}}var a=[v(e)];b(this,a)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren;var a={};var o=[];var i=this._reconcilerUpdateChildren(r,e,o,a,t,n);if(!i&&!r){return}var s=null;var l;var c=0;var f=0;var p=0;var d=null;for(l in i){if(!i.hasOwnProperty(l)){continue}var h=r&&r[l];var m=i[l];if(h===m){s=g(s,this.moveChild(h,d,c,f));f=Math.max(h._mountIndex,f);h._mountIndex=c}else{if(h){f=Math.max(h._mountIndex,f)}s=g(s,this._mountChildAtIndex(m,o[p],d,c,t,n));p++}c++;d=u.getHostNode(m)}for(l in a){if(a.hasOwnProperty(l)){s=g(s,this._unmountChild(r[l],a[l]))}}if(s){b(this,s)}this._renderedChildren=i;if(false){_.call(this,i)}},unmountChildren:function(e){var t=this._renderedChildren;l.unmountChildren(t,e);this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r){return h(e,t,n)}},createChild:function(e,t,n){return d(n,t,e._mountIndex)},removeChild:function(e,t){return m(e,t)},_mountChildAtIndex:function(e,t,n,r,a,o){e._mountIndex=r;return this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);e._mountIndex=null;return n}}};e.exports=w},function(e,t,n){"use strict";var r=n(3);var a=n(1);function o(e){return!!(e&&typeof e.attachRef==="function"&&typeof e.detachRef==="function")}var i={addComponentAsRefTo:function(e,t,n){!o(n)?false?a(false,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):r("119"):void 0;n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){!o(n)?false?a(false,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):r("120"):void 0;var i=n.getPublicInstance();if(i&&i.refs[t]===e.getPublicInstance()){n.detachRef(t)}}};e.exports=i},function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},function(e,t,n){"use strict";var r=n(5);var a=n(77);var o=n(19);var i=n(36);var s=n(84);var u=n(13);var l=n(38);var c=n(51);var f={initialize:s.getSelectionInformation,close:s.restoreSelection};var p={initialize:function(){var e=i.isEnabled();i.setEnabled(false);return e},close:function(e){i.setEnabled(e)}};var d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}};var h=[f,p,d];if(false){h.push({initialize:u.debugTool.onBeginFlush,close:u.debugTool.onEndFlush})}function m(e){this.reinitializeTransaction();this.renderToStaticMarkup=false;this.reactMountReady=a.getPooled(null);this.useCreateElement=e}var v={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){a.release(this.reactMountReady);this.reactMountReady=null}};r(m.prototype,l,v);o.addPoolingTo(m);e.exports=m},function(e,t,n){"use strict";var r=n(224);var a={};function o(e,t,n){if(typeof e==="function"){e(t.getPublicInstance())}else{r.addComponentAsRefTo(t,e,n)}}function i(e,t,n){if(typeof e==="function"){e(null)}else{r.removeComponentAsRefFrom(t,e,n)}}a.attachRefs=function(e,t){if(t===null||typeof t!=="object"){return}var n=t.ref;if(n!=null){o(n,e,t._owner)}};a.shouldUpdateRefs=function(e,t){var n=null;var r=null;if(e!==null&&typeof e==="object"){n=e.ref;r=e._owner}var a=null;var o=null;if(t!==null&&typeof t==="object"){a=t.ref;o=t._owner}return n!==a||typeof a==="string"&&o!==r};a.detachRefs=function(e,t){if(t===null||typeof t!=="object"){return}var n=t.ref;if(n!=null){i(n,e,t._owner)}};e.exports=a},function(e,t,n){"use strict";var r=n(5);var a=n(19);var o=n(38);var i=n(13);var s=n(229);var u=[];if(false){u.push({initialize:i.debugTool.onBeginFlush,close:i.debugTool.onEndFlush})}var l={enqueue:function(){}};function c(e){this.reinitializeTransaction();this.renderToStaticMarkup=e;this.useCreateElement=false;this.updateQueue=new s(this)}var f={getTransactionWrappers:function(){return u},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};r(c.prototype,o,f);a.addPoolingTo(c);e.exports=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=n(51);var o=n(2);function i(e,t){if(false){var n=e.constructor;process.env.NODE_ENV!=="production"?o(false,"%s(...): Can only update a mounting component. "+"This usually means you called %s() outside componentWillMount() on the server. "+"This is a no-op. Please check the code for the %s component.",t,t,n&&(n.displayName||n.name)||"ReactClass"):void 0}}var s=function(){function e(t){r(this,e);this.transaction=t}e.prototype.isMounted=function e(t){return false};e.prototype.enqueueCallback=function e(t,n,r){if(this.transaction.isInTransaction()){a.enqueueCallback(t,n,r)}};e.prototype.enqueueForceUpdate=function e(t){if(this.transaction.isInTransaction()){a.enqueueForceUpdate(t)}else{i(t,"forceUpdate")}};e.prototype.enqueueReplaceState=function e(t,n){if(this.transaction.isInTransaction()){a.enqueueReplaceState(t,n)}else{i(t,"replaceState")}};e.prototype.enqueueSetState=function e(t,n){if(this.transaction.isInTransaction()){a.enqueueSetState(t,n)}else{i(t,"setState")}};return e}();e.exports=s},function(e,t,n){"use strict";e.exports="15.5.4"},function(e,t,n){"use strict";var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};var a={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"};var o={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};Object.keys(a).forEach(function(e){o.Properties[e]=0;if(a[e]){o.DOMAttributeNames[e]=a[e]}});e.exports=o},function(e,t,n){"use strict";var r=n(31);var a=n(10);var o=n(7);var i=n(84);var s=n(16);var u=n(70);var l=n(93);var c=n(41);var f=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11;var p={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}};var d=null;var h=null;var m=null;var v=false;var y=false;function g(e){if("selectionStart"in e&&i.hasSelectionCapabilities(e)){return{start:e.selectionStart,end:e.selectionEnd}}else if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}else if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function b(e,t){if(v||d==null||d!==u()){return null}var n=g(d);if(!m||!c(m,n)){m=n;var a=s.getPooled(p.select,h,e,t);a.type="select";a.target=d;r.accumulateTwoPhaseDispatches(a);return a}return null}var _={eventTypes:p,extractEvents:function(e,t,n,r){if(!y){return null}var a=t?o.getNodeFromInstance(t):window;switch(e){case"topFocus":if(l(a)||a.contentEditable==="true"){d=a;h=t;m=null}break;case"topBlur":d=null;h=null;m=null;break;case"topMouseDown":v=true;break;case"topContextMenu":case"topMouseUp":v=false;return b(n,r);case"topSelectionChange":if(f){break}case"topKeyDown":case"topKeyUp":return b(n,r)}return null},didPutListener:function(e,t,n){if(t==="onSelect"){y=true}}};e.exports=_},function(e,t,n){"use strict";var r=n(3);var a=n(68);var o=n(31);var i=n(7);var s=n(234);var u=n(235);var l=n(16);var c=n(238);var f=n(240);var p=n(37);var d=n(237);var h=n(241);var m=n(242);var v=n(33);var y=n(243);var g=n(11);var b=n(53);var _=n(1);var x={};var w={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1);var n="on"+t;var r="top"+t;var a={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};x[e]=a;w[r]=a});var E={};function S(e){return"."+e._rootNodeID}function T(e){return e==="button"||e==="input"||e==="select"||e==="textarea"}var M={eventTypes:x,extractEvents:function(e,t,n,a){var i=w[e];if(!i){return null}var g;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":g=l;break;case"topKeyPress":if(b(n)===0){return null}case"topKeyDown":case"topKeyUp":g=f;break;case"topBlur":case"topFocus":g=c;break;case"topClick":if(n.button===2){return null}case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":g=p;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":g=d;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":g=h;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":g=s;break;case"topTransitionEnd":g=m;break;case"topScroll":g=v;break;case"topWheel":g=y;break;case"topCopy":case"topCut":case"topPaste":g=u;break}!g?false?_(false,"SimpleEventPlugin: Unhandled event type, `%s`.",e):r("86",e):void 0;var x=g.getPooled(i,t,n,a);o.accumulateTwoPhaseDispatches(x);return x},didPutListener:function(e,t,n){if(t==="onClick"&&!T(e._tag)){var r=S(e);var o=i.getNodeFromInstance(e);if(!E[r]){E[r]=a.listen(o,"click",g)}}},willDeleteListener:function(e,t){if(t==="onClick"&&!T(e._tag)){var n=S(e);E[n].remove();delete E[n]}}};e.exports=M},function(e,t,n){"use strict";var r=n(16);var a={animationName:null,elapsedTime:null,pseudoElement:null};function o(e,t,n,a){return r.call(this,e,t,n,a)}r.augmentClass(o,a);e.exports=o},function(e,t,n){"use strict";var r=n(16);var a={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};function o(e,t,n,a){return r.call(this,e,t,n,a)}r.augmentClass(o,a);e.exports=o},function(e,t,n){"use strict";var r=n(16);var a={data:null};function o(e,t,n,a){return r.call(this,e,t,n,a)}r.augmentClass(o,a);e.exports=o},function(e,t,n){"use strict";var r=n(37);var a={dataTransfer:null};function o(e,t,n,a){return r.call(this,e,t,n,a)}r.augmentClass(o,a);e.exports=o},function(e,t,n){"use strict";var r=n(33);var a={relatedTarget:null};function o(e,t,n,a){return r.call(this,e,t,n,a)}r.augmentClass(o,a);e.exports=o},function(e,t,n){"use strict";var r=n(16);var a={data:null};function o(e,t,n,a){return r.call(this,e,t,n,a)}r.augmentClass(o,a);e.exports=o},function(e,t,n){"use strict";var r=n(33);var a=n(53);var o=n(248);var i=n(54);var s={key:o,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:i,charCode:function(e){if(e.type==="keypress"){return a(e)}return 0},keyCode:function(e){if(e.type==="keydown"||e.type==="keyup"){return e.keyCode}return 0},which:function(e){if(e.type==="keypress"){return a(e)}if(e.type==="keydown"||e.type==="keyup"){return e.keyCode}return 0}};function u(e,t,n,a){return r.call(this,e,t,n,a)}r.augmentClass(u,s);e.exports=u},function(e,t,n){"use strict";var r=n(33);var a=n(54);var o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:a};function i(e,t,n,a){return r.call(this,e,t,n,a)}r.augmentClass(i,o);e.exports=i},function(e,t,n){"use strict";var r=n(16);var a={propertyName:null,elapsedTime:null,pseudoElement:null};function o(e,t,n,a){return r.call(this,e,t,n,a)}r.augmentClass(o,a);e.exports=o},function(e,t,n){"use strict";var r=n(37);var a={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};function o(e,t,n,a){return r.call(this,e,t,n,a)}r.augmentClass(o,a);e.exports=o},function(e,t,n){"use strict";var r=65521;function a(e){var t=1;var n=0;var a=0;var o=e.length;var i=o&~3;while(a<i){var s=Math.min(a+4096,i);for(;a<s;a+=4){n+=(t+=e.charCodeAt(a))+(t+=e.charCodeAt(a+1))+(t+=e.charCodeAt(a+2))+(t+=e.charCodeAt(a+3))}t%=r;n%=r}for(;a<o;a++){n+=t+=e.charCodeAt(a)}t%=r;n%=r;return t|n<<16}e.exports=a},function(e,t,n){"use strict";var r=n(76);var a=n(2);var o=r.isUnitlessNumber;var i={};function s(e,t,n){var r=t==null||typeof t==="boolean"||t==="";if(r){return""}var s=isNaN(t);if(s||t===0||o.hasOwnProperty(e)&&o[e]){return""+t}if(typeof t==="string"){if(false){if(n&&t!=="0"){var u=n._currentElement._owner;var l=u?u.getName():null;if(l&&!i[l]){i[l]={}}var c=false;if(l){var f=i[l];c=f[e];if(!c){f[e]=true}}if(!c){process.env.NODE_ENV!=="production"?a(false,"a `%s` tag (owner: `%s`) was passed a numeric string value "+"for CSS property `%s` (value: `%s`) which will be treated "+"as a unitless number in a future version of React.",n._currentElement.type,l||"unknown",e,t):void 0}}}t=t.trim()}return t+"px"}e.exports=s},function(e,t,n){"use strict";var r=n(3);var a=n(17);var o=n(7);var i=n(32);var s=n(90);var u=n(1);var l=n(2);function c(e){if(false){var t=a.current;if(t!==null){process.env.NODE_ENV!=="production"?l(t._warnedAboutRefsInRender,"%s is accessing findDOMNode inside its render(). "+"render() should be a pure function of props and state. It should "+"never access something that requires stale data from the previous "+"render, such as refs. Move this logic to componentDidMount and "+"componentDidUpdate instead.",t.getName()||"A component"):void 0;t._warnedAboutRefsInRender=true}}if(e==null){return null}if(e.nodeType===1){return e}var n=i.get(e);if(n){n=s(n);return n?o.getNodeFromInstance(n):null}if(typeof e.render==="function"){true?false?u(false,"findDOMNode was called on an unmounted component."):r("44"):void 0}else{true?false?u(false,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(e)):r("45",Object.keys(e)):void 0}}e.exports=c},function(e,t,n){"use strict";(function(t){var r=n(47);var a=n(95);var o=n(2);var i;if(typeof t!=="undefined"&&n.i({NODE_ENV:"production"})&&"production"==="test"){i=n(98)}function s(e,n,a,s){if(e&&typeof e==="object"){var u=e;var l=u[a]===undefined;if(false){if(!i){i=require("react/lib/ReactComponentTreeHook")}if(!l){t.env.NODE_ENV!=="production"?o(false,"flattenChildren(...): Encountered two children with the same key, "+"`%s`. Child keys must be unique; when two children share a key, only "+"the first child will be used.%s",r.unescape(a),i.getStackAddendumByID(s)):void 0}}if(l&&n!=null){u[a]=n}}}function u(e,t){if(e==null){return e}var n={};if(false){a(e,function(e,n,r){return s(e,n,r,t)},n)}else{a(e,s,n)}return n}e.exports=u}).call(t,n(42))},function(e,t,n){"use strict";var r=n(53);var a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"};var o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function i(e){if(e.key){var t=a[e.key]||e.key;if(t!=="Unidentified"){return t}}if(e.type==="keypress"){var n=r(e);return n===13?"Enter":String.fromCharCode(n)}if(e.type==="keydown"||e.type==="keyup"){return o[e.keyCode]||"Unidentified"}return""}e.exports=i},function(e,t,n){"use strict";var r=typeof Symbol==="function"&&Symbol.iterator;var a="@@iterator";function o(e){var t=e&&(r&&e[r]||e[a]);if(typeof t==="function"){return t}}e.exports=o},function(e,t,n){"use strict";function r(e){while(e&&e.firstChild){e=e.firstChild}return e}function a(e){while(e){if(e.nextSibling){return e.nextSibling}e=e.parentNode}}function o(e,t){var n=r(e);var o=0;var i=0;while(n){if(n.nodeType===3){i=o+n.textContent.length;if(o<=t&&i>=t){return{node:n,offset:t-o}}o=i}n=r(a(n))}}e.exports=o},function(e,t,n){"use strict";var r=n(10);function a(e,t){var n={};n[e.toLowerCase()]=t.toLowerCase();n["Webkit"+e]="webkit"+t;n["Moz"+e]="moz"+t;n["ms"+e]="MS"+t;n["O"+e]="o"+t.toLowerCase();return n}var o={animationend:a("Animation","AnimationEnd"),animationiteration:a("Animation","AnimationIteration"),animationstart:a("Animation","AnimationStart"),transitionend:a("Transition","TransitionEnd")};var i={};var s={};if(r.canUseDOM){s=document.createElement("div").style;if(!("AnimationEvent"in window)){delete o.animationend.animation;delete o.animationiteration.animation;delete o.animationstart.animation}if(!("TransitionEvent"in window)){delete o.transitionend.transition}}function u(e){if(i[e]){return i[e]}else if(!o[e]){return e}var t=o[e];for(var n in t){if(t.hasOwnProperty(n)&&n in s){return i[e]=t[n]}}return""}e.exports=u},function(e,t,n){"use strict";var r=n(39);function a(e){return'"'+r(e)+'"'}e.exports=a},function(e,t,n){"use strict";var r=n(85);e.exports=r.renderSubtreeIntoContainer},function(e,t,n){"use strict";t.__esModule=true;t["default"]=undefined;var r=n(4);var a=n(18);var o=c(a);var i=n(96);var s=c(i);var u=n(97);var l=c(u);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=false;function m(){if(h){return}h=true;(0,l["default"])("<Provider> does not support changing `store` on the fly. "+"It is most likely that you see this error because you updated to "+"Redux 2.x and React Redux 2.x which no longer hot reload reducers "+"automatically. See https://github.com/reactjs/react-redux/releases/"+"tag/v2.0.0 for the migration instructions.")}var v=function(e){d(t,e);t.prototype.getChildContext=function e(){return{store:this.store}};function t(n,r){f(this,t);var a=p(this,e.call(this,n,r));a.store=n.store;return a}t.prototype.render=function e(){return r.Children.only(this.props.children)};return t}(r.Component);t["default"]=v;if(false){v.prototype.componentWillReceiveProps=function(e){var t=this.store;var n=e.store;if(t!==n){m()}}}v.propTypes={store:s["default"].isRequired,children:o["default"].element.isRequired};v.childContextTypes={store:s["default"].isRequired}},function(e,t,n){"use strict";t.__esModule=true;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};t["default"]=P;var a=n(4);var o=n(96);var i=b(o);var s=n(256);var u=b(s);var l=n(257);var c=b(l);var f=n(97);var p=b(f);var d=n(183);var h=b(d);var m=n(163);var v=b(m);var y=n(165);var g=b(y);function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function x(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function w(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var E=function e(t){return{}};var S=function e(t){return{dispatch:t}};var T=function e(t,n,a){return r({},a,t,n)};function M(e){return e.displayName||e.name||"Component"}var C={value:null};function k(e,t){try{return e.apply(t)}catch(e){C.value=e;return C}}var I=0;function P(e,t,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var s=Boolean(e);var l=e||E;var f=void 0;if(typeof t==="function"){f=t}else if(!t){f=S}else{f=(0,c["default"])(t)}var d=n||T;var m=o.pure,y=m===undefined?true:m,b=o.withRef,P=b===undefined?false:b;var D=y&&d!==T;var N=I++;return function e(t){var n="Connect("+M(t)+")";function o(e,t){if(!(0,h["default"])(e)){(0,p["default"])(t+"() in "+n+" must return a plain object. "+("Instead received "+e+"."))}}function c(e,t,n){var r=d(e,t,n);if(false){o(r,"mergeProps")}return r}var m=function(e){w(i,e);i.prototype.shouldComponentUpdate=function e(){return!y||this.haveOwnPropsChanged||this.hasStoreStateChanged};function i(t,r){_(this,i);var a=x(this,e.call(this,t,r));a.version=N;a.store=t.store||r.store;(0,g["default"])(a.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var o=a.store.getState();a.state={storeState:o};a.clearCache();return a}i.prototype.computeStateProps=function e(t,n){if(!this.finalMapStateToProps){return this.configureFinalMapState(t,n)}var r=t.getState();var a=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(r,n):this.finalMapStateToProps(r);if(false){o(a,"mapStateToProps")}return a};i.prototype.configureFinalMapState=function e(t,n){var r=l(t.getState(),n);var a=typeof r==="function";this.finalMapStateToProps=a?r:l;this.doStatePropsDependOnOwnProps=this.finalMapStateToProps.length!==1;if(a){return this.computeStateProps(t,n)}if(false){o(r,"mapStateToProps")}return r};i.prototype.computeDispatchProps=function e(t,n){if(!this.finalMapDispatchToProps){return this.configureFinalMapDispatch(t,n)}var r=t.dispatch;var a=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(r,n):this.finalMapDispatchToProps(r);if(false){o(a,"mapDispatchToProps")}return a};i.prototype.configureFinalMapDispatch=function e(t,n){var r=f(t.dispatch,n);var a=typeof r==="function";this.finalMapDispatchToProps=a?r:f;this.doDispatchPropsDependOnOwnProps=this.finalMapDispatchToProps.length!==1;if(a){return this.computeDispatchProps(t,n)}if(false){o(r,"mapDispatchToProps")}return r};i.prototype.updateStatePropsIfNeeded=function e(){var t=this.computeStateProps(this.store,this.props);if(this.stateProps&&(0,u["default"])(t,this.stateProps)){return false}this.stateProps=t;return true};i.prototype.updateDispatchPropsIfNeeded=function e(){var t=this.computeDispatchProps(this.store,this.props);if(this.dispatchProps&&(0,u["default"])(t,this.dispatchProps)){return false}this.dispatchProps=t;return true};i.prototype.updateMergedPropsIfNeeded=function e(){var t=c(this.stateProps,this.dispatchProps,this.props);if(this.mergedProps&&D&&(0,u["default"])(t,this.mergedProps)){return false}this.mergedProps=t;return true};i.prototype.isSubscribed=function e(){return typeof this.unsubscribe==="function"};i.prototype.trySubscribe=function e(){if(s&&!this.unsubscribe){this.unsubscribe=this.store.subscribe(this.handleChange.bind(this));this.handleChange()}};i.prototype.tryUnsubscribe=function e(){if(this.unsubscribe){this.unsubscribe();this.unsubscribe=null}};i.prototype.componentDidMount=function e(){this.trySubscribe()};i.prototype.componentWillReceiveProps=function e(t){if(!y||!(0,u["default"])(t,this.props)){this.haveOwnPropsChanged=true}};i.prototype.componentWillUnmount=function e(){this.tryUnsubscribe();this.clearCache()};i.prototype.clearCache=function e(){this.dispatchProps=null;this.stateProps=null;this.mergedProps=null;this.haveOwnPropsChanged=true;this.hasStoreStateChanged=true;this.haveStatePropsBeenPrecalculated=false;this.statePropsPrecalculationError=null;this.renderedElement=null;this.finalMapDispatchToProps=null;this.finalMapStateToProps=null};i.prototype.handleChange=function e(){if(!this.unsubscribe){return}var t=this.store.getState();var n=this.state.storeState;if(y&&n===t){return}if(y&&!this.doStatePropsDependOnOwnProps){var r=k(this.updateStatePropsIfNeeded,this);if(!r){return}if(r===C){this.statePropsPrecalculationError=C.value}this.haveStatePropsBeenPrecalculated=true}this.hasStoreStateChanged=true;this.setState({storeState:t})};i.prototype.getWrappedInstance=function e(){(0,g["default"])(P,"To access the wrapped instance, you need to specify "+"{ withRef: true } as the fourth argument of the connect() call.");return this.refs.wrappedInstance};i.prototype.render=function e(){var n=this.haveOwnPropsChanged,o=this.hasStoreStateChanged,i=this.haveStatePropsBeenPrecalculated,s=this.statePropsPrecalculationError,u=this.renderedElement;this.haveOwnPropsChanged=false;this.hasStoreStateChanged=false;this.haveStatePropsBeenPrecalculated=false;this.statePropsPrecalculationError=null;if(s){throw s}var l=true;var c=true;if(y&&u){l=o||n&&this.doStatePropsDependOnOwnProps;c=n&&this.doDispatchPropsDependOnOwnProps}var f=false;var p=false;if(i){f=true}else if(l){f=this.updateStatePropsIfNeeded()}if(c){p=this.updateDispatchPropsIfNeeded()}var d=true;if(f||p||n){d=this.updateMergedPropsIfNeeded()}else{d=false}if(!d&&u){return u}if(P){this.renderedElement=(0,a.createElement)(t,r({},this.mergedProps,{ref:"wrappedInstance"}))}else{this.renderedElement=(0,a.createElement)(t,this.mergedProps)}return this.renderedElement};return i}(a.Component);m.displayName=n;m.WrappedComponent=t;m.contextTypes={store:i["default"]};m.propTypes={store:i["default"]};if(false){m.prototype.componentWillUpdate=function e(){if(this.version===N){return}this.version=N;this.trySubscribe();this.clearCache()}}return(0,v["default"])(m,t)}}},function(e,t,n){"use strict";t.__esModule=true;t["default"]=r;function r(e,t){if(e===t){return true}var n=Object.keys(e);var r=Object.keys(t);if(n.length!==r.length){return false}var a=Object.prototype.hasOwnProperty;for(var o=0;o<n.length;o++){if(!a.call(t,n[o])||e[n[o]]!==t[n[o]]){return false}}return true}},function(e,t,n){"use strict";t.__esModule=true;t["default"]=a;var r=n(103);function a(e){return function(t){return(0,r.bindActionCreators)(e,t)}}},function(e,t,n){"use strict";function r(e){var t=/[=:]/g;var n={"=":"=0",":":"=2"};var r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function a(e){var t=/(=0|=2)/g;var n={"=0":"=","=2":":"};var r=e[0]==="."&&e[1]==="$"?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var o={escape:r,unescape:a};e.exports=o},function(e,t,n){"use strict";var r=n(25);var a=n(1);var o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();t.call(n,e);return n}else{return new t(e)}};var i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();n.call(r,e,t);return r}else{return new n(e,t)}};var s=function(e,t,n){var r=this;if(r.instancePool.length){var a=r.instancePool.pop();r.call(a,e,t,n);return a}else{return new r(e,t,n)}};var u=function(e,t,n,r){var a=this;if(a.instancePool.length){var o=a.instancePool.pop();a.call(o,e,t,n,r);return o}else{return new a(e,t,n,r)}};var l=function(e){var t=this;!(e instanceof t)?false?a(false,"Trying to release an instance into a pool of a different type."):r("25"):void 0;e.destructor();if(t.instancePool.length<t.poolSize){t.instancePool.push(e)}};var c=10;var f=o;var p=function(e,t){var n=e;n.instancePool=[];n.getPooled=t||f;if(!n.poolSize){n.poolSize=c}n.release=l;return n};var d={addPoolingTo:p,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:s,fourArgumentPooler:u};e.exports=d},function(e,t,n){"use strict";var r=n(259);var a=n(24);var o=n(11);var i=n(270);var s=r.twoArgumentPooler;var u=r.fourArgumentPooler;var l=/\/+/g;function c(e){return(""+e).replace(l,"$&/")}function f(e,t){this.func=e;this.context=t;this.count=0}f.prototype.destructor=function(){this.func=null;this.context=null;this.count=0};r.addPoolingTo(f,s);function p(e,t,n){var r=e.func,a=e.context;r.call(a,t,e.count++)}function d(e,t,n){if(e==null){return e}var r=f.getPooled(t,n);i(e,p,r);f.release(r)}function h(e,t,n,r){this.result=e;this.keyPrefix=t;this.func=n;this.context=r;this.count=0}h.prototype.destructor=function(){this.result=null;this.keyPrefix=null;this.func=null;this.context=null;this.count=0};r.addPoolingTo(h,u);function m(e,t,n){var r=e.result,i=e.keyPrefix,s=e.func,u=e.context;var l=s.call(u,t,e.count++);if(Array.isArray(l)){v(l,r,n,o.thatReturnsArgument)}else if(l!=null){if(a.isValidElement(l)){l=a.cloneAndReplaceKey(l,i+(l.key&&(!t||t.key!==l.key)?c(l.key)+"/":"")+n)}r.push(l)}}function v(e,t,n,r,a){var o="";if(n!=null){o=c(n)+"/"}var s=h.getPooled(t,o,r,a);i(e,m,s);h.release(s)}function y(e,t,n){if(e==null){return e}var r=[];v(e,r,null,t,n);return r}function g(e,t,n){return null}function b(e,t){return i(e,g,null)}function _(e){var t=[];v(e,t,null,o.thatReturnsArgument);return t}var x={forEach:d,map:y,mapIntoWithKeyPrefixInternal:v,count:b,toArray:_};e.exports=x},function(e,t,n){"use strict";var r=n(25),a=n(5);var o=n(59);var i=n(24);var s=n(263);var u=n(60);var l=n(29);var c=n(1);var f=n(2);var p="mixins";function d(e){return e}var h=[];var m={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"};var v={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t){for(var n=0;n<t.length;n++){b(e,t[n])}}},childContextTypes:function(e,t){if(false){y(e,t,"childContext")}e.childContextTypes=a({},e.childContextTypes,t)},contextTypes:function(e,t){if(false){y(e,t,"context")}e.contextTypes=a({},e.contextTypes,t)},getDefaultProps:function(e,t){if(e.getDefaultProps){e.getDefaultProps=w(e.getDefaultProps,t)}else{e.getDefaultProps=t}},propTypes:function(e,t){if(false){y(e,t,"prop")}e.propTypes=a({},e.propTypes,t)},statics:function(e,t){_(e,t)},autobind:function(){}};function y(e,t,n){for(var r in t){if(t.hasOwnProperty(r)){false?f(typeof t[r]==="function","%s: %s type `%s` is invalid; it must be a function, usually from "+"React.PropTypes.",e.displayName||"ReactClass",s[n],r):void 0}}}function g(e,t){var n=m.hasOwnProperty(t)?m[t]:null;if(M.hasOwnProperty(t)){!(n==="OVERRIDE_BASE")?false?c(false,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t):r("73",t):void 0}if(e){!(n==="DEFINE_MANY"||n==="DEFINE_MANY_MERGED")?false?c(false,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t):r("74",t):void 0}}function b(e,t){if(!t){if(false){var n=typeof t;var a=n==="object"&&t!==null;process.env.NODE_ENV!=="production"?f(a,"%s: You're attempting to include a mixin that is either null "+"or not an object. Check the mixins included by the component, "+"as well as any mixins they include themselves. "+"Expected object but got %s.",e.displayName||"ReactClass",t===null?null:n):void 0}return}!(typeof t!=="function")?false?c(false,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."):r("75"):void 0;!!i.isValidElement(t)?false?c(false,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):r("76"):void 0;var o=e.prototype;var s=o.__reactAutoBindPairs;if(t.hasOwnProperty(p)){v.mixins(e,t.mixins)}for(var u in t){if(!t.hasOwnProperty(u)){continue}if(u===p){continue}var l=t[u];var d=o.hasOwnProperty(u);g(d,u);if(v.hasOwnProperty(u)){v[u](e,l)}else{var h=m.hasOwnProperty(u);var y=typeof l==="function";var b=y&&!h&&!d&&t.autobind!==false;if(b){s.push(u,l);o[u]=l}else{if(d){var _=m[u];!(h&&(_==="DEFINE_MANY_MERGED"||_==="DEFINE_MANY"))?false?c(false,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",_,u):r("77",_,u):void 0;if(_==="DEFINE_MANY_MERGED"){o[u]=w(o[u],l)}else if(_==="DEFINE_MANY"){o[u]=E(o[u],l)}}else{o[u]=l;if(false){if(typeof l==="function"&&t.displayName){o[u].displayName=t.displayName+"_"+u}}}}}}}function _(e,t){if(!t){return}for(var n in t){var a=t[n];if(!t.hasOwnProperty(n)){continue}var o=n in v;!!o?false?c(false,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n):r("78",n):void 0;var i=n in e;!!i?false?c(false,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n):r("79",n):void 0;e[n]=a}}function x(e,t){!(e&&t&&typeof e==="object"&&typeof t==="object")?false?c(false,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):r("80"):void 0;for(var n in t){if(t.hasOwnProperty(n)){!(e[n]===undefined)?false?c(false,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n):r("81",n):void 0;e[n]=t[n]}}return e}function w(e,t){return function n(){var r=e.apply(this,arguments);var a=t.apply(this,arguments);if(r==null){return a}else if(a==null){return r}var o={};x(o,r);x(o,a);return o}}function E(e,t){return function n(){e.apply(this,arguments);t.apply(this,arguments)}}function S(e,t){var n=t.bind(e);if(false){n.__reactBoundContext=e;n.__reactBoundMethod=t;n.__reactBoundArguments=null;var r=e.constructor.displayName;var a=n.bind;n.bind=function(o){for(var i=arguments.length,s=Array(i>1?i-1:0),u=1;u<i;u++){s[u-1]=arguments[u]}if(o!==e&&o!==null){process.env.NODE_ENV!=="production"?f(false,"bind(): React component methods may only be bound to the "+"component instance. See %s",r):void 0}else if(!s.length){process.env.NODE_ENV!=="production"?f(false,"bind(): You are binding a component method to the component. "+"React does this for you automatically in a high-performance "+"way, so you can safely remove this call. See %s",r):void 0;return n}var l=a.apply(n,arguments);l.__reactBoundContext=e;l.__reactBoundMethod=t;l.__reactBoundArguments=s;return l}}return n}function T(e){var t=e.__reactAutoBindPairs;for(var n=0;n<t.length;n+=2){var r=t[n];var a=t[n+1];e[r]=S(e,a)}}var M={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e);if(t){this.updater.enqueueCallback(this,t,"replaceState")}},isMounted:function(){return this.updater.isMounted(this)}};var C=function(){};a(C.prototype,o.prototype,M);var k=false;var I={createClass:function(e){if(false){process.env.NODE_ENV!=="production"?f(k,"%s: React.createClass is deprecated and will be removed in version 16. "+"Use plain JavaScript classes instead. If you're not yet ready to "+"migrate, create-react-class is available on npm as a "+"drop-in replacement.",e&&e.displayName||"A Component"):void 0;k=true}var t=d(function(e,n,a){if(false){process.env.NODE_ENV!=="production"?f(this instanceof t,"Something is calling a React component directly. Use a factory or "+"JSX instead. See: https://fb.me/react-legacyfactory"):void 0}if(this.__reactAutoBindPairs.length){T(this)}this.props=e;this.context=n;this.refs=l;this.updater=a||u;this.state=null;var o=this.getInitialState?this.getInitialState():null;if(false){if(o===undefined&&this.getInitialState._isMockFunction){o=null}}!(typeof o==="object"&&!Array.isArray(o))?false?c(false,"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"):r("82",t.displayName||"ReactCompositeComponent"):void 0;this.state=o});t.prototype=new C;t.prototype.constructor=t;t.prototype.__reactAutoBindPairs=[];h.forEach(b.bind(null,t));b(t,e);if(t.getDefaultProps){t.defaultProps=t.getDefaultProps()}if(false){if(t.getDefaultProps){t.getDefaultProps.isReactClassApproved={}}if(t.prototype.getInitialState){t.prototype.getInitialState.isReactClassApproved={}}}!t.prototype.render?false?c(false,"createClass(...): Class specification must implement a `render` method."):r("83"):void 0;if(false){process.env.NODE_ENV!=="production"?f(!t.prototype.componentShouldUpdate,"%s has a method called "+"componentShouldUpdate(). Did you mean shouldComponentUpdate()? "+"The name is phrased as a question because the function is "+"expected to return a value.",e.displayName||"A component"):void 0;process.env.NODE_ENV!=="production"?f(!t.prototype.componentWillRecieveProps,"%s has a method called "+"componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",e.displayName||"A component"):void 0}for(var n in m){if(!t.prototype[n]){t.prototype[n]=null}}return t},injection:{injectMixin:function(e){h.push(e)}}};e.exports=I},function(e,t,n){"use strict";var r=n(24);var a=r.createFactory;if(false){var o=require("./ReactElementValidator");a=o.createFactory}var i={a:a("a"),abbr:a("abbr"),address:a("address"),area:a("area"),article:a("article"),aside:a("aside"),audio:a("audio"),b:a("b"),base:a("base"),bdi:a("bdi"),bdo:a("bdo"),big:a("big"),blockquote:a("blockquote"),body:a("body"),br:a("br"),button:a("button"),canvas:a("canvas"),caption:a("caption"),cite:a("cite"),code:a("code"),col:a("col"),colgroup:a("colgroup"),data:a("data"),datalist:a("datalist"),dd:a("dd"),del:a("del"),details:a("details"),dfn:a("dfn"),dialog:a("dialog"),div:a("div"),dl:a("dl"),dt:a("dt"),em:a("em"),embed:a("embed"),fieldset:a("fieldset"),figcaption:a("figcaption"),figure:a("figure"),footer:a("footer"),form:a("form"),h1:a("h1"),h2:a("h2"),h3:a("h3"),h4:a("h4"),h5:a("h5"),h6:a("h6"),head:a("head"),header:a("header"),hgroup:a("hgroup"),hr:a("hr"),html:a("html"),i:a("i"),iframe:a("iframe"),img:a("img"),input:a("input"),ins:a("ins"),kbd:a("kbd"),keygen:a("keygen"),label:a("label"),legend:a("legend"),li:a("li"),link:a("link"),main:a("main"),map:a("map"),mark:a("mark"),menu:a("menu"),menuitem:a("menuitem"),meta:a("meta"),meter:a("meter"),nav:a("nav"),noscript:a("noscript"),object:a("object"),ol:a("ol"),optgroup:a("optgroup"),option:a("option"),output:a("output"),p:a("p"),param:a("param"),picture:a("picture"),pre:a("pre"),progress:a("progress"),q:a("q"),rp:a("rp"),rt:a("rt"),ruby:a("ruby"),s:a("s"),samp:a("samp"),script:a("script"),section:a("section"),select:a("select"),small:a("small"),source:a("source"),span:a("span"),strong:a("strong"),style:a("style"),sub:a("sub"),summary:a("summary"),sup:a("sup"),table:a("table"),tbody:a("tbody"),td:a("td"),textarea:a("textarea"),tfoot:a("tfoot"),th:a("th"),thead:a("thead"),time:a("time"),title:a("title"),tr:a("tr"),track:a("track"),u:a("u"),ul:a("ul"),var:a("var"),video:a("video"),wbr:a("wbr"),circle:a("circle"),clipPath:a("clipPath"),defs:a("defs"),ellipse:a("ellipse"),g:a("g"),image:a("image"),line:a("line"),linearGradient:a("linearGradient"),mask:a("mask"),path:a("path"),pattern:a("pattern"),polygon:a("polygon"),polyline:a("polyline"),radialGradient:a("radialGradient"),rect:a("rect"),stop:a("stop"),svg:a("svg"),text:a("text"),tspan:a("tspan")};e.exports=i},function(e,t,n){"use strict";var r={};if(false){r={prop:"prop",context:"context",childContext:"child context"}}e.exports=r},function(e,t,n){"use strict";var r=n(24),a=r.isValidElement;var o=n(75);e.exports=o(a)},function(e,t,n){"use strict";var r=n(5);var a=n(59);var o=n(60);var i=n(29);function s(e,t,n){this.props=e;this.context=t;this.refs=i;this.updater=n||o}function u(){}u.prototype=a.prototype;s.prototype=new u;s.prototype.constructor=s;r(s.prototype,a.prototype);s.prototype.isPureReactComponent=true;e.exports=s},function(e,t,n){"use strict";e.exports="15.5.4"},function(e,t,n){"use strict";var r=typeof Symbol==="function"&&Symbol.iterator;var a="@@iterator";function o(e){var t=e&&(r&&e[r]||e[a]);if(typeof t==="function"){return t}}e.exports=o},function(e,t,n){"use strict";var r=1;function a(){return r++}e.exports=a},function(e,t,n){"use strict";var r=n(25);var a=n(24);var o=n(1);function i(e){!a.isValidElement(e)?false?o(false,"React.Children.only expected to receive a single React element child."):r("143"):void 0;return e}e.exports=i},function(e,t,n){"use strict";var r=n(25);var a=n(17);var o=n(99);var i=n(267);var s=n(1);var u=n(258);var l=n(2);var c=".";var f=":";var p=false;function d(e,t){if(e&&typeof e==="object"&&e.key!=null){return u.escape(e.key)}return t.toString(36)}function h(e,t,n,m){var v=typeof e;if(v==="undefined"||v==="boolean"){e=null}if(e===null||v==="string"||v==="number"||v==="object"&&e.$$typeof===o){n(m,e,t===""?c+d(e,0):t);return 1}var y;var g;var b=0;var _=t===""?c:t+f;if(Array.isArray(e)){for(var x=0;x<e.length;x++){y=e[x];g=_+d(y,x);b+=h(y,g,n,m)}}else{var w=i(e);if(w){var E=w.call(e);var S;if(w!==e.entries){var T=0;while(!(S=E.next()).done){y=S.value;g=_+d(y,T++);b+=h(y,g,n,m)}}else{if(false){var M="";if(a.current){var C=a.current.getName();if(C){M=" Check the render method of `"+C+"`."}}process.env.NODE_ENV!=="production"?l(p,"Using Maps as children is not yet fully supported. It is an "+"experimental feature that might be removed. Convert it to a "+"sequence / iterable of keyed ReactElements instead.%s",M):void 0;p=true}while(!(S=E.next()).done){var k=S.value;if(k){y=k[1];g=_+u.escape(k[0])+f+d(y,0);b+=h(y,g,n,m)}}}}else if(v==="object"){var I="";if(false){I=" If you meant to render a collection of children, use an array "+"instead or wrap the object using createFragment(object) from the "+"React add-ons.";if(e._isReactElement){I=" It looks like you're using an element created by a different "+"version of React. Make sure to use only one copy of React."}if(a.current){var P=a.current.getName();if(P){I+=" Check the render method of `"+P+"`."}}}var D=String(e);true?false?s(false,"Objects are not valid as a React child (found: %s).%s",D==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":D,I):r("31",D==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":D,I):void 0}}return b}function m(e,t,n){if(e==null){return 0}return h(e,"",t,n)}e.exports=m},function(e,t,n){"use strict";t.__esModule=true;function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(a){if(typeof a==="function"){return a(n,r,e)}return t(a)}}}}var a=r();a.withExtraArgument=r;t["default"]=a},function(e,t,n){"use strict";var r=n(101);t["a"]=o;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}return function(e){return function(n,o,i){var s=e(n,o,i);var u=s.dispatch;var l=[];var c={getState:s.getState,dispatch:function e(t){return u(t)}};l=t.map(function(e){return e(c)});u=r["a"].apply(undefined,l)(s.dispatch);return a({},s,{dispatch:u})}}}},function(e,t,n){"use strict";t["a"]=a;function r(e,t){return function(){return t(e.apply(undefined,arguments))}}function a(e,t){if(typeof e==="function"){return r(e,t)}if(typeof e!=="object"||e===null){throw new Error("bindActionCreators expected an object or a function, instead received "+(e===null?"null":typeof e)+". "+'Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?')}var n=Object.keys(e);var a={};for(var o=0;o<n.length;o++){var i=n[o];var s=e[i];if(typeof s==="function"){a[i]=r(s,t)}}return a}},function(e,t,n){"use strict";var r=n(102);var a=n(72);var o=n(104);t["a"]=l;function i(e,t){var n=t&&t.type;var r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. '+"To ignore an action, you must explicitly return the previous state."}function s(e,t,o,i){var s=Object.keys(t);var u=o&&o.type===r["b"].INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(s.length===0){return"Store does not have a valid reducer. Make sure the argument passed "+"to combineReducers is an object whose values are reducers."}if(!n.i(a["a"])(e)){return"The "+u+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+s.join('", "')+'"')}var l=Object.keys(e).filter(function(e){return!t.hasOwnProperty(e)&&!i[e]});l.forEach(function(e){i[e]=true});if(l.length>0){return"Unexpected "+(l.length>1?"keys":"key")+" "+('"'+l.join('", "')+'" found in '+u+". ")+"Expected to find one of the known reducer keys instead: "+('"'+s.join('", "')+'". Unexpected keys will be ignored.')}}function u(e){Object.keys(e).forEach(function(t){var n=e[t];var a=n(undefined,{type:r["b"].INIT});if(typeof a==="undefined"){throw new Error('Reducer "'+t+'" returned undefined during initialization. '+"If the state passed to the reducer is undefined, you must "+"explicitly return the initial state. The initial state may "+"not be undefined.")}var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(typeof n(undefined,{type:o})==="undefined"){throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+r["b"].INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the "+"current state for any unknown actions, unless it is undefined, "+"in which case you must return the initial state, regardless of the "+"action type. The initial state may not be undefined.")}})}function l(e){var t=Object.keys(e);var n={};for(var r=0;r<t.length;r++){var a=t[r];if(false){if(typeof e[a]==="undefined"){warning('No reducer provided for key "'+a+'"')}}if(typeof e[a]==="function"){n[a]=e[a]}}var o=Object.keys(n);if(false){var l={}}var c;try{u(n)}catch(e){c=e}return function e(){var t=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];var r=arguments[1];if(c){throw c}if(false){var a=s(t,n,r,l);if(a){warning(a)}}var u=false;var f={};for(var p=0;p<o.length;p++){var d=o[p];var h=n[d];var m=t[d];var v=h(m,r);if(typeof v==="undefined"){var y=i(d,r);throw new Error(y)}f[d]=v;u=u||v!==m}return u?f:t}}},function(e,t,n){e.exports=n(276)},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:true});var a=n(277);var o=i(a);function i(e){return e&&e.__esModule?e:{default:e}}var s;if(typeof self!=="undefined"){s=self}else if(typeof window!=="undefined"){s=window}else if(typeof e!=="undefined"){s=e}else if(true){s=r}else{s=Function("return this")()}var u=(0,o["default"])(s);t["default"]=u}).call(t,n(26),n(326)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;function r(e){var t;var n=e.Symbol;if(typeof n==="function"){if(n.observable){t=n.observable}else{t=n("observable");n.observable=t}}else{t="@@observable"}return t}},function(e,t,n){(function(t){var n;var r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var a=new Uint8Array(16);n=function e(){r.getRandomValues(a);return a}}if(!n){var o=new Array(16);n=function(){for(var e=0,t;e<16;e++){if((e&3)===0)t=Math.random()*4294967296;o[e]=t>>>((e&3)<<3)&255}return o}}e.exports=n}).call(t,n(26))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=u;var r=n(0);var a=s(r);var o=n(65);var i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){(0,a.default)(e);return e.indexOf((0,i.default)(t))>=0}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){(0,a.default)(e);return e===t}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function i(e){(0,a.default)(e);return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=u;var r=n(0);var a=s(r);var o=n(64);var i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:String(new Date);(0,a.default)(e);var n=(0,i.default)(t);var r=(0,i.default)(e);return!!(r&&n&&r>n)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=i(r);var o=n(106);function i(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"en-US";(0,a.default)(e);if(t in o.alpha){return o.alpha[t].test(e)}throw new Error("Invalid locale '"+t+"'")}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=i(r);var o=n(106);function i(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"en-US";(0,a.default)(e);if(t in o.alphanumeric){return o.alphanumeric[t].test(e)}throw new Error("Invalid locale '"+t+"'")}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=/^[\x00-\x7F]+$/;function s(e){(0,a.default)(e);return i.test(e)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=/[^A-Z0-9+\/=]/i;function s(e){(0,a.default)(e);var t=e.length;if(!t||t%4!==0||i.test(e)){return false}var n=e.indexOf("=");return n===-1||n===t-1||n===t-2&&e[t-1]==="="}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=u;var r=n(0);var a=s(r);var o=n(64);var i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:String(new Date);(0,a.default)(e);var n=(0,i.default)(t);var r=(0,i.default)(e);return!!(r&&n&&r<n)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function i(e){(0,a.default)(e);return["true","false","1","0"].indexOf(e)>=0}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})|62[0-9]{14}$/;function s(e){(0,a.default)(e);var t=e.replace(/[^0-9]+/g,"");if(!i.test(t)){return false}var n=0;var r=void 0;var o=void 0;var s=void 0;for(var u=t.length-1;u>=0;u--){r=t.substring(u,u+1);o=parseInt(r,10);if(s){o*=2;if(o>=10){n+=o%10+1}else{n+=o}}else{n+=o}s=!s}return!!(n%10===0?t:false)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=c;var r=n(34);var a=s(r);var o=n(0);var i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t="(\\"+e.symbol.replace(/\./g,"\\.")+")"+(e.require_symbol?"":"?"),n="-?",r="[1-9]\\d*",a="[1-9]\\d{0,2}(\\"+e.thousands_separator+"\\d{3})*",o=["0",r,a],i="("+o.join("|")+")?",s="(\\"+e.decimal_separator+"\\d{2})?";var u=i+s;if(e.allow_negatives&&!e.parens_for_negatives){if(e.negative_sign_after_digits){u+=n}else if(e.negative_sign_before_digits){u=n+u}}if(e.allow_negative_sign_placeholder){u="( (?!\\-))?"+u}else if(e.allow_space_after_symbol){u=" ?"+u}else if(e.allow_space_after_digits){u+="( (?!$))?"}if(e.symbol_after_digits){u+=t}else{u=t+u}if(e.allow_negatives){if(e.parens_for_negatives){u="(\\("+u+"\\)|"+u+")"}else if(!(e.negative_sign_before_digits||e.negative_sign_after_digits)){u=n+u}}return new RegExp("^"+"(?!-? )(?=.*\\d)"+u+"$")}var l={symbol:"$",require_symbol:false,allow_space_after_symbol:false,symbol_after_digits:false,allow_negatives:true,parens_for_negatives:false,negative_sign_before_digits:false,negative_sign_after_digits:false,allow_negative_sign_placeholder:false,thousands_separator:",",decimal_separator:".",allow_space_after_digits:false};function c(e,t){(0,i.default)(e);t=(0,a.default)(t,l);return u(t).test(e)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9!\$&',\(\)\*\+,;=\-\._~:@\/\?%\s]*\s*$/i;function s(e){(0,a.default)(e);return i.test(e)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=u;var r=n(0);var a=i(r);var o=n(114);function i(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.match(o.iso8601);var n=void 0,r=void 0,a=void 0,i=void 0;if(!t){e=e.toLowerCase();n=e.match(/(?:\s|gmt\s*)(-|\+)(\d{1,4})(\s|$)/);if(!n){return e.indexOf("gmt")!==-1?0:null}r=n[1];var s=n[2];if(s.length===3){s="0"+s}if(s.length<=2){a=0;i=parseInt(s,10)}else{a=parseInt(s.slice(0,2),10);i=parseInt(s.slice(2,4),10)}}else{n=t[21];if(!n){return!t[12]?0:null}if(n==="z"||n==="Z"){return 0}r=t[22];if(n.indexOf(":")!==-1){a=parseInt(t[23],10);i=parseInt(t[24],10)}else{a=0;i=parseInt(t[23],10)}}return(a*60+i)*(r==="-"?1:-1)}function u(e){(0,a.default)(e);var t=new Date(Date.parse(e));if(isNaN(t)){return false}var n=s(e);if(n!==null){var r=t.getTimezoneOffset()-n;t=new Date(t.getTime()+6e4*r)}var o=String(t.getDate());var i=void 0,u=void 0,l=void 0;u=e.match(/(^|[^:\d])[23]\d([^T:\d]|$)/g);if(!u){return true}i=u.map(function(e){return e.match(/\d+/g)[0]}).join("/");l=String(t.getFullYear()).slice(-2);if(i===o||i===l){return true}else if(i===""+o/l||i===""+l/o){return true}return false}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=/^[-+]?([0-9]+|\.[0-9]+|[0-9]+\.[0-9]+)$/;function s(e){(0,a.default)(e);return e!==""&&i.test(e)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=u;var r=n(0);var a=s(r);var o=n(117);var i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){(0,a.default)(e);return(0,i.default)(e)%parseInt(t,10)===0}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function i(e){(0,a.default)(e);return e.length===0}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=/^(?:[-+])?(?:[0-9]+)?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;function s(e,t){(0,a.default)(e);t=t||{};if(e===""||e==="."){return false}return i.test(e)&&(!t.hasOwnProperty("min")||e>=t.min)&&(!t.hasOwnProperty("max")||e<=t.max)&&(!t.hasOwnProperty("lt")||e<t.lt)&&(!t.hasOwnProperty("gt")||e>t.gt)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i;function s(e){(0,a.default)(e);return i.test(e)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=l;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=/^(?:[0-9]{9}X|[0-9]{10})$/;var s=/^(?:[0-9]{13})$/;var u=[1,3];function l(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";(0,a.default)(e);t=String(t);if(!t){return l(e,10)||l(e,13)}var n=e.replace(/[\s-]+/g,"");var r=0;var o=void 0;if(t==="10"){if(!i.test(n)){return false}for(o=0;o<9;o++){r+=(o+1)*n.charAt(o)}if(n.charAt(9)==="X"){r+=10*10}else{r+=10*n.charAt(9)}if(r%11===0){return!!n}}else if(t==="13"){if(!s.test(n)){return false}for(o=0;o<12;o++){r+=u[o%2]*n.charAt(o)}if(n.charAt(12)-(10-r%10)%10===0){return!!n}}return false}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;function s(e){(0,a.default)(e);if(!i.test(e)){return false}var t=e.replace(/[A-Z]/g,function(e){return parseInt(e,36)});var n=0;var r=void 0;var o=void 0;var s=true;for(var u=t.length-2;u>=0;u--){r=t.substring(u,u+1);o=parseInt(r,10);if(s){o*=2;if(o>=10){n+=o+1}else{n+=o}}else{n+=o}s=!s}return parseInt(e.substr(e.length-1),10)===(1e4-n)%10}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i="^\\d{4}-?\\d{3}[\\dX]$";function s(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};(0,a.default)(e);var n=i;n=t.require_hyphen?n.replace("?",""):n;n=t.case_sensitive?new RegExp(n):new RegExp(n,"i");if(!n.test(e)){return false}var r=e.replace("-","");var o=8;var s=0;var u=true;var l=false;var c=undefined;try{for(var f=r[Symbol.iterator](),p;!(u=(p=f.next()).done);u=true){var d=p.value;var h=d.toUpperCase()==="X"?10:+d;s+=h*o;--o}}catch(e){l=true;c=e}finally{try{if(!u&&f.return){f.return()}}finally{if(l){throw c}}}return s%11===0}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=l;var a=n(0);var o=u(a);var i=n(65);var s=u(i);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){(0,o.default)(e);var n=void 0;if(Object.prototype.toString.call(t)==="[object Array]"){var a=[];for(n in t){if({}.hasOwnProperty.call(t,n)){a[n]=(0,s.default)(t[n])}}return a.indexOf(e)>=0}else if((typeof t==="undefined"?"undefined":r(t))==="object"){return t.hasOwnProperty(e)}else if(t&&typeof t.indexOf==="function"){return t.indexOf(e)>=0}return false}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=u;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=/^(?:[-+]?(?:0|[1-9][0-9]*))$/;var s=/^[-+]?[0-9]+$/;function u(e,t){(0,a.default)(e);t=t||{};var n=t.hasOwnProperty("allow_leading_zeroes")&&!t.allow_leading_zeroes?i:s;var r=!t.hasOwnProperty("min")||e>=t.min;var o=!t.hasOwnProperty("max")||e<=t.max;var u=!t.hasOwnProperty("lt")||e<t.lt;var l=!t.hasOwnProperty("gt")||e>t.gt;return n.test(e)&&r&&o&&u&&l}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=s;var a=n(0);var o=i(a);function i(e){return e&&e.__esModule?e:{default:e}}function s(e){(0,o.default)(e);try{var t=JSON.parse(e);return!!t&&(typeof t==="undefined"?"undefined":r(t))==="object"}catch(e){}return false}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=s;var a=n(0);var o=i(a);function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){(0,o.default)(e);var n=void 0;var a=void 0;if((typeof t==="undefined"?"undefined":r(t))==="object"){n=t.min||0;a=t.max}else{n=arguments[1];a=arguments[2]}var i=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[];var s=e.length-i.length;return s>=n&&(typeof a==="undefined"||s<=a)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function i(e){(0,a.default)(e);return e===e.toLowerCase()}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=/^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/;function s(e){(0,a.default)(e);return i.test(e)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=/^[a-f0-9]{32}$/;function s(e){(0,a.default)(e);return i.test(e)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i={"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"en-US":/^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"de-DE":/^(\+?49[ \.\-])?([\(]{1}[0-9]{1,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,"da-DK":/^(\+?45)?(\d{8})$/,"el-GR":/^(\+?30)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-HK":/^(\+?852\-?)?[569]\d{3}\-?\d{4}$/,"en-IN":/^(\+?91|0)?[789]\d{9}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)2\d{7,9}$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"es-ES":/^(\+?34)?(6\d{1}|7[1234])\d{7}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5)?|50)\s?(\d\s?){4,8}\d$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[0248]|77)[1-9]\d{6}/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"ja-JP":/^(\+?81|0)\d{1,4}[ \-]?\d{1,4}[ \-]?\d{4}$/,"ms-MY":/^(\+?6?01){1}(([145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^(\+?55|0)\-?[1-9]{2}\-?[2-9]{1}\d{3,4}\-?\d{4}$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"vi-VN":/^(\+?84|0)?((1(2([0-9])|6([2-9])|88|99))|(9((?!5)[0-9])))([0-9]{7})$/,"zh-CN":/^(\+?0?86\-?)?1[345789]\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};i["en-CA"]=i["en-US"];i["fr-BE"]=i["nl-BE"];i["zh-HK"]=i["en-HK"];function s(e,t){(0,a.default)(e);if(t in i){return i[t].test(e)}return false}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=u;var r=n(0);var a=s(r);var o=n(112);var i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){(0,a.default)(e);return(0,i.default)(e)&&e.length===24}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=/[^\x00-\x7F]/;function s(e){(0,a.default)(e);return i.test(e)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=/^[-+]?[0-9]+$/;function s(e){(0,a.default)(e);return i.test(e)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;function s(e){(0,a.default)(e);return i.test(e)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=v;var r=n(0);var a=f(r);var o=n(63);var i=f(o);var s=n(113);var u=f(s);var l=n(34);var c=f(l);function f(e){return e&&e.__esModule?e:{default:e}}var p={protocols:["http","https","ftp"],require_tld:true,require_protocol:false,require_host:true,require_valid_protocol:true,allow_underscores:false,allow_trailing_dot:false,allow_protocol_relative_urls:false};var d=/^\[([^\]]+)\](?::([0-9]+))?$/;function h(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e===r||h(r)&&r.test(e)){return true}}return false}function v(e,t){(0,a.default)(e);if(!e||e.length>=2083||/[\s<>]/.test(e)){return false}if(e.indexOf("mailto:")===0){return false}t=(0,c.default)(t,p);var n=void 0,r=void 0,o=void 0,s=void 0,l=void 0,f=void 0,h=void 0,v=void 0;h=e.split("#");e=h.shift();h=e.split("?");e=h.shift();h=e.split("://");if(h.length>1){n=h.shift();if(t.require_valid_protocol&&t.protocols.indexOf(n)===-1){return false}}else if(t.require_protocol){return false}else if(t.allow_protocol_relative_urls&&e.substr(0,2)==="//"){h[0]=e.substr(2)}e=h.join("://");h=e.split("/");e=h.shift();if(e===""&&!t.require_host){return true}h=e.split("@");if(h.length>1){r=h.shift();if(r.indexOf(":")>=0&&r.split(":").length>2){return false}}s=h.join("@");f=v=null;var y=s.match(d);if(y){o="";v=y[1];f=y[2]||null}else{h=s.split(":");o=h.shift();if(h.length){f=h.join(":")}}if(f!==null){l=parseInt(f,10);if(!/^[0-9]+$/.test(f)||l<=0||l>65535){return false}}if(!(0,u.default)(o)&&!(0,i.default)(o,t)&&(!v||!(0,u.default)(v,6))&&o!=="localhost"){return false}o=o||v;if(t.host_whitelist&&!m(o,t.host_whitelist)){return false}if(t.host_blacklist&&m(o,t.host_blacklist)){return false}return true}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=s;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var i={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};function s(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"all";(0,a.default)(e);var n=i[t];return n&&n.test(e)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function i(e){(0,a.default)(e);return e===e.toUpperCase()}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=u;var r=n(0);var a=s(r);var o=n(110);var i=n(111);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){(0,a.default)(e);return o.fullWidth.test(e)&&i.halfWidth.test(e)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){(0,a.default)(e);for(var n=e.length-1;n>=0;n--){if(t.indexOf(e[n])===-1){return false}}return true}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){(0,a.default)(e);if(Object.prototype.toString.call(t)!=="[object RegExp]"){t=new RegExp(t,n)}return t.test(e)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=p;var r=n(109);var a=s(r);var o=n(34);var i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}var u={all_lowercase:true,gmail_lowercase:true,gmail_remove_dots:true,gmail_remove_subaddress:true,gmail_convert_googlemaildotcom:true,outlookdotcom_lowercase:true,outlookdotcom_remove_subaddress:true,yahoo_lowercase:true,yahoo_remove_subaddress:true,icloud_lowercase:true,icloud_remove_subaddress:true};var l=["icloud.com","me.com"];var c=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"];var f=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"];function p(e,t){t=(0,i.default)(t,u);if(!(0,a.default)(e)){return false}var n=e.split("@");var r=n.pop();var o=n.join("@");var s=[o,r];s[1]=s[1].toLowerCase();if(s[1]==="gmail.com"||s[1]==="googlemail.com"){if(t.gmail_remove_subaddress){s[0]=s[0].split("+")[0]}if(t.gmail_remove_dots){s[0]=s[0].replace(/\./g,"")}if(!s[0].length){return false}if(t.all_lowercase||t.gmail_lowercase){s[0]=s[0].toLowerCase()}s[1]=t.gmail_convert_googlemaildotcom?"gmail.com":s[1]}else if(~l.indexOf(s[1])){if(t.icloud_remove_subaddress){s[0]=s[0].split("+")[0]}if(!s[0].length){return false}if(t.all_lowercase||t.icloud_lowercase){s[0]=s[0].toLowerCase()}}else if(~c.indexOf(s[1])){if(t.outlookdotcom_remove_subaddress){s[0]=s[0].split("+")[0]}if(!s[0].length){return false}if(t.all_lowercase||t.outlookdotcom_lowercase){s[0]=s[0].toLowerCase()}}else if(~f.indexOf(s[1])){if(t.yahoo_remove_subaddress){var p=s[0].split("-");s[0]=p.length>1?p.slice(0,-1).join("-"):p[0]}if(!s[0].length){return false}if(t.all_lowercase||t.yahoo_lowercase){s[0]=s[0].toLowerCase()}}else if(t.all_lowercase){s[0]=s[0].toLowerCase()}return s.join("@")}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=u;var r=n(0);var a=s(r);var o=n(107);var i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){(0,a.default)(e);var n=t?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,i.default)(e,n)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){(0,a.default)(e);if(t){return e==="1"||e==="true"}return e!=="0"&&e!=="false"&&e!==""}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){(0,a.default)(e);return parseInt(e,t||10)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=u;var r=n(116);var a=s(r);var o=n(115);var i=s(o);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return(0,a.default)((0,i.default)(e,t),t)}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function i(e){(0,a.default)(e);return e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#96;/g,"`")}e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;var r=n(0);var a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){(0,a.default)(e);return e.replace(new RegExp("[^"+t+"]+","g"),"")}e.exports=t["default"]},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});e.webpackPolyfill=1}return e}},function(e,t,n){function r(e){this.options=e||{locator:{}}}r.prototype.parseFromString=function(e,t){var n=this.options;var r=new c;var i=n.domBuilder||new o;var s=n.errorHandler;var u=n.locator;var l=n.xmlns||{};var f={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};if(u){i.setDocumentLocator(u)}r.errorHandler=a(s,i,u);r.domBuilder=n.domBuilder||i;if(/\/x?html?$/.test(t)){f.nbsp="";f.copy="";l[""]="http://www.w3.org/1999/xhtml"}l.xml=l.xml||"http://www.w3.org/XML/1998/namespace";if(e){r.parse(e,l,f)}else{r.errorHandler.error("invalid doc source")}return i.doc};function a(e,t,n){if(!e){if(t instanceof o){return t}e=t}var r={};var a=e instanceof Function;n=n||{};function i(t){var o=e[t];if(!o&&a){o=e.length==2?function(n){e(t,n)}:e}r[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+s(n))}||function(){}}i("warning");i("error");i("fatalError");return r}function o(){this.cdata=false}function i(e,t){t.lineNumber=e.lineNumber;t.columnNumber=e.columnNumber}o.prototype={startDocument:function(){this.doc=(new f).createDocument(null,null,null);if(this.locator){this.doc.documentURI=this.locator.systemId}},startElement:function(e,t,n,r){var a=this.doc;var o=a.createElementNS(e,n||t);var s=r.length;l(this,o);this.currentElement=o;this.locator&&i(this.locator,o);for(var u=0;u<s;u++){var e=r.getURI(u);var c=r.getValue(u);var n=r.getQName(u);var f=a.createAttributeNS(e,n);this.locator&&i(r.getLocator(u),f);f.value=f.nodeValue=c;o.setAttributeNode(f)}},endElement:function(e,t,n){var r=this.currentElement;var a=r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&i(this.locator,n);l(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){e=u.apply(this,arguments);if(e){if(this.cdata){var r=this.doc.createCDATASection(e)}else{var r=this.doc.createTextNode(e)}if(this.currentElement){this.currentElement.appendChild(r)}else if(/^\s*$/.test(e)){this.doc.appendChild(r)}this.locator&&i(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){if(this.locator=e){e.lineNumber=0}},comment:function(e,t,n){e=u.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&i(this.locator,r);l(this,r)},startCDATA:function(){this.cdata=true},endCDATA:function(){this.cdata=false},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var a=r.createDocumentType(e,t,n);this.locator&&i(this.locator,a);l(this,a)}},warning:function(e){console.warn("[xmldom warning]\t"+e,s(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,s(this.locator))},fatalError:function(e){console.error("[xmldom fatalError]\t"+e,s(this.locator));throw e}};function s(e){if(e){return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}}function u(e,t,n){if(typeof e=="string"){return e.substr(t,n)}else{if(e.length>=t+n||t){return new java.lang.String(e,t,n)+""}return e}}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){o.prototype[e]=function(){return null}});function l(e,t){if(!e.currentElement){e.doc.appendChild(t)}else{e.currentElement.appendChild(t)}}var c=n(328).XMLReader;var f=t.DOMImplementation=n(118).DOMImplementation;t.XMLSerializer=n(118).XMLSerializer;t.DOMParser=r},function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]");var a=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$");var o=0;var i=1;var s=2;var u=3;var l=4;var c=5;var f=6;var p=7;function d(){}d.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument();_(t,t={});h(e,t,n,r,this.errorHandler);r.endDocument()}};function h(e,t,n,r,a){function o(e){if(e>65535){e-=65536;var t=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(t,n)}else{return String.fromCharCode(e)}}function i(e){var t=e.slice(1,-1);if(t in n){return n[t]}else if(t.charAt(0)==="#"){return o(parseInt(t.substr(1).replace("x","0x")))}else{a.error("entity not found:"+e);return e}}function s(t){if(t>_){var n=e.substring(_,t).replace(/&#?\w+;/g,i);p&&u(_);r.characters(n,0,t-_);_=t}}function u(t,n){while(t>=c&&(n=f.exec(e))){l=n.index;c=l+n[0].length;p.lineNumber++}p.columnNumber=t-l+1}var l=0;var c=0;var f=/.*(?:\r\n?|\n)|.*$/g;var p=r.locator;var d=[{currentNSMap:t}];var h={};var _=0;while(true){try{var S=e.indexOf("<",_);if(S<0){if(!e.substr(_).match(/^\s*$/)){var T=r.doc;var M=T.createTextNode(e.substr(_));T.appendChild(M);r.currentElement=M}return}if(S>_){s(S)}switch(e.charAt(S+1)){case"/":var C=e.indexOf(">",S+3);var k=e.substring(S+2,C);var I=d.pop();if(C<0){k=e.substring(S+2).replace(/[\s<].*/,"");a.error("end tag name: "+k+" is not complete:"+I.tagName);C=S+1+k.length}else if(k.match(/\s</)){k=k.replace(/[\s<].*/,"");a.error("end tag name: "+k+" maybe not complete");C=S+1+k.length}var P=I.localNSMap;var D=I.tagName==k;var N=D||I.tagName&&I.tagName.toLowerCase()==k.toLowerCase();if(N){r.endElement(I.uri,I.localName,k);if(P){for(var A in P){r.endPrefixMapping(A)}}if(!D){a.fatalError("end tag name: "+k+" is not match the current start tagName:"+I.tagName)}}else{d.push(I)}C++;break;case"?":p&&u(S);C=w(e,S,r);break;case"!":p&&u(S);C=x(e,S,r,a);break;default:p&&u(S);var O=new E;var R=d[d.length-1].currentNSMap;var C=v(e,S,O,R,i,a);var j=O.length;if(!O.closed&&b(e,C,O.tagName,h)){O.closed=true;if(!n.nbsp){a.warning("unclosed xml attribute")}}if(p&&j){var L=m(p,{});for(var F=0;F<j;F++){var z=O[F];u(z.offset);z.locator=m(p,{})}r.locator=L;if(y(O,r,R)){d.push(O)}r.locator=p}else{if(y(O,r,R)){d.push(O)}}if(O.uri==="http://www.w3.org/1999/xhtml"&&!O.closed){C=g(e,C,O.tagName,i,r)}else{C++}}}catch(e){a.error("element parse error: "+e);C=-1}if(C>_){_=C}else{s(Math.max(S,_)+1)}}}function m(e,t){t.lineNumber=e.lineNumber;t.columnNumber=e.columnNumber;return t}function v(e,t,n,r,a,d){var h;var m;var v=++t;var y=o;while(true){var g=e.charAt(v);switch(g){case"=":if(y===i){h=e.slice(t,v);y=u}else if(y===s){y=u}else{throw new Error("attribute equal must after attrName")}break;case"'":case'"':if(y===u||y===i){if(y===i){d.warning('attribute value must after "="');h=e.slice(t,v)}t=v+1;v=e.indexOf(g,t);if(v>0){m=e.slice(t,v).replace(/&#?\w+;/g,a);n.add(h,m,t-1);y=c}else{throw new Error("attribute value no end '"+g+"' match")}}else if(y==l){m=e.slice(t,v).replace(/&#?\w+;/g,a);n.add(h,m,t);d.warning('attribute "'+h+'" missed start quot('+g+")!!");t=v+1;y=c}else{throw new Error('attribute value must after "="')}break;case"/":switch(y){case o:n.setTagName(e.slice(t,v));case c:case f:case p:y=p;n.closed=true;case l:case i:case s:break;default:throw new Error("attribute invalid close char('/')")}break;case"":d.error("unexpected end of input");if(y==o){n.setTagName(e.slice(t,v))}return v;case">":switch(y){case o:n.setTagName(e.slice(t,v));case c:case f:case p:break;case l:case i:m=e.slice(t,v);if(m.slice(-1)==="/"){n.closed=true;m=m.slice(0,-1)}case s:if(y===s){m=h}if(y==l){d.warning('attribute "'+m+'" missed quot(")!!');n.add(h,m.replace(/&#?\w+;/g,a),t)}else{if(r[""]!=="http://www.w3.org/1999/xhtml"||!m.match(/^(?:disabled|checked|selected)$/i)){d.warning('attribute "'+m+'" missed value!! "'+m+'" instead!!')}n.add(m,m,t)}break;case u:throw new Error("attribute value missed!!")}return v;case"":g=" ";default:if(g<=" "){switch(y){case o:n.setTagName(e.slice(t,v));y=f;break;case i:h=e.slice(t,v);y=s;break;case l:var m=e.slice(t,v).replace(/&#?\w+;/g,a);d.warning('attribute "'+m+'" missed quot(")!!');n.add(h,m,t);case c:y=f;break}}else{switch(y){case s:var b=n.tagName;if(r[""]!=="http://www.w3.org/1999/xhtml"||!h.match(/^(?:disabled|checked|selected)$/i)){d.warning('attribute "'+h+'" missed value!! "'+h+'" instead2!!')}n.add(h,h,t);t=v;y=i;break;case c:d.warning('attribute space is required"'+h+'"!!');case f:y=i;t=v;break;case u:y=l;t=v;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}}v++}}function y(e,t,n){var r=e.tagName;var a=null;var o=e.length;while(o--){var i=e[o];var s=i.qName;var u=i.value;var l=s.indexOf(":");if(l>0){var c=i.prefix=s.slice(0,l);var f=s.slice(l+1);var p=c==="xmlns"&&f}else{f=s;c=null;p=s==="xmlns"&&""}i.localName=f;if(p!==false){if(a==null){a={};_(n,n={})}n[p]=a[p]=u;i.uri="http://www.w3.org/2000/xmlns/";t.startPrefixMapping(p,u)}}var o=e.length;while(o--){i=e[o];var c=i.prefix;if(c){if(c==="xml"){i.uri="http://www.w3.org/XML/1998/namespace"}if(c!=="xmlns"){i.uri=n[c||""]}}}var l=r.indexOf(":");if(l>0){c=e.prefix=r.slice(0,l);f=e.localName=r.slice(l+1)}else{c=null;f=e.localName=r}var d=e.uri=n[c||""];t.startElement(d,f,r,e);if(e.closed){t.endElement(d,f,r);if(a){for(c in a){t.endPrefixMapping(c)}}}else{e.currentNSMap=n;e.localNSMap=a;return true}}function g(e,t,n,r,a){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t);var i=e.substring(t+1,o);if(/[&<]/.test(i)){if(/^script$/i.test(n)){a.characters(i,0,i.length);return o}i=i.replace(/&#?\w+;/g,r);a.characters(i,0,i.length);return o}}return t+1}function b(e,t,n,r){var a=r[n];if(a==null){a=e.lastIndexOf("</"+n+">");if(a<t){a=e.lastIndexOf("</"+n)}r[n]=a}return a<t}function _(e,t){for(var n in e){t[n]=e[n]}}function x(e,t,n,r){var a=e.charAt(t+2);switch(a){case"-":if(e.charAt(t+3)==="-"){var o=e.indexOf("--\x3e",t+4);if(o>t){n.comment(e,t+4,o-t-4);return o+3}else{r.error("Unclosed comment");return-1}}else{return-1}default:if(e.substr(t+3,6)=="CDATA["){var o=e.indexOf("]]>",t+9);n.startCDATA();n.characters(e,t+9,o-t-9);n.endCDATA();return o+3}var i=T(e,t);var s=i.length;if(s>1&&/!doctype/i.test(i[0][0])){var u=i[1][0];var l=s>3&&/^public$/i.test(i[2][0])&&i[3][0];var c=s>4&&i[4][0];var f=i[s-1];n.startDTD(u,l&&l.replace(/^(['"])(.*?)\1$/,"$2"),c&&c.replace(/^(['"])(.*?)\1$/,"$2"));n.endDTD();return f.index+f[0].length}}return-1}function w(e,t,n){var r=e.indexOf("?>",t);if(r){var a=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(a){var o=a[0].length;n.processingInstruction(a[1],a[2]);return r+2}else{return-1}}return-1}function E(e){}E.prototype={setTagName:function(e){if(!a.test(e)){throw new Error("invalid tagName:"+e)}this.tagName=e},add:function(e,t,n){if(!a.test(e)){throw new Error("invalid attribute:"+e)}this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};function S(e,t){e.__proto__=t;return e}if(!(S({},S.prototype)instanceof S)){S=function(e,t){function n(){}n.prototype=t;n=new n;for(t in e){n[t]=e[t]}return n}}function T(e,t){var n;var r=[];var a=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;a.lastIndex=t;a.exec(e);while(n=a.exec(e)){r.push(n);if(n[1])return r}}t.XMLReader=d},function(e,t){},function(e,t,n){n(121);n(120);e.exports=n(119)}]);